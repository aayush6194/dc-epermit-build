(this.webpackJsonpparkstash=this.webpackJsonpparkstash||[]).push([[0],{106:function(e,t,n){},150:function(e){e.exports=JSON.parse('{"USER":"USER"}')},198:function(e,t,n){e.exports=n.p+"static/media/car.c8dd5726.svg"},306:function(e,t,n){e.exports=n.p+"static/media/loader.5a306b20.svg"},307:function(e,t,n){e.exports=n.p+"static/media/parkstash_logo.ab0d6bfb.png"},309:function(e,t,n){e.exports=n.p+"static/media/message3.10cb2302.svg"},310:function(e,t,n){e.exports=n.p+"static/media/empty.3e935ffe.svg"},312:function(e,t,n){e.exports=n.p+"static/media/parkstash_logo.ab1ee9fd.svg"},338:function(e){e.exports=JSON.parse('{"title":"Occupancy","timeSeriesQuery":{"metricType":"garage_occupancy_count","resourceIds":[],"crossSeriesReducer":"NONE","alignment":null},"backgroundColor":"#FFFFFF","xAxisLabel":"T","yAxisLabel":"Occupancy","types":["multiLine","stackedBar","stackedArea"]}')},340:function(e,t,n){e.exports=n.p+"static/media/announ.7c05f84e.svg"},341:function(e){e.exports=JSON.parse('{"title":"Revenue","timeSeriesQuery":{"metricType":"garage_occupancy_count","resourceIds":[],"crossSeriesReducer":"SUM","alignment":null},"backgroundColor":"#FFFFFF","xAxisLabel":"T","yAxisLabel":"Revenue","types":["combined"]}')},342:function(e,t,n){e.exports=n.p+"static/media/events.0b4f517d.svg"},343:function(e,t,n){e.exports=n.p+"static/media/profilee.c9733686.svg"},344:function(e,t,n){e.exports=n.p+"static/media/login.9ab46960.svg"},348:function(e,t,n){e.exports=n.p+"static/media/email.4be984e8.svg"},349:function(e,t,n){e.exports=n.p+"static/media/otp.65b29cd8.svg"},350:function(e,t,n){e.exports=n.p+"static/media/university.22150a8c.svg"},351:function(e,t,n){e.exports=n.p+"static/media/wait.edf991a2.svg"},352:function(e,t,n){e.exports=n.p+"static/media/login-bg.c9ae724f.svg"},353:function(e){e.exports=JSON.parse('{"title":"Occupancy","timeSeriesQuery":{"metricType":"garage_occupancy_count","resourceIds":[],"crossSeriesReducer":"NONE","alignment":null},"backgroundColor":"#FFFFFF","xAxisLabel":"T","yAxisLabel":"Occupancy","types":["multiLine","stackedBar","stackedArea"]}')},369:function(e,t,n){e.exports=n(617)},61:function(e){e.exports=JSON.parse('{"UNAUTH":"UNAUTH","ENTERPISE_PENDING":"ENTERPISE_PENDING","ENTERPISE_SELECT":"ENTERPRISE_SELECT","APPROVED":"APPROVED"}')},617:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),o=n.n(c),i=n(2),l=n(7),s=n(12),u=n(13),d="linear-gradient(to left, #00D69E, #00BAA4, #009CA0, #007F90, #1E6378, #2F4858)",m=function(e){var t=e.cols,n=e.customCols,a=e.customRows,r=e.gridGap,c=e.mobileCols,o=e.mobileLayout,i=e.placeItems,l=e.hideOnMobile;return"\n    display: grid;\n    grid-gap: ".concat(r||"1em"," ;\n    grid-template-columns: repeat(").concat(t||"1",", 1fr);\n    ").concat(n?"grid-template-columns: ".concat(n,";"):"","\n    ").concat(a?"grid-template-rows: ".concat(a,";"):"","\n    place-items: center;\n    ").concat(i?"place-items: ".concat(i,";"):"","\n    @media(max-width: ").concat("860px","){\n        ").concat(l?"display: none; !important":"","\n        ").concat(!1!==o?"grid-template-columns: 1fr;":"","\n        ").concat(c?"grid-template-columns: ".concat(c,";"):"","  \n    }\n")},p=function(e,t){var n=e.color,a=e.size,r=e.bold,c=e.textAlign,o=e.placeSelf,i=e.textShadow;return"\n    text-align: ".concat(c||"center",";\n    ","color : ".concat(n||"#32325D"),";\n    font-size: ").concat(a||"1em",";\n    ").concat(i?"text-shadow: 1.2px 1.2px 2px black;":"","\n    font-weight: ").concat(r?"bolder":"normal",";\n    ").concat(o?"place-self: ".concat(o,";"):"")},f=function(e){var t=e.width,n=e.height,a=(e.max,e.padding),r=e.margin,c=e.minWidth;return"\n    width: ".concat(t||"auto",";\n    min-width : ").concat(c||"auto",";\n    height: ").concat(n||"auto",";\n    margin: ").concat(r||"0"," ;\n    padding: ").concat(a||"0",";\n\n")},g=function(e){var t=e.shadow,n=e.rounded,a=(e.bg,e.background),r=e.hideOnMobile,c=e.cursor;return"\n    ".concat(t?"box-shadow: 0 .25em .5em rgba(0,0,0,.5);":"","\n    pointer : ").concat(c?"cursor":"default",";\n    transition: 200ms ease-out;\n    border-radius: ").concat(n?"1.2em":".25em",";\n    border: 0px;\n    ").concat(a?"background: ".concat(a,";"):"","\n    background-repeat: no-repeat;\n    @media(max-width: ").concat("860px","){\n        ").concat(r?"display: none;":"","\n    }\n")},v=function(e){var t=e.style,n=e.className,a=e.onClick,r=e.ref;return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},t?{style:t}:{}),n?{className:n}:{}),a?{onClick:a}:{}),r||{})};function h(){var e=Object(s.a)(["\n  ","\n  ","\n"]);return h=function(){return e},e}var b=u.b.div(h(),(function(e){return"\n    ".concat(e.grid?m(e):"","\n    ").concat(p(e),"\n    ").concat(g(e))}),(function(e){var t=e.hover,n=e.bgColor,a=e.invert,r=e.minWidth,c=e.padding,o=e.margin,i=e.width;return"\n  background: ".concat(a?"#33B482":n||"white",";\n    ").concat(f({margin:o,padding:c,minWidth:r,width:i}),"\n    ").concat(t&&"&:hover { \n        transform: scale(1.1); \n    }\n    ")})),E=function(e){var t=e,n=t.border,a=t.children,c=t.shadow,o=void 0!==c&&c,l=t.invert,s=void 0!==l&&l,u=t.selected,d=e,m=d.margin,p=void 0===m?"1em .5em":m,f=d.padding,g=void 0===f?".8em 1em":f,h=d.minWidth,E=void 0===h?"3em":h,y=d.width;e=Object(i.a)(Object(i.a)({},e),{margin:p,width:y,padding:g,minWidth:E});var O=v(e),S={boxShadow:u?"0 .25em .5em dodgerblue":!1===o?"":"0 .25em .5em rgba(0,0,0,.5)",color:s?"#FFFFFF":"#32325D",border:n?"".concat(n," solid"):""};return r.a.createElement(b,Object.assign({},e,{style:S},O),a)};function y(){var e=Object(s.a)(["\n","\n",""]);return y=function(){return e},e}var O=u.b.h1(y(),(function(e){return f(e.styleProps)}),(function(e){return p(e.fontProps)})),S=function(e){var t=e.children,n=e.style,a=e.className,c=e.onClick,o={width:e.width,height:e.height,max:e.max,padding:e.padding,margin:e.margin,minWidth:e.minWidth},i=e.inverted?"#FFFFFF":"#32325D",l=e.size,s=e.color,u={size:"number"===typeof l?(6-l)/2+"rem":l||"1.5em",color:void 0===s?i:s,bold:e.bold,textAlign:e.textAlign,placeSelf:e.placeSelf,textShadow:e.textShadow};return r.a.createElement(O,{styleProps:o,fontProps:u,onClick:c,className:a,style:n},t)},x=n(55),w=(n(106),n(306)),j=n.n(w),H=n(307),C=n.n(H);function k(){var e=Object(s.a)(["\n  animation: "," 800ms ease-out infinite;\n"]);return k=function(){return e},e}function A(){var e=Object(s.a)(["\n0% { \n  transform: scale(0.9);\n  filter: drop-shadow(3px 4px 6px teal); \n}\n100% {\n  transform: scale(1);\n  filter: drop-shadow(0px 0px 0px white); \n}"]);return A=function(){return e},e}function N(){var e=Object(s.a)(["\n  position: absolute;\n  left: calc(50% - 70px);\n  top: calc(50% - 70px);\n  display: inline-block;\n"]);return N=function(){return e},e}var T=u.b.div(N()),I=function(){return r.a.createElement(T,{className:"blue-txt"},r.a.createElement("img",{width:"70",src:j.a,alt:"A Loader"}))},R=Object(u.c)(A()),M=u.b.img(k(),R);I.Parkstash=function(){return r.a.createElement(T,null,r.a.createElement(M,{width:"70",src:C.a,alt:"A Loader"}))},I.Spinner=function(e){var t=e.size,n=void 0===t?2:t,a=e.color,c=void 0===a?"inherit":a,o=(6-n<0?1:6-n)/2+"em";return r.a.createElement("i",{className:"fa fa-spinner spin",style:{fontSize:o,color:c}})};var L=I,D=n(8),P=n.n(D),F=n(17);function G(){var e=Object(s.a)(["\n  ","\n"]);return G=function(){return e},e}function _(){var e=Object(s.a)(["\n  ","\n"]);return _=function(){return e},e}var U=u.b.div(_(),(function(e){return"\n    ".concat(m(e),"\n    ").concat(f(e),"\n    ").concat(p(e),"\n    ").concat(e.background&&"background: ".concat(e.background,";"))})),B=function(e){var t=e.children,n=v(e);return r.a.createElement(U,Object.assign({},e,n),t)},W=u.b.div(G(),(function(e){return"\n     ".concat(f(e),"\n     ").concat(m(e),"   \n     ").concat(e.gridRowStart&&"grid-row-start: ".concat(e.gridRowStart,";"),"\n     ").concat(e.gridColumnStart&&"grid-column-start: ".concat(e.gridColumnStart,";"),"\n     ").concat(e.background&&"background: ".concat(e.background,";"),"\n     ").concat(p(e),"\n     ").concat(g(e))}));B.Item=function(e){var t=v(e);return r.a.createElement(W,Object.assign({},e,t)," ",e.children," ")};var z=B,Y=n(99);function V(){var e=Object(s.a)(["\n  padding: 0.3rem;\n  color: white;\n  cursor: pointer;\n  background: ",";\n  border: 0.15em solid ",";\n  border-radius: 0.25em;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25), 0 3px 3px rgba(0, 0, 0, 0.22);\n  &:focus {\n    outline: 0;\n  }\n  ","\n"]);return V=function(){return e},e}function J(){var e=Object(s.a)(["\n  ","\n  ","\n  ","\n  ",""]);return J=function(){return e},e}var Q=u.b.button(J(),(function(e){return g(e)}),(function(e){return f(e)}),(function(e){return p(e)}),(function(e){var t=e.bg,n=e.invert,a=e.disabled,r=e.color,c=e.noBorder,o=e.noHover;return"\n  background:  ".concat(t||"#33B482",";\n  border: 2px solid ").concat(c?"white":t||"#33B482",";\n  color : ").concat(t?"white":r||"white",";\n  cursor: pointer;\n  box-shadow: 0 3px 1px -2px rgba(0,0,0,0.2), 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12);\n  ").concat(n?"background: white; color: ".concat("#33B482",";"):"","\n  ").concat(t&&n?"background: white; color: ".concat("white"!==t?t:"#33B482",";"):"","\n  ").concat(a?"background: #F0F3F4; border-color: #F0F3F4; color: darkgray;":"\n    &:hover {\n      ".concat(o?"":"\n        border-color: ".concat(t||"#33B482",";\n        background: ").concat(n?t||"#33B482":r||"white",";\n        color: ").concat(t?n?"white":t:n?r||"white":"#33B482",";"),"\n      box-shadow: 0 0 0 0;\n      transform: scale(0.99);\n      transition: 350ms ease-out;\n  }"),"\n\n&:focus{\n    outline:0;\n}")})),q=function(e){var t=e,n=t.onSubmit,a=t.children,c=t.margin,o=void 0===c?"0.15em":c,l=t.padding,s=void 0===l?"0.3em 0.4em":l,u=t.minWidth,d=void 0===u?"6.5em":u,m=t.disabled,p=t.loading,f=void 0!==p&&p,g=t.noHover,h=void 0!==g&&g,b=t.tooltip,E=e,y=E.color,O=E.size,S=E.bold,x=E.textAlign,w=E.placeSelf,j=E.textShadow,H=(E.noBorder,E.faIcon),C={color:y,size:O,bold:S,textAlign:x,placeSelf:w,textShadow:j};return e=Object(i.a)(Object(i.a)({},e),{margin:o,padding:s,minWidth:d,noHover:h}),r.a.createElement(Y.a,{title:b},r.a.createElement(Q,Object.assign({type:e.type||"submit"},e,{fontProps:C,disabled:m,onSubmit:n},v(e)),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(L.Spinner,{size:4}),"\xa0"),H&&r.a.createElement("i",{className:H}),a))};q.Normal=u.b.button(V(),"#33B482","#33B482",(function(e){return e.disabled?"background: #F0F3F4; border-color: #F0F3F4; color: darkgray; box-shadow: 0 0 0 !important;":"&:hover {\n    background: white;\n    color: ".concat("#33B482",";\n    box-shadow: 0 0 0 0;\n    transform: scale(0.99);\n    transition: 350ms ease-out;\n}")}));var X=q;function K(){var e=Object(s.a)(["\n    object-fit: cover;\n    width: 8em;\n    padding: .5em;\n    height: 8em;\n"]);return K=function(){return e},e}var $=u.b.img(K()),Z=function(e){var t=e.url,n=e.src,a=e.large,c=e.style,o=e.medium,l=e.className;return c=Object(i.a)(Object(i.a)({},c),a?{borderWidth:"4px",width:"15em",maxHeight:"90vw",height:"15em"}:o?{}:{width:"3em",height:"3em"}),r.a.createElement($,{className:l,src:t||n,style:c})};function ee(){var e=Object(s.a)(["\n","\nbackground: linear-gradient(90deg, rgba(210,210,210,0.5) 0%, rgba(238,238,238,0.7) 100%);\nborder-radius: 10px;\nanimation: "," 0.8s infinite;"]);return ee=function(){return e},e}function te(){var e=Object(s.a)(["{\nfrom {width: 0% }\nto {width: 100%;}}"]);return te=function(){return e},e}function ne(){var e=Object(s.a)(["\nbox-sizing: border-box;\nmargin: 1em 0;\nwidth: 100%;\nheight: 9vw;\nmin-height: 8em;\nbackground-color: #F8F9F9;\nbox-shadow: 1px 4px 23px 3px rgba(0,0,0, 0.2);\nborder-radius: .25em;\npadding: 3vw 4vw;\ndisplay: flex;\nflex-direction: column;\njustify-content: space-between;"]);return ne=function(){return e},e}var ae=u.b.div(ne()),re=Object(u.c)(te()),ce=u.b.div(ee(),(function(e){return"height: ".concat(e.height,"%;")}),re),oe=function(e){var t=e.style,n=e.number,a=void 0===n?1:n,c=e.lines,o=void 0===c?3:c;return r.a.createElement(r.a.Fragment,null,Object(x.a)(new Array(a)).map((function(e,n){return r.a.createElement(ae,{style:t,key:n},Object(x.a)(new Array(o)).map((function(e,t){return r.a.createElement(ce,{key:t,height:55/o})})))})))},ie=function(e,t){var n=Object(a.useState)(e),r=Object(l.a)(n,2),c=r[0],o=r[1],i=Object(a.useState)(0),s=Object(l.a)(i,2),u=s[0],d=s[1],m=Math.ceil(c/t),p=u>0,f=u<m-1;return Object(a.useEffect)((function(){return o(e)}),[e]),{page:u,needsPagination:m>1,canGoBack:p,canGoForward:f,actions:{forward:function(){return f&&d(u+1)},backward:function(){return p&&d(u-1)}}}},le=function(e){var t=e.loading,n=void 0!==t&&t,a=e.pagination,c=e.list,o=e.loader,i=void 0===o?r.a.createElement(I.Spinner,{color:"inherit"}):o,l=e.emptyText,s=void 0===l?"No Data":l,u=e.empty,d=void 0===u?r.a.createElement(Je,{text:s,color:"white",style:{marginTop:0}}):u,m=e.map,p=ie(c.length,a?a.items:0),f=p.page,g=p.canGoBack,v=p.canGoForward,h=p.actions,b=p.needsPagination;return n?i:0===(null===c||void 0===c?void 0:c.length)?d:a?r.a.createElement(r.a.Fragment,null,c.filter((function(e,t){return a.items*(f+1)>=t+1&&t>=a.items*f})).map(m),b&&r.a.createElement("div",{style:{placeSelf:"end",gridColumn:"1/-1",height:"100%"}},r.a.createElement("i",{onClick:h.backward,style:{color:g?"":"gray"},className:"fa fa-chevron-left"}),"\xa0 \xa0",r.a.createElement("i",{style:{color:v?"":"gray"},className:"fa fa-chevron-right",onClick:h.forward}))):r.a.createElement(r.a.Fragment,null,c.map(m))};function se(){var e=Object(s.a)(["\n    0% { \n      transform: scale(0.9);\n      filter: drop-shadow(3px 4px 6px teal); \n    }\n    100% {\n      transform: scale(1);\n      filter: drop-shadow(0px 0px 0px white); \n    }"]);return se=function(){return e},e}function ue(){var e=Object(s.a)(["\n    0% { \n      transform: translateX(-15rem);\n    }\n    100% {\n      transform: translateX(0);\n    }"]);return ue=function(){return e},e}function de(){var e=Object(s.a)(["\n    0% { \n      transform: translateX(15rem);\n    }\n    100% {\n      transform: translateX(0);\n    }"]);return de=function(){return e},e}function me(){var e=Object(s.a)(["\n  0% {\n    opacity: 0;\n  }\n  100% {\n   opacity: 1;\n  }\n"]);return me=function(){return e},e}Object(u.c)(me());var pe=Object(u.c)(de());Object(u.c)(ue()),Object(u.c)(se());function fe(){var e=Object(s.a)(["\ntransition: 200ms ease-out;\nanimation:  "," 200ms ease-out;\n","\n",""]);return fe=function(){return e},e}var ge=u.b.div(fe(),pe,f({width:"14rem",minHeight:"4rem",margin:".5em",padding:".6em"}),g({shadow:!0,background:"white"})),ve=function(e){var t=e.type,n=e.position,a=t+"-container-"+n||"top-right",r=null!==document.getElementById(a),c=document.getElementById(a)||document.createElement("div"),o=document.createElement("div"),i=document.getElementById("root");return r||(c.setAttribute("id",a),c.classList.add(n||"top-right"),null===i||void 0===i||i.appendChild(c)),c.prepend(o),{container:c,child:o}},he=function(e,t){var n=t.title,a=t.message,c=t.position,i=t.visibilityTime,l=ve({type:"notification",position:c}),s=l.container,u=l.child,d=function(){try{s.removeChild(u)}catch(e){console.log(e)}},m=r.a.createElement(ge,{id:"111"},r.a.createElement(z,{customCols:"auto 1fr",textAlign:"left"},r.a.createElement(be,{type:e}),r.a.createElement("div",{style:{placeSelf:"stretch"},className:e},r.a.createElement("header",{style:{textOverflow:"ellipsis"}},n,r.a.createElement("i",{className:"fa fa-times right","aria-hidden":"true",onClick:d,style:{color:"darkgray",placeSelf:"start"}})),r.a.createElement("div",{style:{textOverflow:"ellipsis"}},a))));setTimeout((function(){return d()}),i||3300),o.a.render(m,u)},be=function(e){var t;switch(e.type){case"warning":t="fa fa-exclamation-triangle warning";break;case"error":t="fa fa-exclamation-circle error";break;default:t="fa fa-check-circle success"}return r.a.createElement("i",{className:t,"aria-hidden":"true",style:{placeSelf:"start"}})},Ee=function(e){return he("success",e)},ye=function(e){return he("error",e)},Oe=n(309),Se=n.n(Oe);function xe(){var e=Object(s.a)(["\n    color: white;\n    minHeight: 5em;\n    padding: .0em;\n    display: grid;\n    place-items: center;\n    grid-template-rows: 1fr auto;\n    font-weight: bolder;\n    background-image: linear-gradient(rgba(208, 211, 212 , 0.7), rgba(32, 100, 78 , 0.6)), url(",");\n    border-bottom-right-radius: .75em;\n    border-bottom-left-radius: .75em;\n"]);return xe=function(){return e},e}function we(){var e=Object(s.a)(["\n    color: white;\n    background-image: linear-gradient( ",", rgba(50, 150, 178, 0.8));\n    border-top-right-radius: .75em;\n    border-top-left-radius: .75em;\n    border: 0;\n    margin: 0;\n    height: 2.5em;"]);return we=function(){return e},e}function je(){var e=Object(s.a)(["\n    margin: 2% auto;\n    background: white;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    border-radius: 1em;\n    width: 80%;\n    display: grid;\n    place-items: stretch;\n    grid-template-rows: auto 1fr;\n    text-align: center;\n    font-size: 1.2em;\n    padding: 0;\n    min-height: 260px;\n    max-width: 900px;\n    color: black;\n    @media(max-width: ","){\n    position: absolute;\n    bottom: 90px;\n    width: 90vw;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n    transform: translateX(-50%)\n    }"]);return je=function(){return e},e}function He(){var e=Object(s.a)(["\n    background: ",";"]);return He=function(){return e},e}function Ce(){var e=Object(s.a)(["\n    position: fixed;\n    z-index: 20;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    transition: 200ms ease-out;\n    background-color: rgba(0,0,0,0.5);"]);return Ce=function(){return e},e}var ke=u.b.div(Ce()),Ae=(u.b.button(He(),"#33B482"),u.b.div(je(),"860px")),Ne=u.b.div(we(),"#33B482"),Te=u.b.div(xe(),Se.a),Ie=function(e){var t=e.title,n=e.message,a=e.hideCancel,c=e.position,i=ve({type:"modal",position:void 0===c?"top-center":c}),l=i.container,s=i.child,u=function(){try{l.removeChild(s),o.a.unmountComponentAtNode(s)}catch(e){console.log(e)}},d=r.a.createElement(ke,null,r.a.createElement(Ae,{className:"appear"},r.a.createElement(Ne,{style:{placeSelf:"stretch"}},r.a.createElement(z,{customCols:"1fr auto",textAlign:"left"},r.a.createElement("header",{style:{textOverflow:"ellipsis",color:"white"}},t),r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true",onClick:u,style:{color:"white",placeSelf:"center",padding:".5em"}}))),r.a.createElement(Te,null,"string"===typeof n||r.a.isValidElement(n)?n:"Error",!a&&r.a.createElement("div",null,r.a.createElement(X,{shadow:!0,onClick:u},"Cancel")))));return{close:u,open:function(){l.contains(s)||l.appendChild(s),o.a.render(d,s)}}};function Re(){var e=Object(s.a)(["\n","\n",""]);return Re=function(){return e},e}var Me=u.b.div(Re(),(function(e){return f(e)}),(function(e){return p(e)})),Le=function(e){var t=e.children,n=e.style,a=e.className,c=e.onClick,o={width:e.width,height:e.height,max:e.max,padding:e.padding,margin:e.margin,minWidth:e.minWidth},i=e.size,l=e.color,s={size:"number"===typeof i?(6-i)/3+"rem":i||"1em",color:void 0===l?"#32325D":l,bold:e.bold,textAlign:e.textAlign||"left",placeSelf:e.placeSelf,textShadow:e.textShadow};return r.a.createElement(Me,Object.assign({},e,{styleProps:o,fontProps:s,onClick:c,className:a,style:n}),t)},De=function(e){var t=e.onClick,n=e.active,a=e.items,c=e.style;return r.a.createElement(z,{padding:".5em",style:c},r.a.createElement("div",{className:"shadow noselect",style:{background:"#CDF7E0",padding:".2em",borderRadius:"1.5em"}},a.map((function(e){return r.a.createElement(_e,{key:e,style:{borderRadius:"1.5em"},active:n===e,onClick:function(){return t(e)}},e.charAt(0).toUpperCase()+e.substring(1).toLowerCase().replace(/_/g," "))}))))};De.underlined=function(e){var t=e.onClick,n=e.active,a=e.items,c=e.style;return r.a.createElement(z,{padding:".5em",style:c,className:"noselect",cols:"3",mobileLayout:!1},a.map((function(e){return r.a.createElement(Le,{bold:!0,color:"white",key:e,width:"100%",className:"pointer",style:{borderBottom:n===e?"2px solid white":"",fontSize:"1.2em"},onClick:function(){return t(e)}},e.charAt(0).toUpperCase()+e.substring(1).toLowerCase().replace(/_/g," "))})))};var Pe=De;function Fe(){var e=Object(s.a)(["\n  ","\n"]);return Fe=function(){return e},e}var Ge=u.b.span(Fe(),(function(e){return"\n    cursor : pointer;\n    padding: .3em .5em;\n    font-size: 1.05em;\n    text-transform: capitalize;\n    transition: 400ms ease-out;\n    color: ".concat("#33B482",";\n    ").concat(e.fullWidth?"width: 100%;":"","\n    border-radius: ").concat(e.fullWidth?0:"1.5em","; \n    font-weight: bold;\n    ").concat(e.active&&"\n        border-radius: ".concat(e.fullWidth?0:".6em",";\n        box-shadow: 0 .13em .2em rgba(0,0,0,.5);\n        background: ").concat(e.inverted?"white":"#33B482","; color: ").concat(e.inverted?"#33B482":"white"))})),_e=function(e){return r.a.createElement(Ge,Object.assign({},v(e),e),e.children)};function Ue(){var e=Object(s.a)(["\n    border-radius: .5em;\n    background: ",";\n    font-size: .8em;\n    color: white;\n    margin: .2em;\n    text-transform: capitalize;\n    padding .3em .6em;\n    ",""]);return Ue=function(){return e},e}var Be=function(e){var t=e.disabled,n=void 0!==t&&t,a=e.inverted,c=void 0!==a&&a,o=e.children,i=e.bold,l=void 0!==i&&i,s=e.onClick,u=e.style,d=e.className;return r.a.createElement(We,{className:d+" noselect",style:u,bold:l,onClick:s,disabled:n,inverted:c},o)},We=u.b.span(Ue(),"#33B482",(function(e){return"\n    ".concat(e.bold?"font-weight: bolder;":"","\n    ").concat(e.inverted?"background: white !important;\n        color: ".concat("#33B482",";\n        padding .1em .4em;\n        border: .2em solid ").concat("#33B482",";\n         color: ").concat("#33B482",";"):e.disabled?"background: ".concat("gray","; \n        color: white;"):"","   \n    ")})),ze=Be,Ye=n(310),Ve=n.n(Ye),Je=function(e){var t=e.text,n=void 0===t?"No Data":t,a=e.style,c=void 0===a?{}:a,o=e.color,l=void 0===o?"inherit":o;return r.a.createElement(z,{customRows:"auto auto",width:"100%"},r.a.createElement("img",{src:Ve.a,style:Object(i.a)({maxWidth:"40vw",width:"200px",marginTop:"10vh"},c)}),r.a.createElement(S,{bold:!0,color:l,style:{lineHeight:"1em"}},n))},Qe=n(110),qe=n(33),Xe=n(16),Ke=n(192),$e=n(193),Ze=n(221),et=n(216),tt={sidebar:!1,toggleSidebar:function(){},collapsed:!0,toggleCollapsed:function(){}},nt=Object(a.createContext)(tt),at=function(e){Object(Ze.a)(n,e);var t=Object(et.a)(n);function n(){var e;Object(Ke.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toggleSidebar=function(){e.setState({sidebar:!e.state.sidebar})},e.toggleCollapsed=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e.setState({collapsed:t})},e.state=Object(i.a)(Object(i.a)({},tt),{},{toggleSidebar:e.toggleSidebar,toggleCollapsed:e.toggleCollapsed}),e}return Object($e.a)(n,[{key:"render",value:function(){return r.a.createElement(nt.Provider,{value:this.state},this.props.children)}}]),n}(r.a.Component);nt.Consumer;function rt(){var e=Object(s.a)(["\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  font-size: .8em;\n  display: grid;\n  padding: .3em;\n  position: fixed;\n  z-index: 100;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  color: ",";\n  ","\n  grid-template-rows: repeat(16, auto);\n  align-items: center;\n  justify-items: stretch;\n  transition: 100ms ease-out;\n  background-color: white;\n  background-image: url(",");\n  background-attachment: fixed;\n  @media (max-width: ",") {\n    height: 55px;\n    width: 100vw;\n    top: inherit;\n    bottom: 0;\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n    grid-template-rows: 1fr;\n  }\n"]);return rt=function(){return e},e}function ct(){var e=Object(s.a)(["\n  display: grid;\n  text-decoration: none;\n  place-items: center;\n  color: ",";\n  font-size: 1.35em;\n  cursor: pointer;\n  padding: .8em .4em;\n\n  @media(max-width: ","){\n    border-left: 0 !important;\n    grid-template-columns: 1fr;\n    padding-left: .3em;\n  }\n\n  &:hover "," {\n    color: ",";\n    animation : "," 300ms ease-out;\n    transform: scaleX(1);\n  }"]);return ct=function(){return e},e}function ot(){var e=Object(s.a)(["from { transform: scaleX(0); } to { transform: scaleX(1);}"]);return ot=function(){return e},e}function it(){var e=Object(s.a)(["transform: scaleX(0);"]);return it=function(){return e},e}var lt,st=u.b.hr(it()),ut=Object(u.c)(ot()),dt=Object(u.b)(Qe.c)(ct(),"#32325D","860px",st,"#33B482",ut),mt=u.b.div(rt(),"#33B482",(function(e){var t=e.collapsed;return"width: ".concat(t?"6em":"17em",";")}),(function(e){return e.background}),"860px"),pt=function(){var e=Object(Xe.d)((function(e){return e.user})),t=e.user,n=e.role,c=Object(Xe.d)((function(e){return e.user.enterprise})),o=Object(a.useContext)(nt),l=o.collapsed,s=o.toggleCollapsed,u=Object(qe.f)().pathname,d={borderLeft:".3em solid #33B482",color:"#33B482"},m=l?"hide":"";return r.a.createElement("div",{onMouseLeave:function(){return s(!0)},onMouseEnter:function(){return s(!1)}},r.a.createElement(mt,{background:"",collapsed:l},r.a.createElement(z.Item,{hideOnMobile:!0},r.a.createElement(Z,{medium:!l,src:c.imageUrl}),r.a.createElement("span",{className:"txt-md txt-center grid "+m},r.a.createElement("div",{className:"capitalize"}," ",t.name),r.a.createElement(Be,{style:{fontSize:".7em",padding:".1em .4em",borderWidth:2},inverted:!0,className:"shadow capitalize "+m},n||"member"))),[{to:["/","/overview"],name:"Overview",icon:"fa fa-heartbeat"},{to:["/garages"],name:"Garages",icon:"fas fa-warehouse"},{to:["/announcements"],name:"Announcements",icon:"fas fa-bullhorn"},{to:["/controls"],name:"Controls",icon:"fas fa-cog"},{to:["/citations"],name:"Citation",icon:"fas fa-money-check-alt"},{to:["/events"],name:"Events",icon:"fa fa-calendar"},{to:["/profile"],name:"Profile",icon:"fas fa-user"}].map((function(e){var t,n=e.to,a=e.name,c=e.icon;return r.a.createElement(dt,{key:a,collapsed:l,style:Object(i.a)({gridTemplateColumns:l?"1fr":"auto 1fr"},n.includes(u)?d:{}),to:n[0]||"/",active:(t=n.reduce((function(e,t){return e||!1}),!1),String(t))},r.a.createElement("i",{style:{fontSize:"1.6em",padding:"0 .3em"},className:c}),r.a.createElement("div",{className:"txt-center hide-mobile "+m},a),r.a.createElement("div",{style:{height:"2px"}}),r.a.createElement("div",{style:{width:"100%",height:"2px"}},r.a.createElement(st,null)))}))))},ft=n(312),gt=n.n(ft),vt=n(629),ht=n(653),bt=n(119),Et=n(150),yt=n(61),Ot={user:{},enterprise:{},error:!1,loading:!1,userState:yt.UNAUTH};!function(e){e.LOGIN="LOGIN",e.AUTH="AUTH",e.LOGOUT="LOGOUT",e.SIGNUP="SIGNUP",e.ADD_ENTERPISE="ADD_ENTERPISE",e.PASSWORD_RESET="PASSWORD_RESET",e.FORGOT_PASSWORD="FORGOT_PASSWORD",e.GET_ENTERPRISE="GET_ENTERPRISE",e.USER_REQUEST_FAILED="USER_REQUEST_FAILED",e.USER_REQUEST_PENDING="USER_REQUEST_PENDING",e.USER_REQUEST_SUCCESS="USER_REQUEST_SUCCESS",e.RESET_ERROR="RESET_ERROR"}(lt||(lt={}));var St=function(e){return e&&void 0!==e&&void 0!==e.apps?"onboardRequestRequired"===e.apps.enterpriseApp?yt.ENTERPISE_SELECT:"onboarding"===e.apps.enterpriseApp?yt.ENTERPISE_PENDING:yt.APPROVED:yt.UNAUTH};function xt(){return{"Content-Type":"application/json",authtoken:localStorage.getItem(Et.USER)||""}}var wt=function(e){return new Promise((function(t){return setTimeout(t,e)}))},jt=function(){var e=Object(F.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wt(800);case 2:return e.abrupt("return",t.json());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ht=function(e){return e.json()};function Ct(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(n?jt:Ht)}function kt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return fetch(e,{method:"GET",headers:xt()}).then(t?jt:Ht)}function At(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return fetch(e,{method:"POST",headers:xt(),body:JSON.stringify(t)}).then(n?jt:Ht)}var Nt=function(e){return"https://test.findparkstash.com/api"+e},Tt=function(){return kt(Nt("/v1/users/me"),!1)},It=function(e){return kt(Nt("/v1/enterprises/".concat(e,"/garages")))},Rt=function(e,t){return kt(Nt("/v1/enterprises/".concat(e,"/metrics/timeSeries?timeSeriesQuery=")+JSON.stringify(t)))},Mt=function(e,t){return At(Nt("/v1/enterprises/".concat(e,"/garages")),t)},Lt=function(e,t){return At(Nt("/v1/enterprises/".concat(e,"/garages/").concat(t.id,"/edit")),t)},Dt=Tt,Pt=function(e){return Ct(Nt("/v1/login"),e)},Ft=function(e){return At(Nt("/v1/signup"),e)},Gt=function(e,t){return kt(Nt("/v1/enterprises/".concat(e,"/metrics/timeSeriesMetricDescriptors/").concat(t)))},_t=function(e){return Ct(Nt("/users/password/forgot"),e)},Ut=function(e){return Ct(Nt("/users/password/verify-forgot"),e)},Bt=function(e,t){return function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return fetch(e,{method:"POST",headers:Object(i.a)({"Content-Type":"application/json"},t),body:JSON.stringify(n)}).then(a?jt:Ht)}(Nt("/users/password/change"),e,t)},Wt=function(e,t){return At(Nt("/v1/enterprises/".concat(e,"/users/").concat(t,"/onboard/request")),{role:"member"})},zt=function(){return kt(Nt("/v1/enterprises"),!1)},Yt=function(e){return kt(Nt("/v1/enterprises/search/by-user?userId=".concat(e)),!1)},Vt=function(e){return kt(Nt("/v1/enterprises/".concat(e,"/users")))},Jt=function(e,t){return At(Nt("/v1/enterprises/".concat(e,"/users/").concat(t,"/remove")),{})},Qt=function(e,t){return At(Nt("/v1/enterprises/".concat(e,"/users/").concat(t,"/onboard/reject")),{})},qt=function(e,t){return At(Nt("/v1/enterprises/".concat(e,"/users/").concat(t,"/onboard/approve")),{})},Xt=function(e){return kt(Nt("/v1/enterprises/".concat(e,"/announcements")))},Kt=function(e,t){return At(Nt("/v1/enterprises/".concat(e,"/announcements")),t)},$t=function(e,t){return At(Nt("/v1/enterprises/".concat(e,"/announcements/").concat(t,"/remove")),{})},Zt=function(e,t,n){return At(Nt("/v1/enterprises/".concat(e,"/announcements/").concat(t,"/edit")),n)},en=function(e){return kt(Nt("/v1/enterprises/".concat(e,"/dashboards")),!0)},tn=function(e,t,n){return At(Nt("/v1/enterprises/".concat(e,"/dashboards/").concat(t,"/edit")),n)},nn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return kt(Nt("/v1/enterprises/".concat(e,"/metrics/flatValueMetricDescriptors/").concat(t?"search/by-resourceType?resourceType=".concat(t):"")),!1)},an=function(e,t){return kt(Nt("/v1/enterprises/".concat(e,"/metrics/flatValue?flatValueQuery=")+JSON.stringify(t)),!1)},rn=function(e){return kt(Nt("/v1/enterprises/".concat(e,"/garageOccupancyTables")))},cn=function(e,t){return At(Nt("/v1/enterprises/".concat(e,"/garageOccupancyTables")),t)},on=function(e,t){return At(Nt("/v1/enterprises/".concat(e,"/garageOccupancyTables/").concat(t,"/remove")),{})},ln=function(e,t,n){return At(Nt("/v1/enterprises/".concat(e,"/garageOccupancyTables/").concat(t,"/edit")),n)},sn=function(e,t){return kt(Nt("/v1/enterprises/".concat(e,"/garageOccupancyTables/").concat(t)),!1)},un=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(null===e||void 0===e?void 0:e.length)<=t?e:r.a.createElement(Y.a,{title:e},r.a.createElement("span",{className:"cursor capitalize"},"".concat(null===e||void 0===e?void 0:e.substring(0,t)).concat((null===e||void 0===e?void 0:e.length)>t?"...":"")))},dn=function(){var e=Object(F.a)(P.a.mark((function e(t,n){var a,r,c=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]&&c[2],c.length>3&&void 0!==c[3]?c[3]:1,e.prev=2,n({type:lt.USER_REQUEST_PENDING}),e.next=6,t();case 6:if((r=e.sent)&&r.success){e.next=9;break}throw new Error(r.message||"Error");case 9:return n({type:lt.USER_REQUEST_SUCCESS}),e.next=12,r;case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(2),a&&ye({title:"Error",message:String((null===e.t0||void 0===e.t0?void 0:e.t0.message)||e.t0)}),n({type:lt.USER_REQUEST_FAILED});case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}(),mn=function(e){return Object(i.a)(Object(i.a)({},e),{},{name:un(e.name)})},pn=function(){var e=Object(F.a)(P.a.mark((function e(t,n){var a,r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"!==(null===t||void 0===t||null===(a=t.apps)||void 0===a?void 0:a.enterpriseApp)){e.next=6;break}return r=t.id,e.next=4,dn((function(){return Yt(r)}),n);case 4:(null===(c=e.sent)||void 0===c?void 0:c.success)&&n({type:lt.GET_ENTERPRISE,enterprise:c.enterprise});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fn=function(){return function(e){return e({type:lt.LOGOUT})}},gn=n(94),vn={garages:[]};var hn={error:!1,loadingAnnouncements:!1,loadingAction:!1,announcements:[]},bn=" ACTION_ANNOUNCEMENT_PENDING",En="ACTION_ANNOUNCEMENT_ERROR",yn="EDIT_ANNOUNCEMENT_SUCCESS",On="ADD_ANNOUNCEMENT_SUCCESS",Sn="DELETE_ANNOUNCEMENT_SUCCESS",xn="GET_ANNOUNCEMENTS_PENDING",wn="GET_ANNOUNCEMENTS_SUCCESS",jn="GET_ANNOUNCEMENTS_ERROR";var Hn=Object(gn.combineReducers)({garage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GARAGES":return Object(i.a)(Object(i.a)({},vn),{},{garages:[t.garages]});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case lt.LOGOUT:return localStorage.removeItem(Et.USER),Object(i.a)(Object(i.a)({},e),{},{user:void 0,userState:yt.UNAUTH,loading:!1});case lt.LOGIN:case lt.SIGNUP:var n=t.user,a=t.token;return localStorage.setItem(Et.USER,a||""),Object(i.a)(Object(i.a)({},e),{},{user:n,userState:St(n),loading:!1});case lt.AUTH:return Object(i.a)(Object(i.a)({},e),{},{user:t.user,userState:St(t.user),loading:!1});case lt.ADD_ENTERPISE:return Object(i.a)(Object(i.a)({},e),{},{userState:yt.ENTERPISE_PENDING});case lt.GET_ENTERPRISE:return Object(i.a)(Object(i.a)({},e),{},{enterprise:t.enterprise});case lt.USER_REQUEST_PENDING:return Object(i.a)(Object(i.a)({},e),{},{loading:!0,error:!1});case lt.USER_REQUEST_FAILED:return Object(i.a)(Object(i.a)({},e),{},{error:!0,loading:!1});case lt.USER_REQUEST_SUCCESS:return Object(i.a)(Object(i.a)({},e),{},{loading:!1});case lt.RESET_ERROR:return Object(i.a)(Object(i.a)({},e),{},{error:!1});default:return e}},announcement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case bn:return Object(i.a)(Object(i.a)({},e),{},{loadingAction:!0});case xn:return Object(i.a)(Object(i.a)({},e),{},{loadingAnnouncements:!0});case On:return Object(i.a)(Object(i.a)({},e),{},{loadingAction:!1,announcements:[].concat(Object(x.a)(e.announcements),[n.announcement])});case Sn:return Object(i.a)(Object(i.a)({},e),{},{loadingAction:!1,announcements:e.announcements.filter((function(e){return e!==n.announcement}))});case yn:var r=n.announcement,c=r.id,o=Object(x.a)(e.announcements),l=e.announcements.reduce((function(e,t,n){return t.id===c?n:e}),-1);return o[l]=n.announcement,Object(i.a)(Object(i.a)({},e),{},{loadingAction:!1,announcements:o});case wn:return Object(i.a)(Object(i.a)({},e),{},{loadingAnnouncements:!1,announcements:(null===n||void 0===n?void 0:n.announcements)||[]});case jn:return Object(i.a)(Object(i.a)({},e),{},{error:!0,loadingAnnouncements:!1,announcements:[]});case En:return Object(i.a)(Object(i.a)({},e),{},{error:!0,loadingAction:!1,loadingAnnouncements:!1});default:return e}}}),Cn=n(313),kn=n(379).default,An=Object(gn.createStore)(Hn,Object(Cn.composeWithDevTools)(Object(gn.applyMiddleware)(kn,(function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var a=t(n);return console.log("next state",e.getState()),console.groupEnd(),a}}})))),Nn=n(194),Tn=n.n(Nn),In=Tn.a,Rn=Gn(),Mn=[];An.subscribe((function(){var e=Gn();Rn!==e&&(Rn=e,In.tz.setDefault(e),Mn.forEach((function(e){return e(Rn)})))}));var Ln=function(){var e=In(),t=e.clone().set("hours",0).set("minute",0).set("second",0).set("millisecond",0);return{endTime:e.toISOString(),startTime:t.toISOString()}},Dn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=In(),n=t.clone().set("month",t.month()+e).set("date",1).set("hours",0).set("minute",0).set("second",0).set("millisecond",0);return{endTime:t.toISOString(),startTime:n.toISOString()}},Pn=function(){var e=In(),t=e.clone().set("month",0).set("date",1).set("hours",0).set("minute",0).set("second",0).set("millisecond",0);return{endTime:e.toISOString(),startTime:t.toISOString()}},Fn=function(e){var t=In(),n=t.clone().add(-e,"day");return{endTime:t,startTime:n}};function Gn(){var e,t;return(null===(e=An.getState().user)||void 0===e||null===(t=e.enterprise)||void 0===t?void 0:t.tz)||"America/Los_Angeles"}function _n(){return Rn}function Un(){var e=Object(s.a)(["\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  position: fixed;\n  font-size: 15px;\n  top: 0;\n  right : 0;\n  left: 0;\n  padding: 0 1.5em 0 0;\n  z-index: 9;\n  width: 100vw;\n  height: 4em; \n  background: ",";  \n  color: white;\n  display: grid;\n  grid-gap: 1em;\n  grid-template-columns: 1fr auto auto;\n  grid-template-rows: 1fr;\n  place-items: center end;\n    @media(max-width: ","){\n      top : inherit;\n      padding-left: 0\n      grid-gap: .5em;\n    } "]);return Un=function(){return e},e}function Bn(){var e=Object(s.a)(["\n    padding-left: 9.5em;\n    @media(max-width: ","){\n       padding-left: 0;\n       font-size: 1.2em;\n    } \n  "]);return Bn=function(){return e},e}In.tz.setDefault(Rn);var Wn=[{garage:"North 10th Street Garage",date:In()},{garage:"North 10th Street Garage",date:In()},{garage:"North 10th Street Garage",date:In()}],zn=u.b.div(Bn(),"860px"),Yn=u.b.div(Un(),d,"860px"),Vn=function(){var e=Object(Xe.c)(),t=Object(qe.f)().pathname;return r.a.createElement(Yn,null,r.a.createElement(zn,{className:"capitalize bold txt-md txt-left",style:{minWidth:"100px",width:"100%"}},"/"===t||"/overview"===t?"Overview":t.replace("/","")),r.a.createElement(vt.a,{placement:"bottomRight",content:r.a.createElement("div",{style:{zIndex:1e3,maxWidth:"300px"}},r.a.createElement(z,{customCols:"1fr auto",placeItems:"start stretch"},r.a.createElement(S,{bold:!0,padding:"0 0 .5em 0",textAlign:"left"},"Abnormality"),r.a.createElement("i",{className:"fas fa-bell txt-md"})),Wn.map((function(e,t){var n=e.garage,a=e.date,c=t<Wn.length-1?{paddingBottom:"1em",marginBottom:".5em",borderBottom:"1px solid #A6ACAF"}:{};return r.a.createElement(z,{customCols:"auto 1fr",placeItems:"start stretch",style:c},r.a.createElement("i",{className:"fas fa-car txt-md",style:{placeSelf:"center"}}),r.a.createElement(S,{bold:!0,textAlign:"left",size:4},n),r.a.createElement(Le,{style:{gridColumn:"1/-1"},textAlign:"right"},"Abnormality Detected at 50% Occupancy."),r.a.createElement(Le,{style:{gridColumn:"1/-1"},color:"#A6ACAF",textAlign:"right"},a.format("hh:mm A")))}))),trigger:"hover"},r.a.createElement(ht.a,{count:3},r.a.createElement("i",{className:"fa fa-bell txt-shadow pointer txt-lg"}))),r.a.createElement(vt.a,{placement:"bottomRight",content:r.a.createElement(bt.a,{style:{zIndex:1e3}},r.a.createElement(bt.a.Item,{key:"0",className:"noselect"},r.a.createElement(z,{customCols:"auto 1fr",onClick:function(){return e(fn())}},r.a.createElement("i",{className:"fas fa-sign-in-alt txt-md"}),r.a.createElement("span",null,"Logout")))),trigger:"hover"},r.a.createElement("div",null,r.a.createElement(Z,{className:"shadow",style:{background:"white",borderRadius:"50%",margin:"0 1em"},url:gt.a}))))},Jn=function(){var e=Object(a.useState)(_n()),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(e){r(e)};return function(e){!!Mn.find((function(t){return t===e}))||Mn.push(e)}(e),function(){return function(e){Mn=Mn.filter((function(t){return t===e}))}(e)}}),[]),n};function Qn(){var e=Object(s.a)(["\n","\n    margin: auto;\n    min-height: 100vh;\n    display: grid;\n    place-items: start stretch;\n    transition: all 0.5s ease-out;\n    background-attachment: fixed;\n    background-repeat: no-repeat;\n    background-position:  center;\n    background-size: cover;\n    @media(max-width: ","){ \n        width: 100vw;\n    }"]);return Qn=function(){return e},e}var qn=function(e){var t=e.children,n=e.style,c=e.sidebar,o=e.background,i=Jn();return Object(a.useEffect)((function(){return window.scrollTo(0,0)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,c&&r.a.createElement(r.a.Fragment,null,r.a.createElement(pt,null),r.a.createElement(Vn,null))),r.a.createElement(Xn,{background:o,style:n,sidebar:c},r.a.createElement("div",{className:"left-on-desktop",style:{width:"100%"}},t),r.a.createElement(z,{customCols:"auto 1fr auto",placeSelf:"end stretch",padding:"0 0 .75em 0"},r.a.createElement("div",null),r.a.createElement(Le,{color:"#A6ACAF",style:{placeSelf:"end center"},className:"left-on-desktop"},"\xa9 2018-",In().year().toString()," ParkStash, All Rights Reserved"),r.a.createElement("div",{className:"capitalize txt-xsm",style:{marginRight:"1.5em"}},"Timezone: ",i))))};qn.Top=function(e){var t=e.className,n=e.children,a=e.customCols,c=void 0===a?"auto 1fr auto":a,o=e.noBackground,l=void 0!==o&&o,s=e.maxWidth,u=void 0===s?"1500px":s,m=e.style,p=void 0===m?{}:m;return p=Object(i.a)(Object(i.a)({},p),{},{maxWidth:u,minWidth:"85%"}),r.a.createElement("div",{className:t,style:{paddingBottom:"10em",background:l?"":d,width:"100%"}},r.a.createElement(z,{mobileLayout:!1,customCols:c,style:p,margin:"auto"},n))},qn.Bottom=function(e){var t=e.className,n=e.shiftUp,a=void 0===n||n,c=e.children,o=e.maxWidth,l=void 0===o?"1500px":o,s=e.style,u=void 0===s?{}:s;return r.a.createElement(z,{margin:"auto",className:t,placeItems:"start stretch",height:"100%",style:Object(i.a)(Object(i.a)({},u),{},{marginTop:a?"-10em":"1em",maxWidth:l,minWidth:"85%"})},c)};var Xn=u.b.div(Qn(),(function(e){return"\n    padding-top: ".concat(e.sidebar?"4em":0,";\n    background: ").concat(e.background?"url(".concat(e.background,")"):"#F0F3F4",";")}),"860px"),Kn=qn,$n=function(){var e=Object(F.a)(P.a.mark((function e(t){var n,a,r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apiCall,a=t.successMessage,r=t.errorMessage,e.prev=1,e.next=4,n();case 4:if((c=e.sent).success){e.next=7;break}throw new Error(c.message);case 7:return a&&Ee({title:"Succcess",message:a}),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(1),r&&ye({title:"Error",message:r}),e.abrupt("return",{success:!1});case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),Zn=function(e){var t=e.eId,n=Object(a.useState)({garages:[],loading:!1,error:!1}),r=Object(l.a)(n,2),c=r[0],o=r[1],s=function(e){return o(Object(i.a)(Object(i.a)({},c),e))},u=function(){var e=Object(F.a)(P.a.mark((function e(t){var n,a,r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return It(t)}});case 3:n=e.sent,a=n.garages,r=void 0===a?[]:a,c=n.success,s({loading:!1,error:!(void 0!==c&&c),garages:r});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(F.a)(P.a.mark((function e(n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return Mt(t,n)},successMessage:"Garage was Added",errorMessage:"Garage was not Added"});case 3:a=e.sent,s({loading:!1,error:(null===a||void 0===a?void 0:a.success)||!1}),u(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(F.a)(P.a.mark((function e(n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return Lt(t,n)},successMessage:"Garage was Edited",errorMessage:"Garage was not Edited"});case 3:a=e.sent,s({loading:!1,error:(null===a||void 0===a?void 0:a.success)||!1}),u(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){u(t)}),[t]),Object(i.a)(Object(i.a)({},c),{},{addGarage:d,editGarage:m,refresh:function(){return u(t)}})},ea=n(647),ta=function(e){var t=e.name,n=e.address,c=e.maxOccupancy,o=e.active,i=e.edit,s=e.occupancyUpdateSource,u=e.occupancy,d=e.getTableById,m=e.occupancyTableId,p=e.imageUrl,f=e.abnormality,g=Object(a.useState)(""),v=Object(l.a)(g,2),h=v[0],b=v[1],y=Number((((null===u||void 0===u?void 0:u.count)||0)/c*100).toFixed(2));return Object(a.useEffect)((function(){m&&d(m).then((function(e){var t;(null===e||void 0===e?void 0:e.success)&&b((null===e||void 0===e||null===(t=e.garageOccupancyTable)||void 0===t?void 0:t.title)||"")}))}),[]),r.a.createElement(E,{shadow:!0,style:{maxWidth:"80vw",width:"800px"}},r.a.createElement(z,{customCols:"auto 1fr",placeItems:"start stretch"},r.a.createElement(z,{placeSelf:"stretch",style:{borderRight:"2px solid #A6ACAF",paddingRight:"1em"}},p&&p[0]?r.a.createElement("img",{src:p[0],style:{maxWidth:"8em"}}):r.a.createElement("i",{style:{fontSize:"9em",color:"#A6ACAF"},className:"fas fa-parking"})),r.a.createElement(z,{placeItems:"stretch"},r.a.createElement(z,{gridGap:"0",placeItems:"stretch"},r.a.createElement(S,{textAlign:"left"},r.a.createElement(z,{customCols:"auto auto 1fr auto",placeSelf:"end",gridGap:"0"},r.a.createElement(Le,{bold:!0},t," \xa0"),r.a.createElement("span",{className:"noselect"},r.a.createElement("i",{className:"fa fa-edit pointer hoverr txt-sm",onClick:i})," \xa0",r.a.createElement("i",{className:"fa fa-trash pointer txt-sm",style:{color:"gray"}})," \xa0"),r.a.createElement("div",null),r.a.createElement(ze,{style:{fontSize:".65em"},disabled:!o},o?"Active":"Disabled"))),r.a.createElement(Le,{color:"gray",textAlign:"left"},r.a.createElement("i",{className:"far fa-compass"})," ",n),h&&r.a.createElement(Le,{color:"gray",textAlign:"left"},r.a.createElement("i",{className:"fa fa-table"})," ",h)),r.a.createElement(z,{placeSelf:"stretch",cols:"2",placeItems:"start",gridGap:".5em"},r.a.createElement(ea.a,{strokeWidth:15,successPercent:0,strokeColor:"#33B482",percent:y,format:function(){return r.a.createElement("div",{className:"bold"},y,"%")},style:{gridColumn:"1/-1",width:"100%",placeSelf:"center stretch",paddingRight:".5em"}}),r.a.createElement(ze,{inverted:null===u||void 0===u?void 0:u.count,disabled:!(null===u||void 0===u?void 0:u.count),clasName:"grid"},r.a.createElement(Le,{bold:!0,color:"inherit"},(null===u||void 0===u?void 0:u.count)||"N/A",r.a.createElement("span",{style:{fontSize:"1.3em"}}," / "),c)),r.a.createElement(ze,{disabled:!(null===f||void 0===f?void 0:f.active),style:{placeSelf:"center end"}},r.a.createElement("i",{className:"fa fa-bell"}),"\xa0 Abnormality",(null===f||void 0===f?void 0:f.active)?": ".concat(100*f.percent,"%"):"")),r.a.createElement(z,{cols:"2"},r.a.createElement(Le,{placeSelf:"center start",color:"#A6ACAF"},"\xa0","integration"===s?"Automatic":"Manual"),(null===u||void 0===u?void 0:u.updatedAt)&&r.a.createElement("div",{style:{color:"grey",fontSize:".75em",placeSelf:"center end"}},"Last Updated: ",In(u.updatedAt).toString().substring(4,24))))))},na=n(315),aa=n.n(na),ra=n(648),ca=function(){var e={found:!1,result:"",resultLocation:{lat:32,lng:-92}},t=Object(a.useState)(!0),n=Object(l.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(e),s=Object(l.a)(o,2),u=s[0],d=s[1],m=Object(a.useState)(""),p=Object(l.a)(m,2),f=p[0],g=p[1];return{searchText:f,search:u,error:r,selectResult:function(e){g(e),c(!1)},resetSearch:function(){return d(e)},getAddress:function(e){c(!0);var t="https://maps.googleapis.com/maps/api/geocode/json?address=".concat(e,"&key=").concat("AIzaSyAeJmDi-yAmMJ2N9n7zHDjl8nUcXzDunPM");e&&e.length>0?fetch(t).then((function(e){return e.json()})).then((function(e){if(!("OK"===e.status&&e.results&&e.results.length>0))throw new Error;var t=e.results[0].formatted_address,n={lat:e.results[0].geometry.location.lat,lng:e.results[0].geometry.location.lng};d(Object(i.a)(Object(i.a)({},u),{},{result:t,resultLocation:n,found:!0}))})).catch((function(e){return d(Object(i.a)(Object(i.a)({},u),{},{result:"No Result",found:!1}))})):d(Object(i.a)(Object(i.a)({},u),{},{result:""}))},setSearchText:g}},oa=function(e){var t=e.showText,n=e.className;return r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-map-marker txt-lg red "+n,"aria-hidden":"true"}),t&&r.a.createElement(E,{width:"5em",padding:".4em"},"Click Me to Move"))},ia=function(e){var t=e.forward,n=e.setGeo,c={lat:32,lng:-92},o=ca(),s=o.searchText,u=o.selectResult,d=o.error,m=o.search,p=o.setSearchText,f=o.resetSearch,g=o.getAddress,v=Object(a.useState)({location:c,pointerLocation:c,zoom:15,pointerMoved:!1}),h=Object(l.a)(v,2),b=h[0],y=h[1],O=function(e){return y(Object(i.a)(Object(i.a)({},b),e))},S={gridColumn:1,gridRowStart:1},x=function(e){e.preventDefault(),m.found&&(O({location:m.resultLocation,pointerLocation:m.resultLocation}),u(m.result)),f()};return r.a.createElement("div",{style:{display:"grid",height:"50vh",width:"100%",gridTemplateColumns:"1fr"}},r.a.createElement("form",{onSubmit:x,style:Object(i.a)(Object(i.a)({},S),{},{zIndex:10,marginTop:".3em",width:"100%",height:"4em"})},r.a.createElement(ra.a,{suffix:r.a.createElement(Y.a,{title:"Please enter the Full Address"},r.a.createElement("i",{className:"fa fa-".concat(d?"times-circle red":"check green"),style:{position:"relative"}})),onChange:function(e){var t=e.target;p(t.value),O({pointerMoved:!1}),g(t.value)},placeholder:"Enter your Garage Address",value:s,style:{height:"3em",width:"80%",borderRadius:"4em"}}),m.result.length>0&&r.a.createElement(E,{onClick:x,className:"pointer noselect",shadow:!0,margin:"0 .5em"},m.result)),r.a.createElement(X,{shadow:b.pointerMoved&&!d,disabled:!b.pointerMoved||d,onClick:function(){n(Object(i.a)(Object(i.a)({},b.pointerLocation),{},{address:s})),t()},style:Object(i.a)(Object(i.a)({},S),{},{zIndex:10,justifySelf:"center",height:"2.3em",position:"relative",top:"calc(100% - 4em)"})},"Next \xa0",r.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"})),r.a.createElement("div",{style:Object(i.a)(Object(i.a)({},S),{},{justifySelf:"stretch"})},r.a.createElement(aa.a,{bootstrapURLKeys:{key:"AIzaSyB4z2lv6jvxicb7dsQ-K8fFxRcjt07YxQI"},center:b.location,defaultZoom:b.zoom,onChange:function(e){var t=e.zoom,n=e.center;return O({zoom:t,location:n})},onClick:function(e){e._,e.__;var t=e.lat,n=e.lng;return O({pointerLocation:{lat:t,lng:n},pointerMoved:!0})}},r.a.createElement(oa,{className:b.pointerMoved?"":"grow",lat:b.pointerLocation.lat,lng:b.pointerLocation.lng,showText:!b.pointerMoved}))))},la=n(198),sa=n.n(la),ua=n(100),da=n(654),ma=n(655),pa=n(171),fa="integration",ga="table",va={name:"",active:!1,maxOccupancy:420,occupancyTableId:null,occupancyUpdateSource:"table",abnormality:{active:!1,percent:0}},ha=function(e){var t,n,a,c=e.loading,o=e.tables,i=void 0===o?[]:o,l=e.garage,s=Object(ua.a)({initialValues:l||va,onSubmit:function(t){e.submit(t)}}),u=s.handleSubmit,d=s.handleChange,m=s.setFieldValue,p=s.values,f=s.handleBlur,g=p.name.length<6;return r.a.createElement("form",{onSubmit:u,className:"shake",style:{height:"100%",display:"grid",background:"white",padding:"2em",width:"100%",placeItems:"center stretch",gridGap:".4em"}},r.a.createElement("div",{style:{placeSelf:"stretch",display:"grid",placeItems:"stretch"}},r.a.createElement(Le,{textAlign:"left",bold:!0},"Enter the Name of your Garage",r.a.createElement("span",{className:"red"},"*")),r.a.createElement(ra.a,{style:{placeSelf:"end"},type:"text",name:"name",onBlur:f,suffix:r.a.createElement(Y.a,{title:"Garage must contain at least 6 characters"},r.a.createElement("i",{className:"fa fa-".concat(g?"times-circle red":"check green"),style:{position:"relative"}})),value:p.name,onChange:d,placeholder:"Example: SJSU Garage 1"})),r.a.createElement(z,{margin:".6em 0",placeSelf:"stretch",placeItems:"stretch",gridGap:"0",customCols:"1fr auto"},r.a.createElement(Le,{textAlign:"left",placeSelf:"end start",bold:!0},"Activate Garage",r.a.createElement("span",{className:"red"},"*")),r.a.createElement(da.a,{checked:p.active,style:{placeSelf:"end"},onChange:function(e){return m("active",e)}})),r.a.createElement(z,{margin:".6em 0",placeSelf:"stretch",placeItems:"stretch",gridGap:"0",customCols:"1fr auto"},r.a.createElement(Le,{textAlign:"left",placeSelf:"end start",bold:!0},"Automate Garage",r.a.createElement("span",{className:"red"},"*")),r.a.createElement(da.a,{checked:p.occupancyUpdateSource===fa,style:{placeSelf:"end"},onChange:function(e){return m("occupancyUpdateSource",e?fa:ga)}})),r.a.createElement(z,{margin:".6em 0",placeSelf:"stretch",placeItems:"stretch",gridGap:"0",customCols:"1fr auto"},r.a.createElement(Le,{textAlign:"left",placeSelf:"end start",bold:!0},"Abnormality"),r.a.createElement(da.a,{checked:null===(t=p.abnormality)||void 0===t?void 0:t.active,style:{placeSelf:"end"},onChange:function(e){return m("abnormality",{active:e,percent:0})}})),(null===(n=p.abnormality)||void 0===n?void 0:n.active)&&r.a.createElement(z,{margin:".6em 0",placeSelf:"stretch",placeItems:"stretch",gridGap:"0",customCols:"1fr auto"},r.a.createElement(Le,{textAlign:"left",placeSelf:"end start",bold:!0},"Abnormality Percent",r.a.createElement("span",{className:"red"},"*")),r.a.createElement(ma.a,{min:0,max:100,style:{placeSelf:"end"},value:Number((100*(null===(a=p.abnormality)||void 0===a?void 0:a.percent)).toFixed(0)),onChange:function(e){return m("abnormality",{active:!0,percent:Number((Number(e)/100).toFixed(2))})},name:"abnormality"})),r.a.createElement(z,{margin:".6em 0",placeSelf:"stretch",placeItems:"stretch",gridGap:"0"},r.a.createElement(Le,{textAlign:"left",placeSelf:"end start",bold:!0},"Garage Occupancy Table"),r.a.createElement(pa.a,{defaultValue:p.occupancyTableId,onChange:function(e){return m("occupancyTableId","null"===e?null:e)}},r.a.createElement(pa.a.Option,{value:"null"},"None"),i.map((function(e){var t=e.id,n=e.title;return r.a.createElement(pa.a.Option,{value:t},n)})))),r.a.createElement(z,{margin:".6em 0",placeSelf:"stretch",placeItems:"stretch",gridGap:"0",customCols:"1fr auto"},r.a.createElement(Le,{textAlign:"left",placeSelf:"end start",bold:!0},"Max Garage Occupancy",r.a.createElement("span",{className:"red"},"*")),r.a.createElement(ma.a,{min:1,style:{placeSelf:"end"},value:p.maxOccupancy,onChange:function(e){return m("maxOccupancy",e)},name:"maxOccupancy"})),c?r.a.createElement(X,{loading:!0,disabled:!0,style:{fontSize:".8em"}},"Loading"):r.a.createElement(X.Normal,{style:{fontSize:".8em"},type:"submit",disabled:g,onSubmit:function(e){return u(e)}},"Confirm"))},ba=function(e){var t=e.submit,n=Object(a.useState)(0),c=Object(l.a)(n,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){var e=setInterval((function(){i((function(e){return e+5}))}),300);return function(){clearInterval(e)}}),[]),Object(a.useEffect)((function(){90===o&&t()}),[o]),r.a.createElement(z,{width:"100%",background:"white",height:"100%"},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Le,{bold:!0},"Creating your Garage"),r.a.createElement(ea.a,{style:{width:"70%"},percent:o})))},Ea=function(e){var t=e.close,n=e.refresh,c=e.eId,o=e.tables,s=Object(a.useState)({step:0,completed:!1}),u=Object(l.a)(s,2),d=u[0],m=u[1],p=Zn({eId:c}).addGarage,f=Object(a.useState)({name:"",active:!1,maxOccupancy:0,geo:[0,0]}),g=Object(l.a)(f,2),v=g[0],h=g[1],b=function(){var e=Object(F.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(v);case 2:n(),t();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){d.step<y.length&&m({step:d.step+1,completed:!1})},y=[r.a.createElement(ia,{forward:E,setGeo:function(e){var t=e.lat,n=e.lng,a=e.address;h(Object(i.a)(Object(i.a)({},v),{},{geo:[t,n],address:a}))}}),r.a.createElement(ha,{submit:function(e){h(Object(i.a)(Object(i.a)({},v),e)),E()},tables:o}),r.a.createElement(ba,{submit:b})];return r.a.createElement(z,{customCols:"6fr 7fr",width:"100%",height:"100%",gridGap:"0"},r.a.createElement("div",{className:"grid",style:{background:"#329181",height:"100%",padding:"1em"}},r.a.createElement("img",{src:sa.a,style:{maxWidth:"100%"}})),y[d.step])},ya=function(e){var t=e.close,n=e.eId,a=e.garage,c=e.refresh,o=e.tables,i=Zn({eId:n}),l=i.editGarage,s=i.loading,u=function(){var e=Object(F.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(n);case 2:t(),c();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(z,{customCols:"4fr 5fr",width:"100%",height:"100%",gridGap:"0"},r.a.createElement("div",{style:{background:"#33B482",height:"100%",padding:"1em"}},r.a.createElement("img",{src:sa.a,style:{maxWidth:"100%"}})),r.a.createElement(ha,{submit:u,tables:o,garage:a,loading:s}))},Oa=function(e){var t=e.eId,n=Object(a.useState)({tables:[],loading:!1,error:!1}),r=Object(l.a)(n,2),c=r[0],o=r[1],s=function(e){return o(Object(i.a)(Object(i.a)({},c),e))},u=function(){var e=Object(F.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return rn(t)},errorMessage:"Failed: Loading Table"});case 3:n=e.sent,s({loading:!1,tables:(null===n||void 0===n?void 0:n.garageOccupancyTables)||[],error:(null===n||void 0===n||n.success,!1)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(F.a)(P.a.mark((function e(n){var a,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return cn(t,n)},errorMessage:"Could not Edit Table",successMessage:"Table was Edited"});case 3:a=e.sent,r=c.tables,(null===a||void 0===a?void 0:a.success)&&(r=[].concat(Object(x.a)(c.tables),[Object(i.a)(Object(i.a)({},n),{},{id:a.garageOccupancyTableId})])),s({loading:!1,tables:r,error:(null===a||void 0===a||a.success,!1)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(F.a)(P.a.mark((function e(n){var a,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return on(t,n)},errorMessage:"Could not Delete Table",successMessage:"Table was Deleted"});case 3:a=e.sent,r=Object(x.a)(c.tables),(null===a||void 0===a?void 0:a.success)&&(r=r.filter((function(e){return e.id!==n}))),s({loading:!1,tables:r,error:(null===a||void 0===a||a.success,!1)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(F.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$n({apiCall:function(){return sn(t,n)},errorMessage:"Failed: Loading Table"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(F.a)(P.a.mark((function e(n){var a,r,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return ln(t,n.id,n)},errorMessage:"Could not Edit Table",successMessage:"Table was Edited"});case 3:a=e.sent,r=Object(x.a)(c.tables),o=r.reduce((function(e,t,a){return n.id===t.id?a:e}),-1),(null===a||void 0===a?void 0:a.success)&&o>-1&&(r[o]=n),s({loading:!1,tables:r,error:(null===a||void 0===a||a.success,!1)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){u(t)}),[t]),Object(i.a)(Object(i.a)({},c),{},{getTables:u,removeTable:m,addTable:d,editTable:f,getTableById:p})},Sa=function(){var e=Object(Xe.d)((function(e){return e.user.enterprise.id})),t=Zn({eId:e}),n=t.garages,a=t.loading,c=t.refresh,o=Oa({eId:e}),i=o.tables,l=o.getTableById,s={eId:e,tables:i,refresh:c},u=Ie({title:"Add Your Garage",message:r.a.createElement(Ea,Object.assign({close:function(){return u.close()}},s)),hideCancel:!0});return r.a.createElement(z,{placeItems:"start stretch",padding:"1em",height:"100%"},r.a.createElement(z,null,r.a.createElement("div",{className:"grid",style:{width:"100%"}},r.a.createElement(X,{style:{placeSelf:"end"},margin:"1em",rounded:!0,disabled:a,shadow:!0,onClick:u.open,minWidth:"4.5em",faIcon:"fa  fa-plus"}," Add"),r.a.createElement(le,{loading:a,loader:r.a.createElement(oe,{number:5,style:{maxWidth:"80vw",width:"800px"}}),list:n,map:function(e){return r.a.createElement(ta,Object.assign({},e,{edit:function(){return function(e){var t=Ie({title:"Edit Your Garage",message:r.a.createElement(ya,Object.assign({close:function(){return t.close()}},s,{garage:e})),hideCancel:!0});t.open()}(e)},getTableById:l}))}}))))},xa=n(619),wa=n(630),ja=n(632),Ha=function(e,t){var n=e.range(),a=function(e){return e<600?5:10}(Object(l.a)(n,2)[1]),c=e.ticks(a);return t=t||{},r.a.createElement(wa.a,Object.assign({},t,{scale:e,tickValues:c}))},Ca=function(e,t){var n=e.range(),a=(Object(l.a)(n,1)[0],e.ticks(10));return t=t||{},r.a.createElement(ja.a,Object.assign({},t,{scale:e,tickValues:a}))},ka=n(651),Aa=n(72);var Na=function(e){var t=e.xScale,n=e.yScale,a=e.points,c=e.isSelected,o=e.noneSelected,i=e.event,l=e.transparent,s=Object.keys(a[0]).filter((function(e){return"date"!==e})),u=function(e,t){return e[t]};return r.a.createElement(ka.a,{keys:s,data:a,x:function(e){return t(function(e){return new Date(e.date).valueOf()}(e.data))},y0:function(e){return n(u(e,0))},y1:function(e){return n(u(e,1))}},(function(e){var t=e.stacks,n=e.path;return t.map((function(e,t){var a=c(t)?"70":o?"50":"25",s=function(e){return Aa.a[e%Aa.a.length]}(t)+a;return r.a.createElement("path",Object.assign({key:"stack-".concat(t),d:n(e)||"",stroke:s,strokeWidth:2},i(t),{fill:l?"transparent":s}))}))}))},Ta=n(657),Ia=n(633),Ra=n(634),Ma=function(e){return Aa.a[e%Aa.a.length]};var La=function(e){var t=e.yScale,n=(e.event,e.width),a=e.points,c=Object.keys(a[0]||[]).filter((function(e){return"date"!==e})),o=function(e){return new Date(null===e||void 0===e?void 0:e.date).toISOString()},i=Object(Ia.a)({domain:function(e){for(var t=[],n=e.length-1;n>=0;n--)t.push(o(e[n]));return t}(a),range:[0,n],padding:.2}),l=Object(Ra.a)({domain:c,range:Aa.a});return r.a.createElement(xa.a,null,r.a.createElement(Ta.a,{keys:c,data:a,xScale:i,yScale:t,color:l,x:o},(function(e){return e.map((function(e){var t=e.index;return e.bars.map((function(n){return r.a.createElement("rect",{key:"bar-stack-".concat(e.index,"-").concat(n.index),x:n.x,y:n.y,opacity:.6,height:n.height,width:n.width,fill:Ma(t)})}))}))})))},Da=n(650),Pa=n(635),Fa=n(652),Ga=n(631),_a=function(e){var t=e.tooltipOpen,n=e.tooltipLeft,a=e.tooltipTop,c=e.tooltipData,o=e.isSelected;return t||c?r.a.createElement(Fa.a,{top:a,left:n},r.a.createElement(z,{placeItems:"start",customRows:"auto 1fr",gridGap:".4em",style:{zIndex:1e4}},r.a.createElement(Le,null,c.timestamp.format("ddd MMM DD, YYYY hh:mm A")),c.legend.map((function(e,t){var n=e.color,a=e.label,c=e.value;return e.isMissing?null:r.a.createElement("div",{key:t,style:{padding:2,fontWeight:o(t)?"bold":"normal"}},r.a.createElement("span",{className:"round",style:{background:n}}),"\xa0",r.a.createElement("span",null,r.a.createElement("span",{dangerouslySetInnerHTML:{__html:a}}),": \xa0",c))})))):null};_a.Line=function(e){var t=e.tooltipData,n=e.height,a=e.tooltipLeft;return t?r.a.createElement("g",null,r.a.createElement(Ga.a,{from:{x:a,y:0},to:{x:a,y:n},stroke:"#33B482",strokeWidth:2,pointerEvents:"none",strokeDasharray:"5,"})):null};var Ua=_a,Ba=n(637),Wa=n(636),za=function(e){return!e.isMissing};function Ya(e){var t=e.points,n=e.isSelected,a=e.event,c=e.xScale,o=e.yScale,i=function(e){return Aa.a[e%Aa.a.length]},l=function(e){return c(Tn()(e.at))},s=function(e){return o(e.value)};return r.a.createElement(r.a.Fragment,null,null===t||void 0===t?void 0:t.map((function(e,t){return r.a.createElement(Wa.a,Object.assign({x:l,y:s},a(t),{data:e,key:t,defined:za,strokeWidth:n(t)?4:2,stroke:i(t),curve:Ba.a}))})))}var Va=n(638);function Ja(e){var t=e.yScale,n=e.width;return r.a.createElement(Va.a,{scale:t,width:n,stroke:"lightgray",strokeOpacity:.5,pointerEvents:"none"})}var Qa=n(128),qa=function(e){return Object(a.useMemo)((function(){for(var t=[],n=0,a=e.timeSeries,r=a[0],c=r.points.length,o=a.length,l=0;l<c;l++){for(var s={date:r.points[l].at},u=0,d=0;d<o;d++){var m=a[d].displayLabel,p=a[d].points[l].value;u+=p>0?p:0,s=Object(i.a)(Object(i.a)({},s),{},Object(Qa.a)({},m,String(-1===p?0:p)))}t.push(s),n=n<u?u:n}return{points:t,max:n}}),[e])},Xa=function(e){return Object(a.useMemo)((function(){var t=e.alignmentPeriod;return{points:e.timeSeries.map((function(e){var n;return null===(n=e.points)||void 0===n?void 0:n.reduce((function(e,n){var a={value:n.value,isMissing:n.isMissing,at:In(n.at).subtract(t,"minutes")};return e.push(n),e.push(a),e}),[])})),max:e.max}}),[e])};function Ka(e){var t=e.width,n=e.height,a=e.chart,c=e.noneSelected,o=e.timeSeriesResult,l=e.metricDescriptor,s=e.xScale,u=e.yScale,d=e.setSelected,m=e.isSelected,p=function(e){var t=e.timeSeriesResult,n=e.metricDescriptor,a=e.setSelected,r=e.xScale,c=Object(Pa.a)(),o=function(e){for(var n=t.timeSeries[0].points,a=n.length-1;a>=0;a--){var r=n[a].at;if(e.isSameOrBefore(r))return a}return 0},l=function(e){var a=t.timeSeries;return null===a||void 0===a?void 0:a.reduce((function(a,r,c){var o=r.points[e],i={label:"NONE"===t.crossSeriesReducer?r.displayLabel:n.displayName,value:"%"===t.unit?(100*o.value).toFixed(2)+"%":o.value+"",color:Ma(c),isMissing:o.isMissing};return a.push(i),a}),[])};return Object(i.a)(Object(i.a)({},c),{},{handleTooltip:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=Object(Da.a)(e)||{},i=n.x,s=n.y;a(t);var u=In(r.invert(i||0)),d=o(u),m=l(d);c.showTooltip({tooltipData:{timestamp:u,legend:m},tooltipLeft:i,tooltipTop:s})}})}({timeSeriesResult:o,metricDescriptor:l,setSelected:d,xScale:s}),f=p.tooltipData,g=p.hideTooltip,v=p.handleTooltip,h=p.tooltipLeft,b=p.tooltipTop,E=p.tooltipOpen,y=Xa(o).points,O=qa(o,a===rr.stackedArea).points,S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return{onTouchStart:function(t){return v(t,e)},onTouchMove:function(t){return v(t,e)},onMouseMove:function(t){return v(t,e)},onMouseLeave:function(){d(-1),g()}}},x={yScale:u,width:t,height:n,points:a===rr.multiLine?y:O,xScale:s,isSelected:m,noneSelected:c,timeSeriesResult:o,event:S};return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{width:t,height:n},r.a.createElement("rect",Object.assign({x:0,y:0,width:t,height:n,fill:"transparent"},S())),r.a.createElement(Ja,{yScale:u,width:t}),$a(a,x),a===rr.stackedBar&&r.a.createElement("rect",Object.assign({x:0,y:0,width:t,height:n,fill:"transparent"},S())),r.a.createElement(Ua.Line,{height:n,tooltipData:f,tooltipLeft:h})),r.a.createElement(Ua,{tooltipOpen:b,tooltipLeft:h,tooltipTop:E,tooltipData:f,isSelected:m,noneSelected:c}))}var $a=function(e,t){switch(console.log(t),e){case rr.multiLine:return r.a.createElement(Ya,t);case rr.stackedArea:return r.a.createElement(Na,t);case rr.stackedBar:return r.a.createElement(La,t);case rr.combined:return r.a.createElement(r.a.Fragment,null,r.a.createElement(La,t),r.a.createElement(Na,Object.assign({transparent:!0},t)));default:return"Error"}},Za=n(639),er=n(640),tr=function(e){e.chart;var t=e.height,n=e.width,a=e.timeSeriesResult,r=(e.points,e.yMax),c=function(e,t,n,a){var r=t.interval,c=r.startTime,o=r.endTime,i=[In(c),In(o)],l=i[0],s=i[1],u=Object(Za.a)({domain:[l,s],range:[0,e]}),d=function(){var e=s.diff(l,"days",!0),t=s.diff(l,"months",!0),n=e<=1?"h:mm A":e<=7?"ddd h A":t<=3?"MMM DD":"MMM",a=!1;return"MMM"===n?function(e){var t=In.tz(e.toISOString(),_n());return a?0===t.get("month")?t.format("MMM, YYYY"):t.format("MMM"):(a=!0,t.format("MMM, YYYY"))}:function(e){return In.tz(e.toISOString(),_n()).format(n)}}();return{scale:u,tickFormat:d}}(n,a),o=function(e,t,n){var a=Object(er.a)({domain:[0,1.1*n],range:[e,0]}),r=function(e){return"%"!==t.unit?e+"":Math.round(100*e)+"%"};return{scale:a,tickFormat:r}}(t,a,r);return{scale:{x:c.scale,y:o.scale},tickFormat:{x:c.tickFormat,y:o.tickFormat}}};var nr=function(e,t,n){return{hideAxisLine:!0,tickStroke:"gray",tickLength:6,tickFormat:e,tickLabelProps:function(){return Object(i.a)({fontWeight:"bold",textAnchor:n,fill:"gray",fontSize:12},t&&{dy:5,dx:-2})}}};function ar(e){var t=e.height,n=e.width,a=e.chart,c=e.setChart,o=e.timeSeriesResult,i=e.metricDescriptor,l=e.backgroundColor,s=e.isSelected,u=e.noneSelected,d=e.setSelected,m=function(e){var t=e.height,n=e.width,a={left:0,top:0,height:t,width:35},r={left:a.width-30,top:t-30,height:30,width:n-a.width,padding:30};return{yAxis:a,xAxis:r,drawArea:{left:a.width-0,top:0,height:t-r.height,width:n-a.width-0}}}({height:t,width:n}),p=[Xa(o),qa(o)],f=p[0],g=p[1],v=a===rr.multiLine?f:g,h=v.max,b=v.points,E=tr({height:m.drawArea.height,width:m.drawArea.width,timeSeriesResult:o,chart:a,yMax:h,points:b}),y=E.scale,O=E.tickFormat,S=Ha(y.x,nr(O.x,!1,"middle")),x=Ca(y.y,nr(O.y,!0,"end"));return r.a.createElement("div",{style:{height:t+"px",width:"100%",position:"relative",backgroundColor:l}},r.a.createElement("svg",{style:{position:"absolute",top:m.yAxis.top,left:m.yAxis.left},width:m.yAxis.width,height:m.yAxis.height},r.a.createElement("g",{transform:"0, 0)"},r.a.createElement(xa.a,{left:m.yAxis.width},x))),r.a.createElement("svg",{style:{position:"absolute",top:m.xAxis.top,left:m.xAxis.left},width:m.xAxis.width,height:m.xAxis.height},r.a.createElement("g",{transform:"translate(".concat(m.xAxis.padding,", 0)")},r.a.createElement(xa.a,{left:0},S))),r.a.createElement("div",{style:{position:"absolute",top:m.drawArea.top,left:m.drawArea.left}},r.a.createElement(Ka,{chart:a,setChart:c,backgroundColor:l,width:m.drawArea.width,height:m.drawArea.height,timeSeriesResult:o,metricDescriptor:i,xScale:y.x,yScale:y.y,isSelected:s,noneSelected:u,setSelected:d})))}var rr,cr=n(645),or=function(e){var t=e.timeSeries,n=e.show,a={loading:!t,style:{width:"100%"},dataSource:null===t||void 0===t?void 0:t.map((function(e,t){return{label:e.displayLabel,key:t,color:Ma(t)}})),columns:[{title:"Garage",dataIndex:"label",key:"label",render:function(e,t){return r.a.createElement("span",null,e)}},{title:"Color",dataIndex:"color",key:"color",render:function(e,t){return r.a.createElement("span",{className:"round",style:{background:e}})}}]};return n?r.a.createElement(E,{shadow:!0,width:"100%"},r.a.createElement(cr.a,Object.assign({pagination:!1},a))):null};!function(e){e.stackedArea="stackedArea",e.multiLine="multiLine",e.stackedBar="stackedBar",e.combined="combined"}(rr||(rr={}));var ir,lr,sr=function(e){var t,n,c,o,i=e.span,s=e.filter,u=e.metricDataStatus,d=e.legend,m=e.filterWidth,p=e.backgroundColor,f=e.title,g=e.isPercent,v=e.types,h=void 0===v?[]:v,b=function(e){return"white"===e||"#ffffff"===e.toLowerCase()}(p)?"#33B482":"#ffffff",y=Object(a.useState)(300),O=Object(l.a)(y,2),x=O[0],w=O[1],j=Object(a.useState)(-1),H=Object(l.a)(j,2),C=H[0],k=H[1],A=Object(a.useRef)(null),N=function(){var e;return w(null===A||void 0===A||null===(e=A.current)||void 0===e?void 0:e.clientWidth)},T=Object(a.useState)(h[0]||rr.stackedBar),I=Object(l.a)(T,2),R=I[0],M=I[1];return Object(a.useEffect)((function(){g&&M(rr.multiLine)}),[g]),Object(a.useEffect)(N,[null===A||void 0===A||null===(t=A.current)||void 0===t?void 0:t.clientWidth,m]),Object(a.useEffect)((function(){var e;return null===(e=window)||void 0===e||e.addEventListener("resize",N),function(){return window.removeEventListener("resize",N)}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{placeSelf:"stretch",shadow:!0,style:{gridColumn:"span "+i,maxWidth:"100%"},grid:!0,customCols:"1fr auto",gridGap:"0 1em",className:"slide-up noselect"},r.a.createElement(S,{className:"grid",color:b,style:{gridColumn:"1/-1",width:"100%",gridTemplateColumns:"1fr auto auto",placeItems:"start "},bold:!0,size:4},r.a.createElement(z,{mobileLayout:!1,customCols:"auto 1fr auto",gridGap:".5em",padding:".2em .5em",width:"100%",style:{placeItems:"start",borderRadius:"1em",textTransform:"capitalize",placeSelf:"start"}},r.a.createElement(S,{bold:!0,size:3.75,textAlign:"left"},un(f,25)),r.a.createElement("div",{style:{placeSelf:"end"}},r.a.createElement(X,{invert:!0,minWidth:"3em",margin:"0 1em",noBorder:R!==rr.multiLine,onClick:function(){return Ee({title:"Success",message:"Exporting Data to Excel"})},faIcon:"fas fa-file-download",tooltip:"Download the current data on Excel"}),h.includes(rr.multiLine)&&r.a.createElement(X,{invert:R!==rr.multiLine,minWidth:"3em",noBorder:R!==rr.multiLine,onClick:function(){return M(rr.multiLine)},faIcon:"fas fa-chart-line",tooltip:"Multi Line"}),h.includes(rr.stackedArea)&&r.a.createElement(X,{invert:R!==rr.stackedArea,minWidth:"3em",disabled:g,noBorder:R!==rr.stackedArea,onClick:function(){return M(rr.stackedArea)},faIcon:"fas fa-chart-area"}),h.includes(rr.stackedBar)&&r.a.createElement(X,{invert:R!==rr.stackedBar,minWidth:"3em",disabled:g,noBorder:R!==rr.stackedBar,onClick:function(){return M(rr.stackedBar)},faIcon:"fas fa-chart-bar"})),s||null)),r.a.createElement("div",{style:{width:"100%",marginTop:"1em"},ref:A},x<100?r.a.createElement(dr,{height:400}):(null===u||void 0===u?void 0:u.loading)?r.a.createElement(mr,{height:400}):(null===u||void 0===u?void 0:u.error)?r.a.createElement(pr,{height:400}):(null===(n=null===u||void 0===u?void 0:u.data)||void 0===n?void 0:n.timeSeriesResult)?r.a.createElement(ar,{noneSelected:-1===C,chart:R,setChart:M,isSelected:function(e){return C===e},setSelected:k,backgroundColor:p,height:400,width:x,timeSeriesResult:u.data.timeSeriesResult,metricDescriptor:u.data.metricDescriptor}):r.a.createElement(fr,{height:400}))),r.a.createElement(or,{show:d,timeSeries:null===u||void 0===u||null===(c=u.data)||void 0===c||null===(o=c.timeSeriesResult)||void 0===o?void 0:o.timeSeries}))},ur={height:"100%",width:"100%",textAlign:"center",lineHeight:"100px"},dr=function(e){var t=e.height;return r.a.createElement(Je,{text:"Screen too Small",style:{height:t}})},mr=function(e){var t=e.height;return r.a.createElement("div",{className:"grid",style:Object(i.a)(Object(i.a)({},ur),{},{height:t})},r.a.createElement("div",null,r.a.createElement(I.Spinner,null),r.a.createElement(S,{bold:!0},"Loading..")))},pr=function(e){var t=e.height;return r.a.createElement("div",{style:Object(i.a)(Object(i.a)({},ur),{},{height:t})},r.a.createElement(Je,{text:"Error Occured",style:{marginTop:"1em"}}))},fr=function(e){var t=e.height;return r.a.createElement("div",{style:Object(i.a)(Object(i.a)({},ur),{},{height:t})},r.a.createElement(Je,{text:"No Data Found",style:{marginTop:"1em"}}))},gr=function(e){var t=e.timeseries,n=e.interval,r=void 0===n?Ln():n,c=e.eId,o=Object(a.useState)(Object(i.a)({interval:r},t)),s=Object(l.a)(o,2),u=s[0],d=s[1],m=u.interval,p=m.startTime,f=m.endTime,g=Object(a.useState)({error:!1,loading:!1,data:null}),v=Object(l.a)(g,2),h=v[0],b=v[1],E=function(e,t){var n=e>t;return{startTime:(n?t:e).toISOString(),endTime:(n?e:t).toISOString()}},y=function(){var e=Object(F.a)(P.a.mark((function e(t){var n,a,r,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b({data:null,loading:!0,error:!1}),e.next=4,Promise.all([Rt(c,t),Gt(c,t.metricType)]);case 4:n=e.sent,a=Object(l.a)(n,2),r=a[0].timeSeriesResult,o=a[1].metricDescriptor,b({loading:!1,error:!1,data:{timeSeriesResult:r,metricDescriptor:o}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),b({loading:!1,error:!0,data:null});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){y(Object(i.a)({},u))}),[u]),{metricDataStatus:h,interval:u.interval,setEndTime:function(e){e&&d(Object(i.a)(Object(i.a)({},u),{},{interval:E(In(p),e)}))},setStartTime:function(e){e&&d(Object(i.a)(Object(i.a)({},u),{},{interval:E(e,In(f))}))},setInterval:function(e){return d(Object(i.a)(Object(i.a)({},u),{},{interval:e}))},refresh:function(e){var t=Object(i.a)(Object(i.a)({},{interval:u.interval}),e);d(t)}}},vr=n(641),hr=n(256),br=n(642),Er=function(e){var t=e.open,n=e.toggle,c=e.filterWidth,o=e.loading,i=e.submit,s=e.reset,u=e.actions,d=e.timeseries,m=e.options,p=e.hideTimeSelection,f=m.timeframes,g=m.aggregations,v=m.metrics,h=m.resources,b=Object(a.useState)(!1),y=Object(l.a)(b,2),O=y[0],x=y[1],w={height:"calc(100% - 4em)",width:c,position:"fixed",zIndex:5,top:"4em",right:0},j=function(e){return!!e&&e>In()},H={style:{width:"100%"},disabled:o},C={marginBottom:".5em",fontSize:".95em",color:"gray"},k=p?{customCols:"1fr",gridGap:0}:{cols:2,gridGap:"0 1em"};return t?r.a.createElement(E,{grid:!0,shadow:!0,style:w,margin:"0",placeItems:"stretch",gridGap:"0"},r.a.createElement(S,{textAlign:"left",className:"slide-up"},r.a.createElement("i",{className:"fa fa-times pointer",onClick:n}),r.a.createElement("span",{className:"pad"},"Filters")),f&&r.a.createElement("div",null,r.a.createElement(vr.a,{style:C},"Timeframe "),r.a.createElement("div",{className:"slide-up"},r.a.createElement(Le,{textAlign:"left",bold:!0},"Presets"),r.a.createElement(pa.a,Object.assign({onChange:function(e){return function(e){null===e?x(!1):(x(!0),u.setInterval(e))}(JSON.parse(e))}},H),f.map((function(e){var t=e.label,n=e.enteries;return r.a.createElement(pa.a.OptGroup,{label:t},n.map((function(e){var t=e.value,n=e.label;return r.a.createElement(pa.a.Option,{value:JSON.stringify(t)},n)})))})))),r.a.createElement("div",{className:"slide-up",style:{marginTop:"1em"}},r.a.createElement(Le,{textAlign:"left",bold:!0},"From"),r.a.createElement(z,Object.assign({},k,{mobileLayout:!1}),r.a.createElement(hr.a,{disabled:O,disabledDate:j,style:{borderRadius:8,width:"100%"},onChange:function(e){return u.setInterval({startTime:e})},value:In(d.interval.startTime)}),!p&&r.a.createElement(br.a,{disabled:O,disabledDate:j,use12Hours:!0,format:"hh:mm A",minuteStep:15,style:{borderRadius:8,width:"100%"},onChange:function(e){return u.setInterval({startTime:e})},value:In(d.interval.startTime)}))),r.a.createElement("div",{className:"slide-up",style:{marginTop:"1em"}},r.a.createElement(Le,{textAlign:"left",bold:!0},"To"),r.a.createElement(z,Object.assign({},k,{gridGap:"0 1em",mobileLayout:!1}),r.a.createElement(hr.a,{disabled:O,disabledDate:j,style:{borderRadius:8,width:"100%"},onChange:function(e){return u.setInterval({endTime:e})},value:In(d.interval.endTime)}),!p&&r.a.createElement(br.a,{disabledDate:j,use12Hours:!0,format:"hh:mm A",disabled:O,style:{borderRadius:8,width:"100%"},onChange:function(e){return u.setInterval({endTime:e})},value:In(d.interval.endTime)})))),v&&r.a.createElement("div",{className:"slide-up"},r.a.createElement(vr.a,{style:C},"Metric"),r.a.createElement(Le,{bold:!0,textAlign:"left"},"Select Measurement"),r.a.createElement(pa.a,Object.assign({},H,{placeholder:"Select",value:d.metricType,onChange:u.setMetric}),v.map((function(e){var t=e.label,n=e.value;return r.a.createElement(pa.a.Option,{className:"capitalize",value:n},t)})))),h&&r.a.createElement("div",{className:"slide-up"},r.a.createElement(vr.a,{style:C},"Resources"),r.a.createElement(Le,{bold:!0,textAlign:"left"},"Select Garages"),r.a.createElement(pa.a,Object.assign({},H,{mode:"multiple",placeholder:"All Garages",value:d.resourceIds,onChange:u.setGarages}),h.map((function(e){var t=e.name,n=e.id;return r.a.createElement(pa.a.Option,{value:n},t)})))),g&&r.a.createElement("div",{className:"slide-up"},r.a.createElement(vr.a,{style:C},"Aggregation"),r.a.createElement(Le,{bold:!0,textAlign:"left"},g.label),r.a.createElement(pa.a,Object.assign({onChange:function(e){return u.setAlignment(JSON.parse(e))}},H,{defaultValue:"None"}),g.values.map((function(e){var t=e.value,n=e.label;return r.a.createElement(pa.a.Option,{value:JSON.stringify(t)},n)})))),r.a.createElement(z,{cols:2,placeItems:"stretch",placeSelf:"end stretch"},r.a.createElement(X,{shadow:!0,onClick:i,disabled:o},"Submit"),r.a.createElement(X,{onClick:s,disabled:o,noBorder:!0,invert:!0,shadow:!0},"Reset"))):null},yr={metricType:"garage_occupancy_count",resourceIds:[],crossSeriesReducer:"NONE",alignment:null,interval:Ln()};function Or(e,t){var n=e.interval,a=n.startTime,r=n.endTime,c=function(t){return Object(i.a)(Object(i.a)({},e),t)};switch(t.type){case ir.SET_METRICTYPE:return c({metricType:t.payload.metricType});case ir.SET_GARAGES:return c({resourceIds:t.payload.resourceIds});case ir.SET_INTERVAL:return c({interval:function(e){var t=e.startTime,n=void 0===t?a:t,c=e.endTime,o=void 0===c?r:c;console.log(e);var i=(n=In(n))>(o=In(o));return{startTime:(i?o:n).toISOString(),endTime:(i?n:o).toISOString()}}(t.payload.interval)});case ir.SET_ALIGNMENT:return c({alignment:t.payload||null});default:return e}}(lr=ir||(ir={}))[lr.SET_GARAGES=0]="SET_GARAGES",lr[lr.SET_ALIGNMENT=1]="SET_ALIGNMENT",lr[lr.SET_METRICTYPE=2]="SET_METRICTYPE",lr[lr.SET_INTERVAL=3]="SET_INTERVAL";var Sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yr,t=Object(a.useReducer)(Or,e),n=Object(l.a)(t,2),r=n[0],c=n[1],o=function(e){return c({type:ir.SET_GARAGES,payload:{resourceIds:e}})},i=function(e){return c({type:ir.SET_METRICTYPE,payload:{metricType:e}})},s=function(e){return c({type:ir.SET_ALIGNMENT,payload:e})},u=function(e){return c({type:ir.SET_INTERVAL,payload:{interval:e}})};return{timeseries:r,actions:{setGarages:o,setAlignment:s,setMetric:i,setInterval:u}}},xr={timeframes:[{label:"Custom",enteries:[{value:null,label:"Custom"}]},{label:"To-Date",enteries:[{value:Ln(),label:"Today"},{value:Pn(),label:"Year To Date"}]},{label:"Interval",enteries:[{value:Fn(7),label:"Last 1 Week"},{value:Fn(30),label:"Last 1 Month"},{value:Fn(90),label:"Last 3 Months"},{value:Fn(365),label:"Last 1 Year"}]}],metrics:[{value:"garage_occupancy_count",label:"Garage Occupancy Count"},{value:"garage_occupancy_percent",label:"Garage Occupancy Percent"}],aggregations:{label:"Max/Min Occupancy Selection",values:[{value:null,label:"None"},{label:"Hourly Max",value:{alignmentReducer:"MAX",alignmentPeriod:60}},{label:"Daily Max",value:{alignmentReducer:"MAX",alignmentPeriod:1440}},{label:"Hourly Min",value:{alignmentReducer:"MIN",alignmentPeriod:60}},{label:"Daily Min",value:{alignmentReducer:"MIN",alignmentPeriod:1440}}]}},wr=n(338),jr=function(e){var t,n,a=e.filterWidth,c=e.open,o=e.setOpen,l=Object(Xe.d)((function(e){return e.user.enterprise.id})),s=gr({timeseries:yr,eId:l}),u=s.metricDataStatus,d=s.refresh,m=Sr(yr),p=m.timeseries,f=m.actions,g=(null===p||void 0===p||null===(t=p.metricType)||void 0===t||null===(n=t.split("_"))||void 0===n?void 0:n.includes("percent"))||!1,v=Zn({eId:l}).garages,h={defaultValue:yr,metricDataStatus:u,filterWidth:a,loading:u.loading,submit:function(){return d(p)},reset:function(){return d(yr)},actions:f,timeseries:p,options:Object(i.a)(Object(i.a)({},xr),{},{resources:v})};return r.a.createElement(z,{placeItems:"start stretch",padding:"1em",height:"100%"},r.a.createElement(z,{cols:"1",gridGap:"0 1em"},r.a.createElement(sr,Object.assign({isPercent:g,className:"slide-up",filterWidth:a,metricDataStatus:u},wr,{filter:c?null:r.a.createElement(X,{placeSelf:"end",rounded:!0,shadow:!0,minWidth:"3em",onClick:function(){return o(!c)},faIcon:"fa fa-filter"}),legend:!0})),r.a.createElement(Er,Object.assign({},h,{open:c,toggle:function(){return o(!1)}}))))},Hr=[{title:"Time",dataIndex:"sun"},{title:"Sunday",dataIndex:"sun"},{title:"Monday",dataIndex:"mon"},{title:"Tuesday",dataIndex:"tue"},{title:"Wednesday",dataIndex:"wed"},{title:"Thrusday",dataIndex:"thur"},{title:"Friday",dataIndex:"fri"},{title:"Saturday",dataIndex:"sat"}],Cr=function(e){var t=Object(l.a)(e.startHour,2),n=t[0],a=t[1],r=Object(l.a)(e.endHour,2),c=r[0],o=r[1],i=n>=12?"PM":"AM";return"".concat(Ar(n),":").concat(kr(a)+i," -\n ").concat(Ar(c),":").concat(kr(o)+i)},kr=function(e){return String(e<10?"0".concat(e):e)},Ar=function(e){return kr(function(e){return Math.abs(e-12!==0?e-12:12)}(e))},Nr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t,n){};return Hr.map((function(n){var a=n.title,c=n.dataIndex;return{title:"Time"!==a?a:r.a.createElement("div",null,a," \xa0\xa0 ",r.a.createElement("i",{className:"fa fa-clock"})),dataIndex:c,key:c,render:function(n,o,l){var s=Math.floor(100*n.occupancy);return"Time"!==a?e?r.a.createElement(ma.a,{className:"".concat(c," ").concat(l),min:0,max:100,style:{placeSelf:"end",width:"60px"},defaultValue:s,onChange:function(e){return t(c,l,Object(i.a)(Object(i.a)({},n),{},{occupancy:Math.floor(e/100)}))},precision:0,name:"maxOccupancy"}):"".concat(s,"%"):r.a.createElement("b",null,Cr(n.interval))}}}))},Tr=n(649),Ir={title:"",table:{sun:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.2},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.1},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.1},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.1},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.1},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.1},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.1},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.1},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.1},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.1},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.1},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.1},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],mon:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.5},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.9},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.9},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.9},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.9},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.9},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.9},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.9},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.9},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.9},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.5},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],tue:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.5},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.9},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.9},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.9},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.9},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.9},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.9},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.9},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.9},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.9},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.5},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],wed:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.5},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.9},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.9},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.9},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.9},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.9},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.9},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.9},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.9},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.9},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.5},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],thur:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.5},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.9},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.9},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.9},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.9},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.9},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.9},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.9},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.9},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.9},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.5},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],fri:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.5},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.9},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.9},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.9},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.9},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.9},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.9},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.9},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.9},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.9},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.5},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],sat:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.1},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.1},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.1},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.1},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.1},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.1},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.1},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.1},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.1},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.1},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.1},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}]}},Rr=function(e){if(!(null===e||void 0===e?void 0:e.table))return[];var t=new Array(24);return Object.keys(e.table).map((function(n){e.table[n].map((function(e,a){t[a]=Object(i.a)(Object(i.a)({},t[a]),Object(Qa.a)({},n,e))}))})),t},Mr=function(e){var t=e.action,n=e.close,c=e.initialValues,o=Object(a.useRef)(null),i=Object.keys(c.table),l=function(){var e,t;return(null===o||void 0===o||null===(e=o.current)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.value)||c.title},s=function(e){return e.reduce((function(e,t){var n=u(t),a=c.table[t].map((function(e,t){return{interval:e.interval,occupancy:n[t]}}));return e[t]=a,e}),{})},u=function(e){var t=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}(document.getElementsByClassName(e));return t.sort((function(e,t){return Number(e.classList[1])-Number(t.classList)})),t.map((function(e){var t,n=null===e||void 0===e?void 0:e.children[1],a=(null===n||void 0===n||null===(t=n.children[0])||void 0===t?void 0:t.value)||"0";return Number(a)/100}))};return r.a.createElement(z,{placeItems:"stretch",width:"100%",height:"100%",gridGap:"0",background:"white",padding:".5em .8em 1em .8em"},r.a.createElement("div",{style:{padding:".5em"}},r.a.createElement(Le,{textAlign:"left",bold:!0},"Enter the Name of your Table"),r.a.createElement(ra.a,{placeholder:"Ex: New Table 1",name:"title",ref:o,defaultValue:c.title})),r.a.createElement("div",{style:{overflowY:"scroll",maxHeight:"75vh"}},r.a.createElement(cr.a,{bordered:!0,pagination:!1,key:1e3*Math.random(),style:{color:"#33B482",maxWidth:"100%"},dataSource:Rr(c),columns:Nr(!0,0)})),r.a.createElement("div",null,r.a.createElement(X,{onClick:n},"Cancel"),r.a.createElement(X,{onClick:function(){t({title:l(),id:c.id,table:s(i)}),n()}},"Submit")))},Lr=n(643),Dr=function(e){var t=e.active,n=e.select,a=e.table,c=e.remove,o=e.open;return r.a.createElement("div",{style:{placeSelf:"start stretch"}},r.a.createElement(Tr.b.Item,{className:"pointer",onClick:n},r.a.createElement(_e,{fullWidth:!0,active:t,style:{margin:"auto"}},r.a.createElement(z,{width:"100%",color:"inherit",customCols:"auto 1fr auto"},r.a.createElement("i",{className:"fa fa-table txt-lg",style:{padding:".35em"}}),a.title,r.a.createElement("span",null,r.a.createElement(Lr.a,{style:{padding:".4em",color:t?"inherit":"white"},title:"Are you sure",onConfirm:function(){return c(a.id)}},r.a.createElement("i",{className:"fa fa-trash hoverr",style:{color:t?"inherit":"white"}})),"\xa0   \xa0",r.a.createElement("i",{className:"fa fa-edit hoverr",onClick:o,style:{color:t?"inherit":"white"}}))))))},Pr=function(e){var t=e.add,n=e.remove,a=e.selected,c=e.select,o=e.edit,i=e.tables,l=e.loading,s=e.localeProps,u=Ie({title:"Add Your Occupancy Table",message:r.a.createElement(Mr,{action:t,close:function(){return u.close()},initialValues:Ir}),hideCancel:!0});return r.a.createElement(E,{shadow:!0,width:"400px",grid:!0,customRows:"auto 1fr",placeItems:"stretch"},r.a.createElement(S,{bold:!0,width:"100%",size:3},"Occupancy Tables",r.a.createElement(X,{style:{placeSelf:"end",fontSize:".6em",float:"right"},rounded:!0,shadow:!0,onClick:u.open,minWidth:"4.5em"},r.a.createElement("i",{className:"fa fa-".concat("plus")})," Add")),r.a.createElement(Tr.b,Object.assign({},s,{bordered:!l,dataSource:i,renderItem:function(e,t){return r.a.createElement(Dr,{select:function(){return c(t)},active:t===a,table:e,remove:n,open:function(){return function(e){var t=Ie({title:"Edit Your Occupancy Table",message:r.a.createElement(Mr,{action:o,initialValues:e,close:function(){return t.close()}}),hideCancel:!0});t.open()}(i[t])}})}})))},Fr=function(){var e=Object(Xe.d)((function(e){return e.user.enterprise.id})),t=Oa({eId:e}),n=t.tables,c=t.loading,o=t.addTable,i=t.editTable,s=t.removeTable,u=Object(a.useState)(0),d=Object(l.a)(u,2),m=d[0],p=d[1],f={locale:{emptyText:r.a.createElement(Je,{text:"No Occupancy Table"})},loading:{spinning:c,indicator:r.a.createElement(z,null,r.a.createElement(I.Spinner,{size:2,color:"#33B482"}))}};return Object(a.useEffect)((function(){return p(0)}),[n]),r.a.createElement(z,{placeItems:"start stretch",padding:"1em",height:"100%"},r.a.createElement(z,{customCols:"auto 1fr",height:"100%",placeItems:"stretch"},r.a.createElement(Pr,{add:o,localeProps:f,tables:n,remove:s,loading:c,edit:i,select:p,selected:m}),r.a.createElement(E,{shadow:!0,width:"100%",height:"100%"},r.a.createElement(cr.a,Object.assign({bordered:!0},f,{pagination:!1,key:1e3*Math.random(),style:{color:"#33B482",maxWidth:"90vw",minHeight:"800px"},dataSource:Rr(n[m]||[]),columns:Nr()})))))},Gr=n(339),_r=n.n(Gr),Ur=function(e){var t=e.title,n=e.faIcon,a=e.span,c=void 0===a?1:a,o=e.color,l=void 0===o?"white":o,s=e.children,u=e.adjacentLabel,d=e.hoverLabel,m=e.borderRight?{borderRight:"1px solid #A6ACAF",padding:"0 1em"}:{};return r.a.createElement(z,{className:"noselect",style:Object(i.a)(Object(i.a)({},m),{},{gridColumn:"span "+c,minHeight:"12em"}),placeSelf:"stretch",customRows:"auto 1fr"},r.a.createElement(S,{size:3.5,color:l,placeSelf:"start stretch",style:{lineHeight:".8em",height:"1.5em"}},t," \xa0",n&&r.a.createElement(Y.a,{placement:"topLeft",title:d},r.a.createElement("i",{className:n+" pointer"}))),r.a.createElement("div",{style:{color:l,placeSelf:"start center"}},r.a.createElement("div",{style:{height:"6em"}},s),r.a.createElement("div",{style:{lineHeight:"1em"},dangerouslySetInnerHTML:{__html:u}})))};Ur.PercentBar=function(e){var t=e.percent,n=e.type,a=e.text,c=e.status,o=void 0!==c&&c,i=t<=50?"#F2BE72":"linear-gradient(to right, #F2BE72 ".concat(50,"%, #F76E49)");return r.a.createElement(ea.a,{percent:t,strokeColor:o?i:"#5578D6",successPercent:0,type:n,format:function(){return r.a.createElement("div",{className:"bold",style:{color:"white"}},a||t+"%")}})};Ur.FlatValue=function(e){var t,n=e.name,c=e.flatValueQuery,o=e.leftBorder,i=e.borderRight,s=(e.refresh,Object(a.useState)(0)),u=Object(l.a)(s,2),d=u[0],m=u[1],p=Object(a.useState)(void 0),f=Object(l.a)(p,2),g=f[0],v=f[1],h=Object(a.useState)(void 0),b=Object(l.a)(h,2),E=b[0],y=b[1],O=Object(a.useState)(!1),S=Object(l.a)(O,2),x=S[0],w=S[1],j=Object(a.useState)(void 0),H=Object(l.a)(j,2),C=H[0],k=H[1],A=Object(Xe.d)((function(e){return e.user.enterprise.id}));return Object(a.useEffect)((function(){an(A,c).then((function(e){if(!(null===e||void 0===e?void 0:e.success))throw new Error("Failed");var t,n=e.flatValueResult,a=n.flatValue.value,r=n.metricType,c=n.hoverLabel,o=n.adjacentLabel,i=n.unit;w(null===r||void 0===r||null===(t=r.split("_"))||void 0===t?void 0:t.includes("percent")),v(c),k(i),y(o),"%"!==i&&"cents"!==i||(a/=100),a=Math.round(100*a)/100,m(a||0)})).catch((function(e){return console.log(e)}))}),[]),r.a.createElement(Ur,{borderRight:i,title:(t=n,t.charAt(0).toUpperCase()+t.substring(1).replace(/ /g," ")),hoverLabel:g,adjacentLabel:E,faIcon:"fa fa-car",unit:C,leftBorder:o},x?r.a.createElement(Ur.PercentBar,{type:"circle",percent:Number(d)}):r.a.createElement("div",{className:"txt-lgx"},"cents"===C&&"$","number"===typeof d?r.a.createElement(_r.a,{duration:2,start:0,end:d}):d))};var Br=function(){var e=Object(Xe.d)((function(e){return e.user.enterprise.id})),t=Zn({eId:e}),n=t.garages,a=t.loading,c=n.filter((function(e){var t;return e.active&&void 0!==(null===(t=e.occupancy)||void 0===t?void 0:t.count)})).sort((function(e,t){var n,a;return((null===(n=e.occupancy)||void 0===n?void 0:n.count)||0)-((null===(a=t.occupancy)||void 0===a?void 0:a.count)||0)})),o=c.reduce((function(e,t){return e+t.maxOccupancy}),0),i=c.reduce((function(e,t){var n=t.occupancy;return e+((null===n||void 0===n?void 0:n.count)||0)}),0),l=function(e,t){return(e/t*100||0).toFixed(2)};return r.a.createElement(z,{cols:"5",style:{gridColumn:"1/-1"},width:"100%",padding:"1.5em 1.5em 0 1.5em"},"  ",r.a.createElement(S,{className:"hide-mobile",style:{gridColumn:"1/-1",placeSelf:"end"},size:4.6,color:"#FFFFFF"},"Updated on: ",In().format("hh:mm A")),r.a.createElement(Ur,{title:"Parked Vehicles",faIcon:"fa fa-car",label:"Parked Vehicles",borderRight:!0},r.a.createElement("span",{className:"txt-lgx"},i),r.a.createElement("span",{className:"txt-md"},"/",o)),r.a.createElement(Ur,{title:"Parked Vehicles(%)",faIcon:"fa fa-car",label:"Parked Vehicles",borderRight:!0},r.a.createElement(Ur.PercentBar,{type:"dashboard",percent:l(i,o)})),r.a.createElement(Ur,{title:"Active Garages",faIcon:"fa fa-car",label:"Parked Vehicles",borderRight:!0},r.a.createElement(Ur.PercentBar,{type:"dashboard",text:"".concat(c.length,"/").concat(n.length),percent:l(c.length,n.length)})),r.a.createElement(Ur,{title:"Garage Occupancies",faIcon:"fa fa-car",label:"Parked Vehicles",span:2},r.a.createElement(z,{placeSelf:"start"},r.a.createElement(z,{customCols:a?"1fr":"1fr  minmax(15em, auto)",placeItems:"stretch",width:"100%",color:"white",gridGap:".2em 1.5em"},r.a.createElement(le,{loading:a,empty:r.a.createElement(Je,{text:"No Garages",color:"white",style:{width:"7em",margin:"0 auto",placeSelf:"end"}}),pagination:{items:4},list:c,map:function(e){var t=e.name,n=e.occupancy,a=e.maxOccupancy,c=e.abnormality,o=(n||{count:0}).count,i=l(o,a);return r.a.createElement(r.a.Fragment,null,r.a.createElement(S,{size:3.75,textAlign:"left",color:"white"},r.a.createElement(Y.a,{title:"\n                                            Abnormality is: ".concat((null===c||void 0===c?void 0:c.active)?"ON. It is triggered on ".concat(100*c.percent,"%"):"OFF","\n                                        ")},r.a.createElement("i",{style:{color:(null===c||void 0===c?void 0:c.active)?"coral":"#A6ACAF"},className:"fa fa-bell"})),"\xa0\xa0",un(t,18)),r.a.createElement(Ur.PercentBar,{status:!0,percent:i,text:o?i+"%":"N/A"}))}})))))},Wr={ANALYTICS:"ANALYTICS",LISTINGS:"LISTINGS",OCCUPANCY:"OCCUPANCY"},zr=function(){var e=Object(a.useState)(Wr.ANALYTICS),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!0),i=Object(l.a)(o,2),s=i[0],u=i[1],d=s&&n===Wr.ANALYTICS&&window.innerWidth>1360,m=s?375:0;return r.a.createElement(Kn,{sidebar:!0},r.a.createElement(z,{customCols:"1fr auto",width:"100%",gridGap:"0",placeItems:"start",style:{height:"100%"}},r.a.createElement("div",{style:{width:"100%",placeSelf:"start end"}},r.a.createElement(Kn.Top,{style:d?{margin:"0 0 0 8%",maxWidth:"100%"}:{}},r.a.createElement(Pe.underlined,{style:{placeSelf:"start",gridColumn:"1/-1"},items:Object.keys(Wr),onClick:function(e){return c(e)},active:n}),r.a.createElement(Br,null)),r.a.createElement(Kn.Bottom,{style:d?{margin:"-10em 0 0 8%",maxWidth:"100%"}:{margin:"-10em auto auto auto",maxWidth:"1500px"}},n===Wr.LISTINGS?r.a.createElement(Sa,null):n===Wr.OCCUPANCY?r.a.createElement(Fr,null):r.a.createElement(jr,{filterWidth:m,open:s,setOpen:u}))),n===Wr.ANALYTICS&&r.a.createElement("div",{className:"overlay-tablet",style:{width:m}})))},Yr=function(){var e=Object(F.a)(P.a.mark((function e(t){var n,a,r=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.next=4,t();case 4:if((a=e.sent)&&a.success){e.next=7;break}throw new Error(a.message||"Error");case 7:return e.next=9,a;case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(1),n&&ye({title:"Error: Annoucement",message:String((null===e.t0||void 0===e.t0?void 0:e.t0.message)||e.t0)});case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),Vr=function(e){return function(){var t=Object(F.a)(P.a.mark((function t(n){var a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:xn}),t.next=3,Yr((function(){return Xt(e)}),!0);case 3:(a=t.sent)&&a.success?n({type:wn,payload:{announcements:null===a||void 0===a?void 0:a.announcements}}):n({type:jn});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Jr=n(644),Qr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return[{title:"Title",dataIndex:"title",key:"title",render:function(e){return e}},{title:"Message",dataIndex:"body",key:"body",render:function(e){return r.a.createElement("div",{style:{textOverflow:"ellipsis",height:"1.5em",overflow:"hidden",whiteSpace:"nowrap"}},e)}},{title:"Status",dataIndex:"status",render:function(e){return r.a.createElement(ze,{className:"shadow txt-center",style:{background:"expired"===e?"red":""}},e)}},{title:"Launch Date",key:"launchAt",dataIndex:"launchAt",render:function(e){return In(e).format("YYYY-MM-DD hh:mm A")}},{title:"Expiry Date",key:"expiresAt",dataIndex:"expiresAt",render:function(e){return e?In(e).format("YYYY-MM-DD hh:mm A"):"n/a"}},{title:"Action",key:"action",render:function(a,c){return r.a.createElement(Jr.a,{size:"middle"},r.a.createElement(X,{shadow:!0,disabled:n,loading:n,onClick:function(){return e(c)}},r.a.createElement("i",{className:"fa fa-edit"})," \xa0Edit"),r.a.createElement(Lr.a,{okButtonProps:{size:"middle"},cancelButtonProps:{size:"middle"},title:"Are you sure",onConfirm:function(){return t(c)}},r.a.createElement(X,{shadow:!0,bg:"red",disabled:n,loading:n},r.a.createElement("i",{className:"fa fa-trash"})," \xa0Delete")))}}]};function qr(){var e=Object(s.a)(["\n  @media (max-width: ",") {\n    overflow-x: scroll;\n  }\n"]);return qr=function(){return e},e}var Xr={emptyText:r.a.createElement(Je,{text:"No Annoucement"})},Kr=function(e){var t=e.announcements,n=e.edit,c=e.add,o=e.toggler,i=Object(Xe.d)((function(e){return e.user.enterprise.id})),l=Object(Xe.c)(),s=Object(Xe.d)((function(e){return e.announcement.loadingAction})),u=Object(Xe.d)((function(e){return e.announcement.loadingAnnouncements}));return Object(a.useEffect)((function(){i&&l(Vr(i))}),[i]),r.a.createElement(E,{shadow:!0,minWidth:"60vw",padding:".5em"},r.a.createElement(z,{customCols:"auto 1fr auto"},r.a.createElement("div",null),o,r.a.createElement(X,{rounded:!0,invert:!0,padding:".2em",shadow:!0,faIcon:"fa fa-".concat("plus"),onClick:c,minWidth:"4.5em"}," Add")),r.a.createElement($r,null,r.a.createElement(cr.a,{locale:Xr,key:1e3*Math.random(),loading:u,style:{color:"#33B482",maxWidth:"90vw"},dataSource:t,columns:Qr(n,(function(e){return l((t=i,n=e,function(){var e=Object(F.a)(P.a.mark((function e(a){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:bn}),e.next=3,Yr((function(){return $t(t,n.id)}),!0);case 3:(r=e.sent)&&r.success?(a({type:Sn,payload:{announcement:n}}),Ee({title:"Success",message:"Your Announcement was deleted"})):a({type:En});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var t,n}),s),summary:function(e){return r.a.createElement(cr.a.Summary.Row,{key:1e3*Math.random(),className:"bold",style:{color:"#33B482"}},r.a.createElement("br",null),"Total Annoucements: ",e.length)}})))},$r=u.b.div(qr(),"860px"),Zr=n(340),ec=n.n(Zr),tc={title:"",body:"",status:"active",launchAt:In().toISOString(),expiresAt:null},nc=function(e){var t=e.add,n=e.close,c=e.initialValues,o=void 0===c?tc:c,i=Object(a.useState)(!1),s=Object(l.a)(i,2),u=s[0],d=s[1],m=Object(ua.a)({initialValues:o,onSubmit:function(e){h(e)}}),p=m.handleSubmit,f=m.handleChange,g=m.values,v=m.setFieldValue,h=function(){var e=Object(F.a)(P.a.mark((function e(a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,t(a);case 4:n(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,d(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})));return function(t){return e.apply(this,arguments)}}(),b=!g.launchAt||!g.body||!g.title;return r.a.createElement("form",{onSubmit:p,className:"grid",style:{padding:".5em 1em",height:"100%",width:"100%",placeItems:"center stretch",gridGap:".4em",background:"white"}},r.a.createElement("div",null,r.a.createElement(Le,{textAlign:"left",bold:!0},"Annoucement Title"),r.a.createElement(ra.a,{name:"title",value:g.title,onChange:f,placeholder:"Example: SJSU Graduation Ceramony"})),r.a.createElement("div",null,r.a.createElement(Le,{textAlign:"left",bold:!0},"Annoucement Message"),r.a.createElement(ra.a.TextArea,{name:"body",value:g.body,onChange:f,placeholder:"Example: Information on the Event"})),r.a.createElement("div",{className:"grid",style:{placeItems:"end"}},r.a.createElement(Le,{textAlign:"left",placeSelf:"stretch",bold:!0},"Message Launch Date"),r.a.createElement(hr.a,{use12Hours:!0,showTime:{format:"hh:mm a"},format:"YYYY-MM-DD hh:mm A",minuteStep:15,style:{width:"100%"},value:In(g.launchAt),onChange:function(e){e&&v("launchAt",e.toISOString())}})),r.a.createElement("div",{className:"grid",style:{placeItems:"end"}},r.a.createElement(Le,{textAlign:"left",placeSelf:"stretch",bold:!0},"Message Expiry Date"),r.a.createElement(hr.a,{use12Hours:!0,style:{width:"100%"},showTime:{format:"hh:mm a"},format:"YYYY-MM-DD hh:mm A",minuteStep:15,value:g.expiresAt?In(g.expiresAt):null,onChange:function(e){return v("expiresAt",(null===e||void 0===e?void 0:e.toISOString())||null)}})),r.a.createElement(z,{cols:"2",size:"0.7em",placeItems:"stretch"},r.a.createElement(X.Normal,{type:"submit",disabled:u,onClick:function(){return n()}},"Cancel"),u?r.a.createElement(X,{loading:!0,disabled:!0},"Loading"):r.a.createElement(X.Normal,{type:"submit",disabled:b,onSubmit:function(e){return p(e)}},"Confirm")))},ac=function(e){var t=e.eId,n=e.screen,r=e.resource,c=void 0===r?"":r,o=Object(a.useState)({charts:[],scoreCards:[],scoreCardOptions:[],dId:"",loading:!1,error:!1}),s=Object(l.a)(o,2),u=s[0],d=s[1],m=function(e){return d(Object(i.a)(Object(i.a)({},u),e))},p=function(){var e=Object(F.a)(P.a.mark((function e(t){var a,r,o,i,l,s,u,d;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return en(t)},errorMessage:"Failed: Loading Charts"});case 3:return r=e.sent,e.next=6,$n({apiCall:function(){return nn(t,c)},errorMessage:"Failed: Loading Score Cards"});case 6:o=e.sent,i=(null===r||void 0===r||null===(a=r.dashboards)||void 0===a?void 0:a.filter((function(e){return(null===e||void 0===e?void 0:e.screen)===n})))||[],l=i[0]||{scoreCards:[],charts:[],id:""},s=l.scoreCards,u=l.charts,d=l.id,m({loading:!1,error:(null===r||void 0===r||r.success,!1),scoreCards:s,scoreCardOptions:(null===o||void 0===o?void 0:o.metricDescriptors)||[],dId:d,charts:u});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(F.a)(P.a.mark((function e(n){var a,r,c,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.scoreCards,r=void 0===a?u.scoreCards:a,c=n.charts,o=void 0===c?u.charts:c,e.next=3,$n({apiCall:function(){return tn(t,u.dId,{charts:o,scoreCards:r})},errorMessage:"Could not Edit Widgets",successMessage:"Widget was Edited"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p(t)}),[t]),Object(i.a)(Object(i.a)({},u),{},{getWidgets:p,removeChart:function(e){var t=u.charts.filter((function(t,n){return n!==e}));m({charts:t}),f(Object(i.a)({},{charts:t}))},removeScoreCard:function(e){var t=u.scoreCards.filter((function(t,n){return n!==e}));m({scoreCards:t}),f({scoreCards:t})},addWidget:function(e){var t=[].concat(Object(x.a)(u.charts),[e]);m({charts:t}),f(Object(i.a)({},{charts:t}))},editScoreCards:function(e){e!==u.scoreCards&&(m({scoreCards:e}),f({scoreCards:e}))},saveWidgets:f})},rc=Object(a.createContext)({editMode:!1,toggleEditMode:function(){}}),cc=function(e){Object(Ze.a)(n,e);var t=Object(et.a)(n);function n(){var e;Object(Ke.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toggleEditMode=function(){return e.setState({editMode:!e.state.editMode})},e.state={editMode:!1,toggleEditMode:e.toggleEditMode},e}return Object($e.a)(n,[{key:"render",value:function(){return r.a.createElement(rc.Provider,{value:this.state},this.props.children)}}]),n}(r.a.Component),oc=(rc.Consumer,function(e){var t=e.style,n=e.scoreCards,a=e.loading;return r.a.createElement("div",{className:"slide-up",style:Object(i.a)({width:"100%",gridColumn:"1/-1",padding:".9em .5em"},t)},!a&&r.a.createElement(Le,{style:{gridColumn:"1/-1",fontSize:".8em"},textAlign:"right",color:"#FFFFFF"},"\xa0 Updated on: ",In().format("hh:mm A")),r.a.createElement(z,{cols:a?1:5,mobileCols:"1fr 1fr",placeItems:a?"center":"stretch",style:{minHeight:"9em"}},r.a.createElement(le,{list:n,loading:a,map:function(e,t){return r.a.createElement(Ur.FlatValue,{borderRight:t<n.length-1,name:e.title,flatValueQuery:e.flatValueQuery})}})))}),ic={ACTIVE:"ACTIVE",ALL:"ALL",EXPIRED:"EXPIRED",DEFAULT:"ACTIVE",states:["ACTIVE","ALL","EXPIRED"]},lc=function(e){return r.a.createElement(z,{customCols:"3fr 2fr",width:"100%",height:"100%",gridGap:"0"},r.a.createElement("div",{style:{background:"#33B482",height:"100%",padding:"1em",width:"100%"}},r.a.createElement("img",{src:ec.a,style:{maxWidth:"300px"}})),r.a.createElement(nc,e))},sc=function(){var e=Object(Xe.d)((function(e){return e.user.enterprise.id})),t=Object(a.useContext)(rc),n=(t.editMode,t.toggleEditMode,ac({eId:e,screen:"announcement",resource:"announcement"})),c=n.loading,o=n.scoreCards,s=n.scoreCardOptions,u=n.editScoreCards,d=n.removeScoreCard,m=Object(Xe.d)((function(e){return e.announcement.announcements})),p=Object(Xe.c)(),f=Object(a.useState)({active:ic.DEFAULT}),g=Object(l.a)(f,2),v=g[0],h=g[1],b=function(t){return p((n=e,a=t,function(){var e=Object(F.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:bn}),e.next=3,Yr((function(){return Zt(n,a.id,a)}),!0);case 3:(r=e.sent)&&r.success?(t({type:yn,payload:{announcement:a}}),Ee({title:"Success",message:"Your Announcement was Edited"})):t({type:En});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n,a},E=Ie({title:"Add Announcement",message:r.a.createElement(lc,{add:function(t){return p((n=e,a=t,function(){var e=Object(F.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yr((function(){return Kt(n,a)}),!0);case 2:(r=e.sent)&&r.success?(t({type:On,payload:{announcement:Object(i.a)(Object(i.a)({},a),{},{id:r.announcementId})}}),Ee({title:"Success",message:"Your Announcement was added"})):t({type:En});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n,a},close:function(){return E.close()}}),hideCancel:!0}),y=m.filter((function(e){return e.status.toUpperCase()===v.active||v.active===ic.ALL}));return Object(a.useEffect)((function(){e&&p(Vr(e))}),[e]),r.a.createElement(Kn,{sidebar:!0},r.a.createElement(Kn.Top,{style:{paddingTop:"3em"}},r.a.createElement(oc,{loading:c,removeScoreCard:d,editScoreCards:u,scoreCards:o,scoreCardOptions:s})),r.a.createElement(Kn.Bottom,null,r.a.createElement(Kr,{edit:function(e){var t=Ie({title:"Edit Announcement",message:r.a.createElement(lc,{add:b,initialValues:e,close:function(){return t.close()}}),hideCancel:!0});t.open()},add:E.open,toggler:r.a.createElement(Pe,{style:{margin:"0 0 .5em 0"},active:v.active,items:ic.states,onClick:function(e){return h(Object(i.a)(Object(i.a)({},v),{},{active:e}))}}),announcements:y})))},uc=n(249),dc=n.n(uc),mc={timeframes:[{label:"Custom",enteries:[{value:null,label:"Custom"}]},{label:"To-Date",enteries:[{value:Dn(),label:"Current Month"},{value:Dn(-1),label:"Last Month"},{value:Pn(),label:"Year To Date"}]},{label:"Interval",enteries:[{value:Fn(30),label:"Last 30 Days"},{value:Fn(90),label:"Last 90 Days"}]}],aggregations:{label:"Aggregations",values:[{value:null,label:"Auto"},{label:"Daily",value:{alignmentReducer:"MEAN",alignmentPeriod:1440}},{label:"Weekly",value:{alignmentReducer:"MEAN",alignmentPeriod:10080}},{label:"Monthly",value:{alignmentReducer:"MEAN",alignmentPeriod:43200}}]}},pc=n(341),fc=Object(i.a)(Object(i.a)({},yr),{},{interval:Dn(),resourceIds:["5f1147320b05ea57e9d4e27c"]}),gc=function(){var e,t=Object(Xe.d)((function(e){return e.user.enterprise.id})),n=ac({eId:t,screen:"citation"}),c=n.loading,o=n.scoreCards,s=Object(a.useState)(!0),u=Object(l.a)(s,2),d=u[0],m=u[1],p=window.innerWidth>1360,f=d?375:0,g=Object(a.useState)(!1),v=Object(l.a)(g,2),h=v[0],b=v[1],E=gr({timeseries:fc,interval:Dn(),eId:t}),y=E.metricDataStatus,O=E.refresh,S=(null===y||void 0===y?void 0:y.data)?Object(i.a)(Object(i.a)({},null===y||void 0===y?void 0:y.data),{},{timeSeriesResult:Object(i.a)(Object(i.a)({},null===y||void 0===y?void 0:y.data.timeSeriesResult),{},{timeSeries:[Object(i.a)(Object(i.a)({},null===y||void 0===y||null===(e=y.data.timeSeriesResult)||void 0===e?void 0:e.timeSeries[0]),{},{displayLabel:"Citation Revenue: $500. <br>Citation Number"})]})}):null,x=Object(i.a)(Object(i.a)({},y),{},{data:S}),w=Sr(fc),j=w.timeseries,H=w.actions,C=Object(i.a)(Object(i.a)({},mc),{},{aggregations:void 0}),k={defaultValue:j,metricDataStatus:x,filterWidth:f,loading:y.loading,submit:function(){return O(j)},reset:function(){return O(j)},actions:H,hideTimeSelection:!0,timeseries:j,options:C};Object(a.useEffect)((function(){h&&(O(j),b(!1))}),[j]);var A={style:{width:"100px",marginRight:"1em"},disabled:y.loading};return r.a.createElement(Kn,{sidebar:!0},r.a.createElement(z,{customCols:"1fr auto",width:"100%",gridGap:"0",placeItems:"start",style:{height:"100%"}},r.a.createElement("div",{style:{width:"100%",placeSelf:"start end"}},r.a.createElement(Kn.Top,{style:p?{margin:"0 0 0 8%",maxWidth:"100%"}:{}},r.a.createElement("div",null),r.a.createElement(oc,{loading:c,eId:t,scoreCards:o})),r.a.createElement(Kn.Bottom,{style:p?{margin:"-10em 0 0 8%",maxWidth:"100%"}:{margin:"-10em auto auto auto",maxWidth:"1500px"}},"  ",r.a.createElement(z,{placeItems:"start stretch",padding:"1em",height:"100%"},r.a.createElement(z,{cols:"1",gridGap:"0 1em"},r.a.createElement(sr,Object.assign({className:"slide-up",filterWidth:f,metricDataStatus:x},pc,{filter:r.a.createElement("div",null,r.a.createElement(pa.a,Object.assign({onChange:function(e){H.setAlignment(JSON.parse(e)),b(!0)},defaultValue:"Auto"},A),mc.aggregations.values.map((function(e){var t=e.value,n=e.label;return r.a.createElement(pa.a.Option,{value:JSON.stringify(t)},n)}))),d?null:r.a.createElement(X,{placeSelf:"end",rounded:!0,shadow:!0,minWidth:"3em",onClick:function(){return m(!d)},faIcon:"fa fa-filter"}))})),r.a.createElement(Er,Object.assign({},k,{open:d,toggle:function(){return m(!1)}})))))),r.a.createElement("div",{className:"overlay-tablet",style:{width:f}})))},vc=n(342),hc=n.n(vc),bc=function(){return r.a.createElement(Kn,{sidebar:!0},r.a.createElement(z,{padding:"6em 2em"},r.a.createElement("img",{src:hc.a,style:{maxWidth:"80vw"}})))},Ec=n(343),yc=n.n(Ec),Oc=function(){return r.a.createElement(Kn,{sidebar:!0},r.a.createElement(z,{padding:"6em 2em"},r.a.createElement("img",{src:yc.a,style:{maxWidth:"80vw"},alt:"profile"})))},Sc=n(344),xc=n.n(Sc),wc=n(345),jc=n(346),Hc=n.n(jc),Cc=function(e){e.login;var t=e.className,n=(e.ref,Object(a.useState)({})),c=Object(l.a)(n,2),o=(c[0],c[1],function(e){});return r.a.createElement("div",{className:t},r.a.createElement(Hc.a,{render:function(e){return r.a.createElement(X,{invert:!0,onClick:e.onClick},r.a.createElement("i",{className:"fab fa-facebook-square"}),"\xa0 Signup With Facebook")},appId:"1088597931155576",fields:"name,email,picture",onClick:o,callback:o}))},kc=function(e){e.login;var t=e.className,n=Object(a.useState)({}),c=Object(l.a)(n,2);c[0],c[1];return r.a.createElement("div",{className:t},r.a.createElement(wc.GoogleLogin,{render:function(e){return r.a.createElement(X,{invert:!0,onClick:e.onClick},r.a.createElement("i",{className:"fab fa-google"}),"\xa0 Signup With Google")},clientId:"432904370571-10sna4o5st6k2aee0q3p09bt05qjgbng.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:function(e){},onFailure:console.log,cookiePolicy:"single_host_origin"}))},Ac=function(){return r.a.createElement(z,{height:"100%",padding:"3em",background:"linear-gradient(to right top, #0bc062, #00b78b, #00aba7, #009cb4, #0d8cb0);"},r.a.createElement("img",{src:xc.a,style:{width:"500px",maxWidth:"40vw"}}),r.a.createElement(z,{cols:"2"},r.a.createElement(Cc,null),r.a.createElement(kc,null)))},Nc=n(75),Tc=[{id:"email",label:"Your email",placeholder:"Example: John.Doe@parkstash.com",hide:!1},{id:"authSecret",label:"Your Password",placeholder:"Example: \u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",hide:!0}],Ic=Nc.a({email:Nc.c().required("Required!").email(),authSecret:Nc.c().required("Required!").min(6,"Password must contain at least 6 characters")}),Rc=Object(Xe.b)((function(e){return{garages:e.garages}}),{})((function(e){var t=e.passwordForgotToggler,n=e.loading,a=(e.signupToggler,Object(Xe.c)()),c=Object(ua.a)({initialValues:{email:"",authSecret:"",authType:"password"},onSubmit:function(e){var t;a((t=e,function(){var e=Object(F.a)(P.a.mark((function e(n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,dn((function(){return Pt(t)}),n,!0,1500);case 3:(a=e.sent)&&a.success&&(n({type:lt.LOGIN,user:mn(a.user),token:a.authToken}),pn(a.user,n));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},validationSchema:Ic}),o=c.handleSubmit,i=c.handleChange,l=c.values,s=c.errors,u=Tc.reduce((function(e,t){var n=t.id;return e||Boolean(s[n])}),!1);return r.a.createElement("form",{onSubmit:o,className:"shake",style:{display:"grid",paddingTop:"2em",width:"100%",placeItems:"center stretch",gridGap:".4em"}},Tc.map((function(e){var t=e.id,a=e.placeholder,c=e.label,o=e.hide;return r.a.createElement("div",{style:{paddingTop:".5em"},key:t},r.a.createElement(Le,{textAlign:"left",bold:!0},c," ",r.a.createElement("span",{className:"red"},"*")),r.a.createElement(ra.a,{disabled:n,type:o?"password":"text",name:t,value:l[t],onChange:i,placeholder:a}))})),n?r.a.createElement(X,{loading:!0,disabled:!0},"Loading"):r.a.createElement(X.Normal,{type:"submit",disabled:u,onSubmit:function(e){return o(e)}},"Confirm"),r.a.createElement("div",null,r.a.createElement("span",{className:"pointer hover-bold",onClick:t},"Forgot Password?")))})),Mc=[{id:"name",label:"Your Name",placeholder:"Example: John Doe",hide:!1},{id:"email",label:"Your email",placeholder:"Example: John Doe",hide:!1},{id:"authSecret",label:"Your Password",placeholder:"Example: \u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",hide:!0},{id:"confirmPassword",label:"Confirm Password",placeholder:"Example: \u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",hide:!0}],Lc=Nc.a({email:Nc.c().required("Required!").email("Must be a Valid Email"),authSecret:Nc.c().required("Required!").min(6,"Password must contain at least 6 characters"),confirmPassword:Nc.c().required("Required!").min(6,"Password must contain at least 6 characters").oneOf([Nc.b("authSecret")],"Passwords must match"),name:Nc.c().required("Required!")});var Dc=Object(Xe.b)(null,(function(e){return{signup:function(t){return e((n=t,function(){var e=Object(F.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,dn(Object(F.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ft(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),t,!0,1500);case 3:(a=e.sent)&&a.success&&(t({type:lt.SIGNUP,user:mn(a.user),token:a.authToken}),pn(a.user,t));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n}}}))((function(e){var t=e.loading,n=e.signup,a=Object(ua.a)({initialValues:{name:"",email:"",authSecret:"",confirmPassword:"",authType:"password"},validationSchema:Lc,onSubmit:function(e){n(e)}}),c=a.handleSubmit,o=a.handleChange,i=a.errors,l=a.values,s=a.touched,u=a.handleBlur,d=Mc.reduce((function(e,t){var n=t.id;return e||Boolean(i[n])}),!1);return r.a.createElement("form",{className:"shake grid",onSubmit:c,style:{background:"white",paddingTop:"1em",width:"100%",placeItems:"center stretch",gridGap:".4em"}},Mc.map((function(e){var t=e.hide,n=e.id,a=e.placeholder,c=e.label,d=i[n];return r.a.createElement("div",{style:{paddingTop:".5em"},key:n},r.a.createElement(Le,{textAlign:"left",bold:!0},c," ",r.a.createElement("span",{className:"red"}," *")),r.a.createElement(ra.a,{type:t?"password":"text",name:n,onBlur:u,suffix:s[n]&&r.a.createElement(Y.a,{title:d},r.a.createElement("i",{className:"fa fa-".concat(d?"times-circle red":"check green"),style:{position:"relative"}})),value:l[n],onChange:o,placeholder:a}))})),t?r.a.createElement(X,{loading:!0,disabled:!0},"Loading"):r.a.createElement(X.Normal,{type:"submit",disabled:d,onSubmit:function(e){return c(e)}},"Confirm"))})),Pc=n(348),Fc=n.n(Pc),Gc=n(349),_c=n.n(Gc),Uc=function(e){var t=e.children,n=e.back,a=e.loading,c=e.action,o=e.image,i=void 0===o?Fc.a:o;return r.a.createElement("div",{style:{padding:"1em 2em"},className:"shake"},r.a.createElement("div",{className:"bold pointer txt-left",onClick:n,style:{color:"#33B482",width:"100%",padding:0}},r.a.createElement("i",{className:"fa fa-chevron-left"})," \xa0Back"),r.a.createElement("img",{src:i,alt:"Select Email",style:{height:"50%",maxWidth:"40vw",width:"300px"}}),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},style:{marginTop:"3em"}},t,r.a.createElement(X,{padding:".3em",loading:a,disabled:a,margin:".8rem 0",width:"100%",onClick:c},"Confirm")))},Bc=function(e){var t=e.selectEmail,n=e.back,c=e.loading,o=Object(a.useState)(""),i=Object(l.a)(o,2),s=i[0],u=i[1];return r.a.createElement(Uc,{back:n,loading:c,action:function(){return t(s)}},r.a.createElement(Le,{textAlign:"left",bold:!0},"Enter Your Email ",r.a.createElement("span",{className:"red"},"*")),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(ra.a,{name:"email",value:s,onChange:function(e){return u(e.target.value.trim())}})))},Wc=function(e){var t=e.back,n=e.resetPassword,c=e.loading,o=Object(a.useState)({user_password:"",confirm_password:""}),s=Object(l.a)(o,2),u=s[0],d=s[1];return r.a.createElement(Uc,{back:t,action:function(){try{if(u.user_password.length<5)throw new Error("Password Length Should be at least 6 characters");if(u.user_password!==u.confirm_password)throw new Error("Passwords do not Match");n(u.user_password)}catch(e){ye({title:"Error",message:e.message})}},loading:c},r.a.createElement(Le,{textAlign:"left",bold:!0},"Enter your Password"),r.a.createElement(ra.a,{name:"password",type:"password",onChange:function(e){var t=e.target.value;return d(Object(i.a)(Object(i.a)({},u),{},{user_password:t}))}}),r.a.createElement("br",null),r.a.createElement(Le,{textAlign:"left",bold:!0},"Confirm your Password"),r.a.createElement(ra.a,{name:"confirm-password",type:"password",onChange:function(e){var t=e.target.value;return d(Object(i.a)(Object(i.a)({},u),{},{confirm_password:t}))}}))},zc=function(e){var t=e.back,n=e.confirmEmail,c=e.loading,o=Object(a.useState)(""),i=Object(l.a)(o,2),s=i[0],u=i[1];return r.a.createElement(Uc,{image:_c.a,back:t,action:function(){return n(s)},loading:c},r.a.createElement(Le,{textAlign:"left",bold:!0},"Enter your Code"),r.a.createElement(ra.a,{value:s,onChange:function(e){return u(e.target.value.trim())}}))},Yc="SIGNUP",Vc="LOGIN",Jc="PASSWORD_SELECT_EMAIL",Qc="PASSWORD_CONFIRM_EMAIL",qc="PASSWORD_RESET",Xc=function(e){var t=e.children,n=e.state,a=e.toggler,c=function(e){return n===e};return r.a.createElement("div",{className:"noselect",style:{width:"100%",padding:"1.5em"}},r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("span",{className:"bold pointer ",onClick:c(Vc)?function(){}:a,style:{color:c(Vc)?"#33B482":"#A6ACAF",fontSize:"1.16em",padding:".3em .4em"}},"Login")," ","\xa0",r.a.createElement("span",{className:"bold pointer",onClick:c(Yc)?function(){}:a,style:{color:c(Yc)?"#33B482":"#A6ACAF",fontSize:"1.16em"}},"Signup")),r.a.createElement(S,{bold:!0,textAlign:"left",size:2},n),r.a.createElement(Le,{color:"#A6ACAF",textAlign:"left"},n," to continue to ParkStash Dasboard"),t)},Kc=function(){var e=Object(a.useState)(Vc),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),s=Object(l.a)(o,2),u=s[0],d=s[1],m=Object(Xe.d)((function(e){return e.user.loading})),p=Object(a.useState)({user_email:"",authtoken:""}),f=Object(l.a)(p,2),g=f[0],v=f[1],h=function(){return c(n===Vc?Yc:Vc)},b=function(e){return ye({title:"Error",message:String(e)})},E=function(e){return function(){return Ee({title:"Success",message:String(e)})}},y=function(){return d(!1)},O=function(e){return c(e)},S=function(){return c(Vc)};switch(n){case Jc:return r.a.createElement(Bc,{back:S,selectEmail:function(e){d(!0),_t({user_email:e}).then((function(t){if(!t.success)throw new Error(t.message);O(Qc),E("4 Digit Code was sent to your email"),v(Object(i.a)(Object(i.a)({},g),{},{user_email:e}))})).catch(b).finally(y)},loading:u});case qc:return r.a.createElement(Wc,{back:S,resetPassword:function(e){d(!0);var t=g.authtoken;Bt({authtoken:t},{user_password:e}).then((function(e){if(!e.success)throw new Error(e.message);O(Vc),E("Your password was Reset")})).catch(b).finally(y)},loading:u});case Qc:return r.a.createElement(zc,{back:S,confirmEmail:function(e){var t=g.user_email;d(!0),Ut({user_email:t,otp:e}).then((function(e){if(!e.success)throw new Error(e.message);v(Object(i.a)(Object(i.a)({},g),{},{authtoken:e.token})),O(qc)})).catch(b).finally(y)},loading:u});case Yc:return r.a.createElement(Xc,{state:n,toggler:h},r.a.createElement(Dc,{loading:m}));default:return r.a.createElement(Xc,{state:n,toggler:h},r.a.createElement(Rc,{passwordForgotToggler:function(){return c(Jc)},loading:m}))}},$c=n(350),Zc=n.n($c),eo=n(351),to=n.n(eo),no=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(a.useState)({enterprises:[],loading:!1,error:!1}),n=Object(l.a)(t,2),r=n[0],c=n[1],o=function(){var e=Object(F.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(i.a)(Object(i.a)({},r),{},{loading:!0,error:!1})),e.prev=1,e.next=4,zt();case 4:t=e.sent,c(Object(i.a)(Object(i.a)({},r),{},{loading:!1,error:!1,enterprises:t.enterprises})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),s(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),s=function(e){return c(Object(i.a)(Object(i.a)({},r),{},{loading:!1,error:!0,enterprises:[]}))};return Object(a.useEffect)((function(){o()}),[e]),Object(i.a)(Object(i.a)({},r),{},{getEnterpises:o,refresh:o})},ao=function(e){var t=e.children,n=Object(Xe.c)();return r.a.createElement(z,{customRows:"auto 1fr auto",style:{padding:"2em"},className:"shake"},r.a.createElement("div",{className:"bold pointer txt-right ",onClick:function(){return n(fn())},style:{color:"#33B482",width:"100%"}},"Logout"),t)},ro=function(){var e=Object(Xe.d)((function(e){return e.user.user.id})),t=Object(Xe.d)((function(e){return e.user.loading})),n=Object(Xe.c)(),c=no().enterprises,o=Object(a.useState)(""),i=Object(l.a)(o,2),s=i[0],u=i[1];return r.a.createElement(ao,null,r.a.createElement("img",{src:Zc.a,style:{maxWidth:"40vw",width:"200px"}}),r.a.createElement(Le,{textAlign:"left",bold:!0},"Select your Organization"),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(pa.a,{placeholder:"Select",style:{width:"95%"},value:s,onChange:function(e){return u(e)}},null===c||void 0===c?void 0:c.map((function(e){var t=e.id,n=e.title;e.imageUrl;return r.a.createElement(pa.a.Option,{key:t,value:t},n)}))),r.a.createElement(z,{cols:"1",margin:"2em 0"},r.a.createElement(X,{loading:t,disabled:t,invert:!0,width:"95%",onClick:function(){return n(function(e,t){return function(){var n=Object(F.a)(P.a.mark((function n(a){var r;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return 1500,n.next=3,dn((function(){return Wt(e,t)}),a,!0,1500);case 3:(r=n.sent)&&r.success&&a({type:lt.ADD_ENTERPISE});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(s,e))}},"Confirm"))))},co=function(){return r.a.createElement(ao,null,r.a.createElement("img",{src:to.a,style:{height:"50%",maxWidth:"40vw",width:"300px"}}),r.a.createElement(Le,{textAlign:"left",bold:!0},"Please wait till you get approved."))},oo=function(){switch(Object(Xe.d)((function(e){return e.user.userState}))){case yt.ENTERPISE_SELECT:return r.a.createElement(ro,null);case yt.ENTERPISE_PENDING:return r.a.createElement(co,null);default:return r.a.createElement(Kc,null)}},io=n(352),lo=n.n(io),so=function(){return r.a.createElement(Kn,{background:lo.a},r.a.createElement(z,{height:"100vh"},r.a.createElement(E,{padding:"0",grid:!0,shadow:!0,placeItems:"stretch",customCols:"3fr 2fr"},r.a.createElement(Ac,null),r.a.createElement(oo,null))))},uo=function(e){var t=e.eId,n=void 0===t?"":t,r=Object(a.useState)({enterpriseUsers:[],loading:!1,error:!1}),c=Object(l.a)(r,2),o=c[0],s=c[1],u=function(e){return s(Object(i.a)(Object(i.a)({},o),e))},d=function(){var e=Object(F.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return Vt(t)},notify:!1});case 3:n=e.sent,u({loading:!1,error:(null===n||void 0===n?void 0:n.success)||!0,enterpriseUsers:(null===n||void 0===n?void 0:n.enterpriseUsers)||[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(F.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return Qt(n,t.id)},successMessage:"User was Rejected",errorMessage:"User was not Rejected"});case 3:a=e.sent,u({loading:!1,error:(null===a||void 0===a?void 0:a.success)||!0}),d(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(F.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return Jt(n,t.id)},successMessage:"User was Rejected",errorMessage:"User was not Rejected"});case 3:a=e.sent,u({loading:!1,error:(null===a||void 0===a?void 0:a.success)||!0}),d(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(F.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({loading:!0,error:!1}),e.next=3,$n({apiCall:function(){return qt(n,t.id)},successMessage:"User was Accepted",errorMessage:"User was not Accepted"});case 3:a=e.sent,u({loading:!1,error:(null===a||void 0===a?void 0:a.success)||!0}),d(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){d(n)}),[n]),Object(i.a)(Object(i.a)({},o),{},{removeEnterpriseUser:p,rejectEnterpriseUser:m,acceptEnterpriseUser:f})},mo=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return[{title:"Name",dataIndex:"user",key:"user",render:function(e){return e.name}},{title:"Email",dataIndex:"user",key:"user",render:function(e){return e.email}},{title:"Status",dataIndex:"role",key:"role",render:function(e,t){var n,a,c="enabled"===(null===t||void 0===t||null===(n=t.user)||void 0===n||null===(a=n.apps)||void 0===a?void 0:a.enterpriseApp);return r.a.createElement("i",{className:"fas fa-".concat(c?"check":"times","-circle ").concat(!c&&"red")})}},{title:"Role",dataIndex:"role",key:"role",render:function(e){return r.a.createElement(ze,{inverted:!0,className:"shadow txt-center"},e)}},{title:"Action",key:"action",render:function(c,o){var i,l,s="enabled"===(null===o||void 0===o||null===(i=o.user)||void 0===i||null===(l=i.apps)||void 0===l?void 0:l.enterpriseApp);return r.a.createElement(Jr.a,{size:"middle"},r.a.createElement(X,{shadow:!a&&!s,disabled:a||s,onClick:function(){return e(o.user)}},r.a.createElement("i",{className:"fa fa-check"}),"\xa0Accept"),r.a.createElement(Lr.a,{okButtonProps:{size:"middle"},cancelButtonProps:{size:"middle"},title:"Are you sure",onConfirm:function(){return s?n(o.user):t(o.user)}},r.a.createElement(X,{bg:"red",shadow:!a,disabled:a},r.a.createElement("i",{className:"fa fa-".concat(s?"trash":"times")})," \xa0",s?"Remove":"Reject")))}}]};function po(){var e=Object(s.a)(["\n  @media (max-width: ",") {\n    overflow-x: scroll;\n  }\n"]);return po=function(){return e},e}var fo={ACCEPTED:"Enabled",ALL:"ALL",DEFAULT:"ALL",PENDING:"Onboarding",states:["Enabled","ALL","Onboarding"]},go={emptyText:r.a.createElement(Je,{text:"No Users"})},vo=u.b.div(po(),"860px"),ho=function(){var e=Object(Xe.d)((function(e){return e.user.enterprise.id})),t=Object(a.useContext)(rc),n=(t.editMode,t.toggleEditMode,ac({eId:e,screen:"adminControl",resource:"enterpriseUser"})),c=n.loading,o=n.scoreCards,s=n.scoreCardOptions,u=n.editScoreCards,d=n.removeScoreCard,m=uo({eId:e}),p=m.enterpriseUsers,f=m.loading,g=m.acceptEnterpriseUser,v=m.removeEnterpriseUser,h=m.rejectEnterpriseUser,b=Object(a.useState)({active:fo.DEFAULT}),y=Object(l.a)(b,2),O=y[0],S=y[1],x=p.filter((function(e){return e.user.apps.enterpriseApp===O.active.toLowerCase()||O.active===fo.ALL}));return r.a.createElement(Kn,{sidebar:!0},r.a.createElement(Kn.Top,{style:{paddingTop:"3em"}},r.a.createElement(oc,{loading:c,removeScoreCard:d,editScoreCards:u,scoreCards:o,scoreCardOptions:s})),r.a.createElement(Kn.Bottom,null,r.a.createElement(E,{shadow:!0,minWidth:"60vw",padding:".5em"},r.a.createElement(Pe,{active:O.active,style:{margin:"0 0 .5em 0"},items:fo.states,onClick:function(e){return S(Object(i.a)(Object(i.a)({},O),{},{active:e}))}}),r.a.createElement(vo,null,r.a.createElement(cr.a,{locale:go,rowKey:function(e){return e.user.id},loading:f,style:{color:"#33B482",maxWidth:"90vw"},dataSource:x,columns:mo(g,h,v,c)})))))},bo=n(353),Eo=function(){var e=Object(Xe.d)((function(e){return e.user.enterprise.id})),t=Object(Xe.d)((function(e){return e.user.user.shortName})),n=ac({eId:e,screen:"overview"}),a=n.charts,c=n.loading,o=n.scoreCards,i=n.scoreCardOptions,l=n.editScoreCards,s=n.removeScoreCard,u=c?"hide":"",m=Sr().timeseries,p=gr({timeseries:m,eId:e}),f={chart:m,metricDataStatus:p.metricDataStatus,interval:p.interval};return r.a.createElement(Kn,{sidebar:!0},r.a.createElement(Kn.Top,null,r.a.createElement(S,{color:"white",margin:"1em 0 0 0",className:"capitalize",width:"100%",bold:!0,textAlign:"left"},"\xa0 Welcome, ",t),r.a.createElement("div",null),r.a.createElement(oc,{loading:c,eId:e,removeScoreCard:s,editScoreCards:l,scoreCards:o,scoreCardOptions:i})),r.a.createElement(Kn.Bottom,null,r.a.createElement(z,{cols:"2",margin:"2em 0 0 0",gridGap:"0.3em"},r.a.createElement(S,{className:u,color:"white",style:{gridColumn:"1/-1"},bold:!0,width:"100%",textAlign:"left"},"\xa0 Today's Garage Occupancy Overview"),r.a.createElement(le,{list:a,loader:r.a.createElement(oe,{lines:7,number:1,style:{minHeight:"400px",minWidth:"100%",gridColumn:"1/-1"}}),loading:c,map:function(e){return r.a.createElement(sr,Object.assign({},f,e.lineChart,{filter:!1,span:2,types:bo.types}))}}),r.a.createElement(Qe.b,{to:"/garages",className:u,style:{gridColumn:"1/-1",placeSelf:"start"}},r.a.createElement(X,{rounded:!0,bold:!0,padding:".5em",shadow:!0,noHover:!0,bg:d},"See Details \xa0 ",r.a.createElement("i",{className:"fa fa-chevron-right"}))))))};var yo=function(){var e=Object(Xe.d)((function(e){return e.user.userState})),t=Object(Xe.c)(),n=Object(a.useState)({loading:!0}),c=Object(l.a)(n,2),o=c[0],s=c[1];return Object(a.useEffect)((function(){t(function(){var e=Object(F.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dn((function(){return Dt()}),t);case 2:(n=e.sent)&&n.success&&(t({type:lt.AUTH,user:mn(n.user),token:n.authToken}),pn(n.user,t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),setTimeout((function(){return s(Object(i.a)(Object(i.a)({},o),{},{loading:!1}))}),2e3)}),[]),o.loading?r.a.createElement(I.Parkstash,null):r.a.createElement(dc.a,null,e===yt.APPROVED?r.a.createElement(qe.c,null,r.a.createElement(qe.a,{path:"/announcements",render:function(){return r.a.createElement(sc,null)}}),r.a.createElement(qe.a,{path:"/events",render:function(){return r.a.createElement(bc,null)}}),r.a.createElement(qe.a,{path:"/citations",render:function(){return r.a.createElement(gc,null)}}),r.a.createElement(qe.a,{path:"/profile",render:function(){return r.a.createElement(Oc,null)}}),r.a.createElement(qe.a,{path:"/controls",render:function(){return r.a.createElement(ho,null)}}),r.a.createElement(qe.a,{path:"/garages",render:function(){return r.a.createElement(zr,null)}}),r.a.createElement(qe.a,{path:"/",render:function(){return r.a.createElement(Eo,null)}})):r.a.createElement(qe.a,{path:"/",render:function(){return r.a.createElement(so,null)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oo=n(646);n(616);function So(){var e=Object(s.a)(["\n  html,body{\n    font-size: 15px;\n    font-family: 'Roboto', sans-serif;\n  }\n  .ant-btn-primary, .ant-btn{\n    border-radius: .3em;\n    box-shadow: 0 .1em .1em rgba(0,0,0,.2);\n  }\n  .ant-btn-primary {\n    border-color: ",";\n    background: ",";\n  }\n  .ant-pagination-item, .ant-pagination-item-active a, .ant-select-selector:hover{\n    border-radius: .3em;\n    color: black !important;\n    border-color: "," !important;\n  }\n  .ant-select-selector{\n    border-radius: .4em !important;\n  }\n  .ant-picker {\n    border-color: #d9d9d9;\n  }\n  .ant-select-show-search.ant-select-multiple .ant-select-selector{\n    height: 40px;\n    overflow-y: auto;\n  }\n\n  input:focus, textarea:focus, .ant-picker-focused, input:hover, textarea:hover, .ant-picker:hover{\n    border-color: "," !important;\n  }\n  .ant-btn-primary:hover, .ant-btn-primary:focus, .ant-btn-primary:active, .ant-btn:hover, .ant-btn:focus, .ant-btn:active {\n    color: "," !important;\n    border-color: ",";\n    background: white;\n    transition: 200ms ease;\n    box-shadow: 0 0 0;\n  }\n  \n  .ant-table-cell{\n    max-width: 300px;\n    font-size: 15px;\n  }"]);return So=function(){return e},e}var xo=Object(u.a)(So(),"#33B482","#33B482","#33B482","#33B482","#33B482","#33B482"),wo=function(e){var t=e.children;return r.a.createElement(at,null,r.a.createElement(cc,null,r.a.createElement(Xe.a,{store:An},r.a.createElement(xo,null),t)))};Oo.a({dsn:"https://66ec245dbeed4c95a166a788bcf4f7ae@o410541.ingest.sentry.io/5284571"}),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(wo,null,r.a.createElement(Qe.a,null,r.a.createElement(yo,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e){e.exports=JSON.parse('{"a":["#4184f3","#ff5722","#ff8f00","#7cb342","#aa46bb","#00abc0","#f57c00","#9d9c23","#5b6abf","#ef6191","#00786a","#c1175a","#fa937f","#0fbfff","#e91e63","#c1175a","#31d8d0"]}')}},[[369,1,2]]]);
//# sourceMappingURL=main.cefb4e4f.chunk.js.map