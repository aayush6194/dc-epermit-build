{"version":3,"sources":["assets/user.svg","assets/AccountMenuIcon.png","assets/CalPolyLogo.png","assets/parkstash_logo.png","config.ts","api/header.ts","api/request.ts","api/index.ts","store/reducer/search.ts","hooks/debounce.ts","hooks/places_v1.ts","store/actions/search.tsx","pages/map/location-searcher/index.tsx","hooks/size.ts","pages/map/index_v1.tsx","components/sidebar/index.tsx","components/avatar/index.tsx","components/topnav/index.tsx","utils/time.ts","components/parkstash-text/index.tsx","layout.tsx","hooks/interval.ts","components/score-card/old-score-card.tsx","utils/text.tsx","components/chart/utils/color.ts","components/chart/components/graph/pie-chart.tsx","model/domain/metrics.ts","pages/events/model.ts","pages/events/analytics/header.tsx","hooks/promise_hook.ts","components/chart/components/axis.tsx","components/chart/hooks/rect.ts","components/chart/hooks/scale.ts","utils/logger.ts","components/chart/hooks/data.ts","components/chart/utils/points.ts","components/chart/hooks/tooltip.ts","components/chart/components/tooltip.tsx","components/chart/types.ts","components/chart/components/grid.tsx","components/chart/components/graph/multi-line.tsx","components/chart/components/graph/stacked-area.tsx","components/chart/components/graph/stacked-bar.tsx","components/chart/components/graph/combined.tsx","components/chart/utils/chart.tsx","components/chart/components/graph/index.tsx","components/chart/components/legend-table.tsx","components/chart/hooks/resize.ts","components/chart/components/header.tsx","components/chart/components/loading.tsx","components/chart/index.tsx","components/chart/hooks/chart-type.ts","pages/events/index.tsx","hooks/metrics.ts","pages/events/analytics/index.tsx","store/reducer/permit.ts","pages/home/index.tsx","utils/random.ts","components/modal/index.tsx","store/reducer/clients.ts","store/actions/clients.tsx","store/actions/permits.tsx","pages/permits/calpoly/history/index.tsx","pages/client/form.tsx","pages/client/index.tsx","pages/permits/calpoly/analytics/index.tsx","components/collapse/index.tsx","components/bar/index.tsx","pages/permits/calpoly/rules/index.tsx","pages/permits/calpoly/index.tsx","App.tsx","serviceWorker.ts","context/nav-context.tsx","store/reducer/index.ts","store/index.ts","providers.tsx","index.tsx"],"names":["module","exports","mobileWidth","tabletWidth","primaryColor","secondaryColor","gradient","gradientRev","gradient1","gradient2","primaryTxtColor","secodaryTxtColor","invertedTxtColor","disabledTxtColor","disabledTxtColor2","googleAPIKey","gray","cloudinaryPrefix","baseUrl","textOverFlowLimit","top4","top3","top2","top1","API","defaultLocation","lat","lng","token","authHeader","usertoken","localStorage","getItem","userId","authToken","btoa","os","delay","f","Promise","resolve","setTimeout","delayedResponse","response","a","json","res","e","authGet","url","useDelay","fetch","method","headers","then","authPost","body","JSON","stringify","ActionTypes","route","eId","props","metricType","addr","useDebounce","value","useState","debouncedValue","setDebouncedValue","useEffect","handler","clearTimeout","address_components","usePlaces","country","neededsAll","defaultAddressData","geo","address","city","zipcode","street","state","formattedAddress","searchText","setSearchText","debouncedSearchText","loading","success","error","addressData","setState","getAddressComponent","addresses","component","filter","types","includes","hasAllAddressComponent","reduce","acc","curr","ac","formatAddress","short_name","trim","getAddress","length","api","status","results","Error","filteredResults","formatted_address","geometry","location","console","log","catch","now","moment","later","add","intialState","query","long","start_date","format","end_date","start_hour","end_hour","amenities","booking_type","vehicle_classes","locations","LocationSearcher","width","setWidth","container","useRef","resize","current","clientWidth","window","addEventListener","removeEventListener","useSize","visible","setVisible","dispatch","useDispatch","placement","content","style","minWidth","maxWidth","customCols","Spinner","placeItems","className","onClick","type","SET_ADDRESS_DATA","payload","SET_SEARCH","setAddressData","margin","grid","ref","placeholder","background","borderRadius","padding","border","onChange","target","MapContainer","showingInfoWindow","name","revenue","zoom","citation","activeMarker","markPosition","selectedPlace","link","React","createRef","stokes","onMarkerClick","marker","placeSelf","height","position","to","display","this","zIndex","gridColumnStart","search","google","center","initialCenter","onZoomChanged","_","mapProps","map","clickEvent","latLng","coord","i","paths","strokeOpacity","strokeColor","strokeWeight","onMouseover","__","fillColor","fillOpacity","opacity","InfoWindowEx","click","toString","replace","Component","infoWindowRef","contentElement","document","createElement","ReactDOM","render","Children","only","children","infowindow","setContent","ConnectedMap","connect","GoogleApiWrapper","apiKey","Sideba","active","routes","avatar","role","Router","avatarStyle","message","collapsed","setCollapsed","activeStyle","borderLeft","events","collapsedHidden","shouldShow","iconStyle","color","LeftNav","Item","medium","src","bool","icon","key","NavItem","String","gridTemplateColumns","fontSize","Line","styled","hr","keyframes","div","Sidebar","avatarImg","useLocation","pathname","objectFit","NavLink","Avatar","notCloudinaryImg","prefix","styling","alt","Text","MiniNav","TopNavBar","path","bold","href","marginRight","ItemGroup","textAlign","gridGap","paddingLeft","Icon","user","mo","Layout","sidebar","admin","scrollTo","Wrapper","year","Top","noBackground","paddingBottom","mobileLayout","Bottom","shiftUp","marginTop","useInterval","func","intervalTime","interval","setInterval","clearInterval","ScoreCard","title","faIcon","span","adjacentLabel","hoverLabel","borderStyle","borderRight","minHeight","customRows","size","lineHeight","dangerouslySetInnerHTML","__html","PercentBar","percent","text","successPercent","FlatValue","str","flatValueQuery","refreshInterval","refresh","undefined","isPercent","unit","applicableResource","setRes","loadValue","useSelector","enterprise","id","charAt","toUpperCase","substring","resource","getIcon","Number","duration","start","end","overflow","txt","limit","getColor","index","colors","defaultMargin","top","right","bottom","left","PieChart","data","innerWidth","innerHeight","radius","Math","min","centerY","centerX","selected","setSelected","rx","fill","x","fontWeight","textAnchor","dy","y","Group","pieValue","d","outerRadius","innerRadius","cornerRadius","padAngle","pie","arcs","item","label","onTouchStart","onTouchMove","onMouseMove","onMouseLeave","event","IntervalPreset_E","getAnalyticsCharts","me","chart","chartType","crossSeriesReducer","timeSeriesQuery","resourceIds","alignment","alignmentPeriod","alignmentReducer","intervalPreset","analyticsQueryIntervalPreset","backgroundColor","xAxisLabel","yAxisLabel","chartTypes","transactions","reservations","getLiveCharts","liveQueryIntervalPreset","revenueAndTransactions","sumPoints","points","sum","point","isMissing","getStats","epId","revenueQuery","transactionQuery","all","r1","r2","timeSeriesResult","ts1","normal","timeSeries","dynamic","total","call","getAnalyticsStats","getLiveStats","getEnterpriseEvents","toISOString","e1","reservationOccupancy","garageName","occupancy","staffs","expStaffs","bindFunctions","bind","e2","selectedEnterpriseEventManager","selectedEnterpriseEvent","listeners","addSelectedEnterpriseChangeListener","fn","find","l","push","removeSelectedEnterpriseChangeListener","listener","selectEnterpriseEvent","eventId","forEach","useSelectEnterpriseEvent","E","setE","enterpriseEvent","enterpriseEvents","Header","promise","result","usePromise","useMemo","cols","gridColumn","marginBottom","disabled","eventIds","Option","empty","pagination","items","list","XAxis","scale","tickFormat","axisStyleProps","maxTicks","range","tickValues","dates","domain","mod","floor","AxisBottom","tickLabelProps","hideTicks","YAxisLeft","ticks","AxisLeft","dx","YAxisRight","AxisRight","defaultAxisStyle","hideAxisLine","tickStroke","tickLength","hideZero","useRect","calcRect","xRange","yRange","rect","setRect","useScale","yMax","xAxis","getXBandScale","yAxis","scaleLinear","scaleBand","Date","date","getDates","Sentry","useData","getStackedPoints","stackedPoints","max","linearMax","reference","numPoints","numResource","stackedPoint","at","totalValue","j","displayLabel","logger","useCombinedData","timeSeriesResults","ts","combinedPoint","getKeys","Object","keys","k","points_","units","xScale","dateFormatter","tooltip","useTooltip","reverse","bandStart","bandEnd","bandwidth","getLegend","getUnit","toFixed","n","toDollar","graphLocal","localPoint","handleTooltip","newSelected","step","iX","timestamp","legend","showTooltip","tooltipData","tooltipLeft","tooltipTop","Tooltip","tooltipOpen","isSelected","TooltipWithBounds","Custom","from","stroke","strokeWidth","pointerEvents","strokeDasharray","Charts","Grid","yScale","MultiLine","linePathX","r","cx","cy","LinePath","linePathY","defined","StackedArea","noneSelected","getY","AreaStack","datum","y0","y1","stacks","stack","StackedBar","colorScale","scaleOrdinal","BarStack","barStacks","barStack","bars","bar","Combined","y2Scale","points2","keyLine","getLineY","getLineX","getChart","multiLine","stackedArea","stackedBar","combined","DrawArea","tickFormatY","getYTickFormatter","tickFormatX","getXTickFormatter","tooltipFormatter","getTooltipDateFormatter","useToolTip","hideTooltip","chartProps","transform","inChartLegend","textTransform","shape","labelMargin","SVG","o","Multi","datas","timeSeriesResult2","data1","data2","dataComb","y2Axis","tickFormatYLeft","tickFormatYRight","fixedAlignment","minusOneDay","formatter","tz","d0","subtract","get","defaultFormatter","tableProps","dataSource","columns","dataIndex","shadow","useResize","filterWidth","ChartHeader","setChartType","download","queries","Loading","d100","Chart","metricDataStatus","useChartType","metricDataStatuses","isLoading","hasError","Pages","useMetricData","localStorageKey","setMetricDataStatus","getMetricData","reset","metricDescriptor","time","setTime","seconds","timeout","useTimedInterval","setIntervalPreset","q","Analytics","switches","activeEvent","downloads","charts","c","timeSeriesQueries","PermitType","Events","ANALYTICS","activePage","setActivePage","underlined","Home","history","useHistory","clients","gridTemplateRows","clear","go","random","temp","code","ceil","fromCharCode","permits","Zone","ParkingLot","defaultClients","open","parkingSpace","overbooking","communication","parkingLot","Lot1","zone","R1","employee","handicap","employeeFee","handicapFee","residenceFee","KEY","saveClients","setItem","loadClients","parse","hasClients","action","asyncActions","REQUEST_CLIENT","SUCCESS_CLIENT","addClient","client","ADD_CLIENT","editClient","EDIT_CLIENT","t1","t2","remainder","minute","HistoryState","starts","ends","ePermit","firstName","lastName","email","liscensePlate","phone","Employee","employer","R3","Lot2","R2","Lot3","savePermits","loadPermits","hasPermits","REQUEST_PERMIT","SUCCESS_PERMIT","addPermit","permit","ADD_PERMIT","defaultValue","set","done","Message","confirm","generate","endDate","Normal","backgroundImage","vehicleFields","FormComp","submit","useParams","useFormik","initialValues","onSubmit","values","licensePlate","vaccine","space","handleSubmit","handleChange","errors","setFieldValue","patients","Boolean","paddingTop","showTime","minuteStep","v","Form","setUser","Client","float","rounded","Notification","Collapse","heading","defaultState","collapse","pad","setCollapse","Bar","borderBottom","ClientForm","cancelAdd","mode","checked","defaultChecked","bg","onConfirm","REMOVE_CLIENT","removeClient","Rules","setAdd","marginLeft","loader","Fragment","User","Admin","Modall","close","second_vaccine","setDone","gridRow","openBooking","removePermit","p","upcommingColumns","History","ACTIVE","setter","openPermit","modal","Modal","hideCancel","UPCOMING","bordered","pageSize","REMOVE_PERMIT","Permits","as","GENERATE","img","HISTORY","RULES","App","s","logo","exact","hostname","match","initialState","toggleSidebar","toggleCollapsed","NavContext","createContext","NavProvider","Provider","Consumer","combineReducers","LOAD_CLIENT","ERROR_CLIENT","LOAD_PERMIT","EDIT_PERMIT","ERROR_PERMIT","ReduxThunk","require","default","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","next","group","info","getState","groupEnd","getClients","getPermits","GlobalStyle","createGlobalStyle","Main","config","setProps","defaultConfig","dsn","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.107caf65.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/user.7a21cbe9.svg\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/CalPolyLogo.cbd4b3f8.png\";","module.exports = __webpack_public_path__ + \"static/media/parkstash_logo.ab0d6bfb.png\";","\r\nexport const mobileWidth =  '860px';\r\nexport const tabletWidth =  '1100px';\r\n\r\nexport const primaryColor = '#00d69e';    // Lighter Bluish Green\r\nexport const secondaryColor = '#037885'; // Darker Bluish Green\r\nexport const gradient = 'linear-gradient(to left, #00D69E, #00BAA4, #009CA0, #007F90, #1E6378, #2F4858)';\r\nexport const gradientRev = 'linear-gradient(to right, #00D69E, #00BAA4, #009CA0, #007F90, #1E6378, #2F4858)';\r\nexport const gradient1 = 'linear-gradient(#00D69E, #00BAA4)';\r\nexport const gradient2 = 'linear-gradient(#00BAA4, #009CA0, #007F90, #1E6378)'; \r\n\r\nexport const primaryTxtColor =  '#32325D';  \r\nexport const secodaryTxtColor =  '#32325D';    \r\nexport const invertedTxtColor =  '#FFFFFF'; \r\nexport const disabledTxtColor =  '#A6ACAF';  \r\nexport const disabledTxtColor2 =  '#F0F2F3';  \r\nexport const googleAPIKey = `AIzaSyCXprycu2n1TOaoO0wDiZkH8HavZbUDFFU`;\r\nexport const gray = 'rgba(247, 249, 249, 0.65)';\r\nexport const cloudinaryPrefix = 'https://res.cloudinary.com/ssaran97/image/upload/';\r\nexport const baseUrl = 'http://localhost:3000'\r\nexport const textOverFlowLimit = 15;\r\nexport const top4 = 10;\r\nexport const top3 = 100;\r\nexport const top2 = 1000;\r\nexport const top1 = 10000;\r\nexport const API = \"https://test.findparkstash.com/api\";\r\nexport const defaultLocation =  {lat: 39.02653927586001, lng: -76.95245338598109};\r\nexport const token = 'jTVnIl0ahL'","import { token } from \"../config\";\r\n\r\n\r\nfunction header() {\r\n  return {\r\n    \"Content-Type\": \"application/json\",\r\n    os: \"web\",\r\n    usertoken: btoa(token),\r\n  };\r\n}\r\n\r\nfunction authHeader() {\r\n  let usertoken = localStorage.getItem('USER') || \"eyJhbGciOiJIUzI1NiJ9.NjIxOj4sT0k.c3j0R8CkEylWI-NyfDBQj-4HUKQyY5b-xKagUac5By0\";\r\n  let userId = localStorage.getItem('ID') || \"606139915fe8a02c7a9a5e2d\";\r\n  let authToken = btoa(`${token}:${userId}:${usertoken}`);\r\n  return { \"Content-Type\": \"application/json\", authToken, os: \"web\" };\r\n}\r\n\r\nfunction authUploadHeader() {\r\n  let usertoken = localStorage.getItem('USER') || \"\";\r\n  let userId = localStorage.getItem('ID') || \"\";\r\n  let authtoken = btoa(`${token}:${userId}:${usertoken}`);\r\n  return { \"content-type\": \"application/x-www-form-urlencoded\", authtoken, os: \"web\" };\r\n}\r\n\r\nexport { header, authHeader, authUploadHeader };\r\n","import { authHeader , header, authUploadHeader } from './header';\r\nconst delay = (f: any) => new Promise(resolve => setTimeout(resolve, f));\r\n\r\nconst DELAY = 800; \r\n\r\nconst delayedResponse = async (response: Response) => {\r\n  await delay(DELAY)\r\n  return response.json()\r\n};\r\n\r\nconst response = (res: Response) => {\r\n  try{\r\n    return res.json()\r\n  } catch(e){\r\n    return res;\r\n  }\r\n  \r\n}\r\n\r\nfunction post(url: string, body: object, useDelay = true) {\r\n  return fetch(url, { method: 'POST', headers: header(), body: JSON.stringify(body) })\r\n    .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction get(url: string, useDelay = true) {\r\n  return fetch(url, { method: 'GET', headers: header() })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authGet(url: string, useDelay = true){\r\n  return fetch(url, { method: 'GET', headers: authHeader() })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authCustom(url: string, header: any, useDelay = true){\r\n  return fetch(url, { method: 'GET', headers: header} )\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authDelete(url: string, params : string, useDelay = true){\r\n  return fetch(`${url}/${params}`, { method: 'DELETE', headers: authHeader()} )\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction customPost(url: string, header: any, body: object, useDelay = true) {\r\n  return fetch(url, { method: 'POST', headers: {\"Content-Type\": \"application/json\", ...header} , body: JSON.stringify(body) })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authPost(url : string, body : any, useDelay = true) {\r\n  return fetch(url, { method: 'POST', headers: authHeader(), body: JSON.stringify(body) })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authPut(url : string, body : any, useDelay = true) {\r\n  return fetch(url, { method: 'PUT', headers: authHeader(), body: JSON.stringify(body) })\r\n  .then(response);\r\n}\r\n\r\nfunction authGetQuery(url: string, query : string){\r\n  return fetch(`${url}/?${query}`, { method: 'GET', headers: authHeader() })\r\n    .then((response : Response) => response.json());\r\n}\r\n\r\nfunction authGetParams(url: string, param : string){\r\n  return fetch(`${url}/${param}`, { method: 'GET', headers: authHeader() })\r\n    .then((response : Response) => response.json());\r\n}\r\n\r\nfunction authUpload(url : string, file : any) {\r\n  return fetch(url, { method: 'POST', body: file , headers: authUploadHeader()})\r\n  .then((response : Response) => response.json());\r\n}\r\n\r\n\r\nexport { get, authGet, post, authPost, authPut, customPost, authCustom, authGetParams, authGetQuery, authUpload, authDelete };","\r\nimport { post, authGet, authPost, customPost, authUpload } from './request';\r\nimport { API, googleAPIKey  } from '../config'\r\nimport { EditAnnouncement, AddAnnouncement } from '../model/domain/announcements';\r\nimport { Garage, UpdateGarageModel, GarageOccupancyTable, AddGarageModel } from '../model/domain/garage';\r\nimport { FlatValue, TimeSeries } from '../model/domain/metrics';\r\nimport { EnterpriseRole } from '../model/domain/enterprise';\r\ninterface Body {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  licensePlate: string;\r\n  phone: string;\r\n  vaccine: string;\r\n  date: string;\r\n  location: string;\r\n  space: number;\r\n}\r\n\r\nconst getPlaces = (addr: string)=> fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${addr}&key=${googleAPIKey}`).then((res) => res.json()) \r\nconst sendEmail = (body: Body) => authPost('https://test.findparkstash.com/api/v1/utils/emailSutterHealth', body);\r\nconst route = (route : string )=> API + route;\r\n\r\n //User\r\n const auth = ()=> authGet(route(\"/v1/users/me\"), false);\r\n const getUser = auth;\r\n\r\n //Password Forget\r\n const forgotPassword = (props: any) => post(route(\"/users/password/forgot\"), props);\r\n const confirmEmail = (props: any) => post(route(\"/users/password/verify-forgot\"), props);\r\n const resetPassword = (header: any, props: any) => customPost( route(\"/users/password/change\"), header, props);\r\n\r\n const login = (props : any)=> post(route(\"/v1/login\"), props);\r\n const signup = (props: any)=> post(route(\"/v1/signup\"), props); \r\n \r\n//Enterpises\r\nconst selectEnterpise = (enterpriseId: string, userId: string)=> authPost(route(`/v1/enterprises/${enterpriseId}/users/${userId}/onboard/request`), {role: \"member\"}); \r\nconst getEnterprises = ()=> authGet(route(\"/v1/enterprises\"), false);\r\nconst getEnterpriseByUserId = (userId : string)=> authGet(route(`/v1/enterprises/search/by-user?userId=${userId}&fields=roles,capabilities`), false);\r\nconst getEnterprise = (eId : string)=> authGet(route(`/v1/enterprises/${eId}?fields=roles,capabilities`), false);\r\nconst getEnterpriseUsers = (eId : string, includeUnderCovers: boolean)=> authGet(route(`/v1/enterprises/${eId}/users?includeUnderCovers=${includeUnderCovers? 'true': 'false'}`));\r\nconst removeEnterpriseUser = (eid: string, userId : string)=> authPost(route(`/v1/enterprises/${eid}/users/${userId}/remove`),{});\r\nconst rejectEnterpriseUser = (eid: string, userId : string)=> authPost(route(`/v1/enterprises/${eid}/users/${userId}/onboard/reject`),{});\r\nconst acceptEnterpriseUser = (eid: string, userId : string)=> authPost(route(`/v1/enterprises/${eid}/users/${userId}/onboard/approve`), {});\r\nconst listMyScoreCardDescriptors = (eId: string, userId : string)=> authGet(route(`/v1/enterprises/scoreCardDescriptors?filter=user_specific&userId=${userId}&enterpriseId=${eId}`), false);\r\nconst listScoreCardDescriptors = ()=> authGet(route(`/v1/enterprises/scoreCardDescriptors`), false);\r\nconst getScoreCardValues = (eId: string, userId : string, scoreCards: string[])=> authGet(route(`/v1/enterprises/${eId}/users/${userId}/scoreCardValues?scoreCards=${scoreCards.join(',')}`), false);\r\n\r\n//Roles\r\nconst addRole = (eid : string, role: EnterpriseRole)=> authPost(route(`/v1/enterprises/${eid}/roles`), role);\r\nconst editRole = (eid : string,role: EnterpriseRole)=> authPost(route(`/v1/enterprises/${eid}/roles/edit`),role);\r\nconst assignRole = (eid : string,role: string, assigneeId: string)=> authPost(route(`/v1/enterprises/${eid}/roles/assign`), { role, assigneeId });\r\nconst removeRole = (eid : string, role: string)=> authPost(route(`/v1/enterprises/${eid}/roles/remove`), { role });\r\n\r\n //Metrics\r\n const getTimeSeries = (eId: string, props:  any)=> authGet(route(`/v1/enterprises/${eId}/metrics/timeSeries?timeSeriesQuery=`+ JSON.stringify(props)));\r\n const getTimeSeriesMetricDescriptor = (eId: string, metricType:  string)=> authGet(route(`/v1/enterprises/${eId}/metrics/timeSeriesMetricDescriptors/${metricType}`));\r\n\r\n //Garages\r\n const getGarages = (eid: string)=> authGet(route(`/v1/enterprises/${eid}/garages`));\r\n const addGarage = (eid : string, garage: AddGarageModel)=> authPost(route(`/v1/enterprises/${eid}/garages`), garage);\r\n const editGarage = (eid : string, garageId: string, garage: UpdateGarageModel)=> authPost(route(`/v1/enterprises/${eid}/garages/${garageId}/edit`), garage);\r\n  const removeGarage = (eid : string, garageId: string)=> authPost(route(`/v1/enterprises/${eid}/garages/${garageId}/remove`), {});\r\n //Occupancy Table\r\n const getOccupancyTables = (eId: string)=> authGet(route(`/v1/enterprises/${eId}/garageOccupancyTables`));\r\n const getOccupancyTableById = (eId: string, tId: string)=> authGet(route(`/v1/enterprises/${eId}/garageOccupancyTables/${tId}`), false);\r\n const addOccupancyTable = (eId: string, props: GarageOccupancyTable)=> authPost(route(`/v1/enterprises/${eId}/garageOccupancyTables`), props);\r\n const removeOccupancyTable = (eId: string,tId: string)=> authPost(route(`/v1/enterprises/${eId}/garageOccupancyTables/${tId}/remove`), {});\r\n const editOccupancyTable = (eId: string,tId: string, table: GarageOccupancyTable)=> authPost(route(`/v1/enterprises/${eId}/garageOccupancyTables/${tId}/edit`), table)\r\n\r\n //announcement\r\nconst getAnnoucements = (eid: string) => authGet(route(`/v1/enterprises/${eid}/announcements`));\r\nconst addAnnoucement = (eid: string, addBody : AddAnnouncement) => authPost(route(`/v1/enterprises/${eid}/announcements`), addBody);\r\nconst deleteAnnoucement = (eid : string, aid : string) => authPost(route(`/v1/enterprises/${eid}/announcements/${aid}/remove`), {});\r\nconst editAnnoucement = (eid : string, aid : string, editBody : EditAnnouncement) => authPost(route(`/v1/enterprises/${eid}/announcements/${aid}/edit`), editBody);\r\n\r\n//Widgets\r\nconst getWidgets = (eId : string)=>authGet(route(`/v1/enterprises/${eId}/dashboards`), true);\r\nconst getScoreCardOptions = (eId : string, resource = undefined)=> authGet(route(`/v1/enterprises/${eId}/metrics/flatValueMetricDescriptors/${resource? `search/by-resourceType?resourceType=${resource}`: \"\"}`), false);\r\nconst getFlatValue = (eId: string, metrics: FlatValue.Query)=>authGet(route(`/v1/enterprises/${eId}/metrics/flatValue?flatValueQuery=` + JSON.stringify(metrics)), false)\r\nconst getFlatValueMetricDes = (eId: string, metrics: FlatValue.MetricDescriptor)=>authGet(route(`/v1/enterprises/${eId}/metrics/flatValueMetricDescriptors/` + metrics), false)\r\nconst downloadCSv = (eId : string, download: string, ts: string)=> authPost(route(`/v1/enterprises/${eId}/metrics/csv-export/${download}?${ts}`), {},false);\r\n\r\nconst getPastAbnormalityEvent = (eId: string)=> authGet(route(`/v1/enterprises/${eId}/garages/pastAbnormalEvents`), false);\r\nconst getAbnormalityEvent = (eId: string)=> authGet(route(`/v1/enterprises/${eId}/garages/activeAbnormalEvents`), false);\r\nconst getConfig = ()=> authGet(route(`/config`), false);\r\n\r\nconst uploadImage = (file: any)=> authUpload(route(`/v1/utils/uploadTempImages`), file);\r\nconst getImageUrl = (f: string)=> authGet(route(`/v1/utils/downloadTempImage/${f}`), false)\r\nconst getCapabilityDescriptors = ()=> authGet(route(`/v1/enterprises/capabilityDescriptors`), false);\r\nexport default {\r\n  getGarages, getTimeSeries, addGarage, editGarage,\r\n  auth, getUser, login, signup, getTimeSeriesMetricDescriptor,\r\n  forgotPassword,confirmEmail, resetPassword, \r\n  selectEnterpise, getEnterprises, getEnterpriseByUserId, getEnterpriseUsers,\r\n  removeEnterpriseUser, rejectEnterpriseUser, acceptEnterpriseUser,\r\n  getAnnoucements, addAnnoucement, deleteAnnoucement, editAnnoucement,\r\n  getWidgets, getScoreCardOptions,\r\n  getFlatValue,  getFlatValueMetricDes, getEnterprise, removeGarage,\r\n  getOccupancyTables, addOccupancyTable, removeOccupancyTable, editOccupancyTable, getOccupancyTableById,\r\n  downloadCSv, getConfig,  getAbnormalityEvent, getPastAbnormalityEvent, uploadImage, getImageUrl, getCapabilityDescriptors,\r\n  removeRole, editRole, assignRole, addRole, listMyScoreCardDescriptors, getScoreCardValues, listScoreCardDescriptors,\r\n  sendEmail,\r\n  getPlaces\r\n }\r\n","import moment from \"moment\";\r\nimport { defaultLocation } from \"../../config\";\r\nimport { AddressData } from \"../../hooks/places_v1\";\r\n\r\nconst now = moment();\r\nconst later = moment().add(\"hours\", 2);\r\n\r\ninterface Location {\r\n  lat: number;\r\n  lng: number;\r\n  address: string;\r\n}\r\nexport interface SearchNearbyQuery {\r\n  long: number;\r\n  lat: number;\r\n  start_date: string;\r\n  amenities?: string[],\r\n  end_date: string;\r\n  end_hour?: string;\r\n  start_hour?: string;\r\n  vehicle_classes: string[];\r\n  booking_type: \"daily\" | \"weekly\" | \"monthly\";\r\n}\r\n\r\nexport interface SearchStoreState {\r\n  query: SearchNearbyQuery;\r\n  addressData: Partial<AddressData>;\r\n  locations: Location[];\r\n  error: boolean;\r\n  loading: boolean;\r\n}\r\ninterface Actions {\r\n  type: ActionTypes;\r\n  payload: Partial<SearchStoreState>;\r\n}\r\n\r\nconst intialState: SearchStoreState = {\r\n  query: {\r\n    long: -1,\r\n    lat: -1,\r\n    start_date: now.format(\"YYYY-MM-DD\"),\r\n    end_date: later.format(\"YYYY-MM-DD\"),\r\n    start_hour: now.format(\"HH:mm\"),\r\n    end_hour: later.format(\"HH:mm\"),\r\n    amenities: [],\r\n    booking_type: \"daily\",\r\n    vehicle_classes: [\"mid_size_car\"],\r\n  },\r\n  locations: [],\r\n  addressData: {\r\n    formattedAddress: '',\r\n    geo: defaultLocation\r\n  },\r\n  error: false,\r\n  loading: false,\r\n};\r\n\r\nexport enum ActionTypes {\r\n  SET_SEARCH = \"SET_SEARCH\",\r\n  SET_ADDRESS_DATA = \"SET_ADDRESS_DATA\",\r\n // SET_START_DATE = 'SET_START_DATE'\r\n}\r\n\r\nexport default function rootReducer(state = intialState, action: Actions): any {\r\n  switch (action.type) {\r\n    case ActionTypes.SET_SEARCH:\r\n      return { ...state, query: { ...state.query, ...action.payload.query } };\r\n\r\n      case ActionTypes.SET_ADDRESS_DATA:\r\n        return { ...state, \r\n          addressData: { ...state.addressData, ...action.payload.addressData },\r\n          locations: [...state.locations, {\r\n            lat: action.payload.addressData.geo.lat,\r\n            lng: action.payload.addressData.geo.lng,\r\n            address: action.payload.addressData.formattedAddress\r\n          }]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst useDebounce = (value: any, delay = 500) => {\r\n  // State and setters for debounced value\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(\r\n    () => {\r\n      const handler = setTimeout(() => {\r\n        setDebouncedValue(value);\r\n      }, delay);\r\n\r\n     \r\n      return () => {\r\n        clearTimeout(handler);\r\n      };\r\n    },\r\n    [value] \r\n  );\r\n\r\n  return debouncedValue;\r\n}\r\n\r\nexport default useDebounce;","import { useEffect, useState } from \"react\";\r\nimport api from \"../api\";\r\nimport useDebounce from \"./debounce\";\r\n\r\ntype Cood = {\r\n  lat: number;\r\n  lng: number;\r\n};\r\n\r\ninterface Address {\r\n  city: string;\r\n  country: string;\r\n  zipcode: string;\r\n  street: string;\r\n  state: string;\r\n}\r\nexport  interface AddressData {\r\n  geo: Cood;\r\n  formattedAddress: string;\r\n  address?: Address;\r\n}\r\ninterface State {\r\n  loading: boolean;\r\n  error: boolean;\r\n  success: boolean;\r\n  addressData : AddressData;\r\n}\r\n\r\nconst address_components = [\r\n  \"route\",\r\n  \"locality\",\r\n  \"administrative_area_level_1\",\r\n  \"country\",\r\n  \"postal_code\",\r\n];\r\n\r\nexport const usePlaces = (country = '', neededsAll = true) => {\r\n  \r\n  const defaultAddressData = {\r\n    geo: {\r\n      lat: -1,\r\n      lng: -1\r\n    },\r\n    address: {\r\n      city: \"\",\r\n      country: \"\",\r\n      zipcode: \"\",\r\n      street: \"\",\r\n      state: \"\",\r\n    },\r\n    formattedAddress: \"No Result Found\",\r\n  };\r\n\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const debouncedSearchText = useDebounce(searchText, 1500);\r\n  const [state, setState] = useState<State>({\r\n    loading: false,\r\n    success: false,\r\n    error: false,\r\n    addressData : defaultAddressData,\r\n  });\r\n\r\n  const getAddressComponent = (addresses: any[], component: string) =>\r\n    addresses.filter((address: any) =>\r\n      address.types.includes(component)\r\n    )[0]\r\n\r\n  const hasAllAddressComponent = (addresses: any[], address_components: string[]) =>\r\n    address_components.reduce(\r\n      (acc, curr) =>\r\n        acc &&\r\n        addresses.reduce(\r\n          (ac: boolean, address: any) =>\r\n            ac || address.types?.includes(curr),\r\n          false\r\n        ),\r\n      true\r\n    );\r\n\r\n  const formatAddress = (addresses: any) => ({\r\n    street: `${getAddressComponent(\r\n      addresses,\r\n      \"street_number\"\r\n    )?.short_name || ''} ${getAddressComponent(addresses, \"route\")?.short_name || ''}`.trim(),\r\n    city: getAddressComponent(addresses, \"locality\")?.short_name || '',\r\n    state: getAddressComponent(\r\n      addresses,\r\n      \"administrative_area_level_1\"\r\n    ).short_name || '',\r\n    country: getAddressComponent(addresses, \"country\")?.short_name || '',\r\n    zipcode: getAddressComponent(addresses, \"postal_code\")?.short_name || '',\r\n  })\r\n\r\n  const getAddress = () => {\r\n    if (searchText.length > 0) {  \r\n\r\n      api.getPlaces(searchText)\r\n        .then((res) => {\r\n          if (res.status === \"OK\" && res?.results?.length > 0) {\r\n            const filteredResults = res.results.filter(({ address_components }: any) =>\r\n              !country || (getAddressComponent(address_components, \"country\")?.short_name === country)\r\n            )\r\n\r\n            if (filteredResults.length === 0) throw new Error('No result')\r\n\r\n            const formattedAddress = filteredResults[0].formatted_address;\r\n            const geo = {\r\n              lat: filteredResults[0].geometry.location.lat,\r\n              lng: filteredResults[0].geometry.location.lng,\r\n            } as Cood;\r\n\r\n            const addresses = filteredResults[0].address_components;\r\n\r\n            if (hasAllAddressComponent(addresses, address_components) || !neededsAll) {\r\n              const address = formatAddress(addresses);\r\n              console.log({ address })\r\n              setState({\r\n                error: false,\r\n                loading: false,\r\n                success: true,\r\n                addressData: {\r\n                  geo,\r\n                  formattedAddress,\r\n                  address,\r\n                },\r\n              });\r\n            }\r\n          } else throw new Error('All Component not found')\r\n        })\r\n        .catch((error) => {\r\n          setState({ loading: false, error: true, success: false, addressData: defaultAddressData });\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAddress()\r\n  }, [debouncedSearchText])\r\n\r\n  useEffect(() => {\r\n    if(searchText.length > 0){\r\n      setState({ loading: true, error: false, success: false, addressData: defaultAddressData });\r\n    } else {\r\n      setState({ loading: false, error: false, success: false, addressData: defaultAddressData });\r\n    }\r\n  }, [searchText])\r\n\r\n  return {\r\n    ...state,\r\n    searchText,\r\n    setSearchText\r\n  };\r\n};\r\n\r\nexport default { usePlaces };\r\n","import { AddressData } from \"../../hooks/places_v1\";\r\nimport { ActionTypes, SearchNearbyQuery } from \"../reducer/search\";\r\n\r\nconst defaultQuery = {\r\n  amenities: [],\r\n  vehicle_classes: [],\r\n  booking_type: \"daily\",\r\n};\r\n\r\nexport const setQuery = (query: Partial<SearchNearbyQuery>) => {\r\n  return async (dispatch: any) => {\r\n    dispatch({\r\n      type: ActionTypes.SET_SEARCH,\r\n      payload: { query },\r\n    });\r\n  };\r\n};\r\n\r\nexport const setAddressData = (addressData: Partial<AddressData>) => {\r\n  return async (dispatch: any) => {\r\n    dispatch({\r\n      type: ActionTypes.SET_ADDRESS_DATA,\r\n      payload: { addressData },\r\n    });\r\n\r\n    dispatch({\r\n      type: ActionTypes.SET_SEARCH,\r\n      payload: { query : {\r\n        geo: [addressData.geo?.lng,  addressData.geo?.lat, ],\r\n        lat: addressData.geo?.lat,\r\n        long: addressData.geo?.lng\r\n      } },\r\n    });\r\n  };\r\n};\r\n\r\n\r\nexport const setDefault = () => {\r\n  return async (dispatch: any) => {\r\n    dispatch({\r\n      type: ActionTypes.SET_SEARCH,\r\n      payload: { query: defaultQuery },\r\n    });\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Card, Grid, Loader } from \"platyplex_ui\";\r\nimport { Popover } from \"antd\";\r\nimport { disabledTxtColor2 } from \"../../../config\";\r\nimport { useSize } from \"../../../hooks/size\";\r\nimport { usePlaces } from \"../../../hooks/places_v1\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAddressData } from \"../../../store/actions/search\";\r\n\r\nconst LocationSearcher = () => {\r\n  const { container, width } = useSize();\r\n  const { searchText, addressData, loading, setSearchText } = usePlaces(\r\n    \"\",\r\n    false\r\n  );\r\n  const [visible, setVisible] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = ({ target }: any) => {\r\n    setSearchText(target.value);\r\n    setVisible(true);\r\n  };\r\n\r\n  return (\r\n    <Popover\r\n      visible={visible}\r\n      placement=\"bottom\"\r\n      content={\r\n        loading ? (\r\n          <Grid\r\n            style={{ minWidth: 500, maxWidth: \"90vw\" }}\r\n            customCols=\"1fr auto auto 1fr\"\r\n          >\r\n            <span />\r\n            <span>\r\n              <Loader.Spinner />\r\n            </span>\r\n            Loading\r\n          </Grid>\r\n        ) : (\r\n          <Grid\r\n            placeItems=\"center stretch\"\r\n            customCols=\"1fr auto\"\r\n            style={{ width }}\r\n          >\r\n            <div\r\n              className=\"pointer noselect\"\r\n              onClick={() => {\r\n                if (addressData.formattedAddress !== \"No Result Found\") {\r\n                  setSearchText(addressData.formattedAddress);\r\n                  dispatch(setAddressData(addressData));\r\n                }\r\n                setVisible(false);\r\n              }}\r\n            >\r\n              {addressData.formattedAddress}\r\n            </div>\r\n            <i\r\n              className=\"fa fa-times-circle pointer txt-md\"\r\n              onClick={() => setVisible(false)}\r\n            />\r\n          </Grid>\r\n        )\r\n      }\r\n    >\r\n      <Card margin=\"0\" grid placeItems=\"center stretch\">\r\n        <input\r\n          ref={container}\r\n          placeholder=\"Where to? \"\r\n          style={{\r\n            width: \"100%\",\r\n            background: disabledTxtColor2,\r\n            borderRadius: \"1.5em\",\r\n            padding: \".5em 20px\",\r\n            border: \"1px solid \" + disabledTxtColor2,\r\n          }}\r\n          onChange={handleChange}\r\n          value={searchText}\r\n        />\r\n      </Card>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default LocationSearcher;\r\n","import { useState, useRef, useEffect } from \"react\";\r\n\r\nexport const useSize = () =>{\r\n    const [width, setWidth] = useState(300);\r\n    const container = useRef<any>(null);\r\n    const resize = () => setWidth(container?.current?.clientWidth);\r\n    useEffect(resize, [ container?.current?.clientWidth ]);\r\n    useEffect(() => {\r\n      window?.addEventListener(\"resize\", resize);\r\n      return () => window.removeEventListener(\"resize\", resize);\r\n    }, []);\r\n  \r\n    return {\r\n       container,\r\n       width\r\n    };\r\n  };","import ReactDOM from \"react-dom\";\r\nimport { Coords } from \"google-map-react\";\r\nimport {\r\n  GoogleApiWrapper,\r\n  InfoWindow,\r\n  Map,\r\n  Marker,\r\n  Polygon,\r\n} from \"google-maps-react\";\r\nimport { Grid } from \"platyplex_ui\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport LocationSearcher from \"./location-searcher\";\r\n\r\nexport class MapContainer extends React.Component<any, any> {\r\n  state = {\r\n    showingInfoWindow: true,\r\n    name: \"\",\r\n    revenue: 0,\r\n    zoom: 12,\r\n    citation: false,\r\n    activeMarker: {},\r\n    markPosition: { lat: -1, lng: -1 },\r\n    selectedPlace: {},\r\n  };\r\n\r\n  link = React.createRef();\r\n\r\n  render() {\r\n    const stokes = [\"red\", \"blue\", \"green\", \"coral\", \"purple\"];\r\n    const data = [\r\n      {\r\n        coord: [\r\n          {\r\n            lat: 39.02223,\r\n            lng: -76.95807,\r\n            address: \"10308 TULSA DRIVE, Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.02419,\r\n            lng: -76.95898,\r\n            address: \"10412 TULSA DRIVE, Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.02448,\r\n            lng: -76.95843,\r\n            address: \"10416 TRUXTON ROAD, Adelphi, MD 20783\",\r\n          },\r\n        ],\r\n        revenue: 57200,\r\n        name: \"John Smith\",\r\n      },\r\n\r\n      {\r\n        coord: [\r\n          {\r\n            lat: 39.03768,\r\n            lng: -76.94938,\r\n            address: \"10700 Cherry Tree Ct, Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.03771,\r\n            lng: -76.94871,\r\n            address: \"10701 Cherry Tree Ct, Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.03733,\r\n            lng: -76.94876,\r\n            address: \"3229 Cherry Mill Drive , Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.03736,\r\n            lng: -76.95051,\r\n            address: \"3217  Cherry Mill Drive, Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.03768,\r\n            lng: -76.95013,\r\n            address: \"10801 Cherry Blossom Court , Adelphi, MD 20783\",\r\n          },\r\n        ],\r\n        revenue: 27200,\r\n        name: \"John Smith\",\r\n      },\r\n\r\n      {\r\n        coord: [\r\n          {\r\n            lat: 39.06866,\r\n            lng: -76.84537,\r\n            address: \"9300 Montpelier Drive, Laurel, MD 20707\",\r\n          },\r\n          {\r\n            lat: 39.06995,\r\n            lng: -76.84352,\r\n            address: \"9314 Montpelier Drive, Laurel, MD 20707\",\r\n          },\r\n        ],\r\n        revenue: 85300,\r\n        name: \"Alex Taylor\",\r\n      },\r\n      {\r\n        coord: [\r\n          {\r\n            lat: 39.0103099,\r\n            lng: -76.975656,\r\n            address: \"2002 Evansdale Dr, Hyattsville, MD 20783, USA\",\r\n          },\r\n          {\r\n            lat: 39.0107624,\r\n            lng: -76.9728488,\r\n            address: \"2024 Evansdale Dr, Hyattsville, MD 20783, USA\",\r\n          },\r\n          {\r\n            lat: 39.01139,\r\n            lng: -76.974312,\r\n            address: \"8801 Royal Crest Dr, Hyattsville, MD 20783, USA\",\r\n          },\r\n        ],\r\n        revenue: 23100,\r\n        name: \"Debra Johnes\",\r\n      },\r\n      {\r\n        coord: [\r\n          {\r\n            lat: 38.9912064,\r\n            lng: -76.8426131,\r\n            address: \"9401 Copernicus Dr, Lanham, MD 20706, USA\",\r\n          },\r\n          {\r\n            lat: 38.9912458,\r\n            lng: -76.840856,\r\n            address: \"9414 Copernicus Dr, Lanham, MD 20706, USA\",\r\n          },\r\n          {\r\n            lat: 38.9902376,\r\n            lng: -76.84184719999999,\r\n            address: \"7300 Galileo Ct, Lanham, MD 20706, USA\",\r\n          },\r\n          {\r\n            lat: 38.9908361,\r\n            lng: -76.8411263,\r\n            address: \"7307 Galileo Ct, Lanham, MD 20706, USA\",\r\n          },\r\n          {\r\n            lat: 38.990958,\r\n            lng: -76.8400901,\r\n            address: \"7407 Vandenberg Ct, Lanham, MD 20706, USA\",\r\n          },\r\n          {\r\n            lat: 38.9903286,\r\n            lng: -76.8405406,\r\n            address: \"7400 Vandenberg Ct, Lanham, MD 20706, USA\",\r\n          },\r\n        ],\r\n        revenue: 23100,\r\n        name: \"Debra Johnes\",\r\n      },\r\n\r\n      {\r\n        coord: [\r\n          {\r\n            lat: 38.972629,\r\n            lng: -76.977105,\r\n            address: \"2000 Van Buren St, Hyattsville, MD 20782, USA\",\r\n          },\r\n          {\r\n            lat: 38.9752606,\r\n            lng: -76.97740250000001,\r\n            address: \"7003 20th Ave, Hyattsville, MD 20783, USA\",\r\n          },\r\n          {\r\n            lat: 38.9725482,\r\n            lng: -76.977695,\r\n            address: \"6700 20th Ave, Hyattsville, MD 20783, USA\",\r\n          },\r\n        ],\r\n        revenue: 23100,\r\n        name: \"Debra Johnes\",\r\n      },\r\n    ];\r\n\r\n    const onMarkerClick = (props: any, marker: any, e: any) => {\r\n      this.setState({\r\n        selectedPlace: props,\r\n        activeMarker: marker,\r\n        showingInfoWindow: true,\r\n      });\r\n    };\r\n\r\n    return (\r\n      <Grid\r\n        placeSelf=\"stretch\"\r\n        style={{ width: \"100vw\", height: \"100vh\", position: \"relative\" }}\r\n      >\r\n        <NavLink\r\n          to={\"/citations\"}\r\n          style={{ display: \"none\" }}\r\n          ref={this.link as any}\r\n        ></NavLink>\r\n        <div\r\n          style={{ placeSelf: \"start stretch\", zIndex: 10, gridColumnStart: 1 }}\r\n        >\r\n          <LocationSearcher />\r\n        </div>\r\n        {console.log(this.props.search.addressData)}\r\n        <Map\r\n          style={{ gridColumnStart: \"1\" }}\r\n          google={this.props.google as any}\r\n          center={this.props.search.addressData.geo}\r\n          initialCenter={this.props.search.addressData.geo}\r\n          zoom={this.state.zoom}\r\n          onZoomChanged={(_: any, { zoom }: any) => this.setState({ zoom })}\r\n          onClick={(mapProps, map, clickEvent) =>\r\n            console.log({\r\n              lat: clickEvent.latLng.lat(),\r\n              lng: clickEvent.latLng.lng(),\r\n            })\r\n          }\r\n        >\r\n          {data.map(({ coord, name, revenue }, i) =>\r\n            this.state.zoom > 14 ? (\r\n              <Polygon\r\n                paths={coord}\r\n                strokeOpacity={0.8}\r\n                strokeColor={stokes[i]}\r\n                strokeWeight={2}\r\n                onMouseover={(_: any, __: any, e: any) =>\r\n                  this.setState({\r\n                    name,\r\n                    revenue,\r\n                    markPosition: { lat: e.latLng.lat(), lng: e.latLng.lng() },\r\n                  })\r\n                }\r\n                onClick={(mapProps: any, map: any, clickEvent: any) => {}}\r\n                fillColor={stokes[i]}\r\n                fillOpacity={0.35}\r\n              />\r\n            ) : (\r\n              <Marker onMouseover={onMarkerClick} position={coord[0]} />\r\n            )\r\n          )}\r\n\r\n          {this.state.zoom > 14 && (\r\n            <Marker\r\n              opacity={0}\r\n              onMouseover={onMarkerClick}\r\n              position={this.state.markPosition}\r\n            />\r\n          )}\r\n\r\n          {!this.state.citation && (\r\n            <Marker position={this.props.search.addressData.geo} />\r\n          )}\r\n\r\n          <InfoWindowEx\r\n            google={this.props.google}\r\n            map={this.props.map}\r\n            marker={this.state.activeMarker as any}\r\n            visible={this.state.showingInfoWindow}\r\n          >\r\n            <div\r\n              className=\"cursor\"\r\n              onClick={() => {\r\n                const curr = this.link?.current as any;\r\n                curr?.click();\r\n              }}\r\n            >\r\n              <h1>Name: {this.state.name}</h1>\r\n              <h1>City: {\"Adelphi\"}</h1>\r\n              <h1>\r\n                Revenue: $\r\n                {this.state.revenue\r\n                  ?.toString()\r\n                  .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\r\n              </h1>\r\n            </div>\r\n          </InfoWindowEx>\r\n        </Map>\r\n      </Grid>\r\n    );\r\n  }\r\n}\r\n\r\nfunction InfoWindowEx(props) {\r\n  const infoWindowRef = React.createRef() as any;\r\n  const contentElement = document.createElement(`div`);\r\n  useEffect(() => {\r\n    ReactDOM.render(React.Children.only(props.children), contentElement);\r\n    infoWindowRef?.current?.infowindow?.setContent(contentElement);\r\n  }, [props.children]);\r\n  return <InfoWindow ref={infoWindowRef} {...props} />;\r\n}\r\n\r\ninterface LayerProps {\r\n  strokeColor: string;\r\n  coord?: Coords[];\r\n  setActive: (props: any) => void;\r\n  name: string;\r\n  revenue: number;\r\n  locations?: string[];\r\n}\r\n\r\nconst Layer = (props: LayerProps) => {\r\n  const { strokeColor, coord, locations, revenue, setActive, name } = props;\r\n  console.log(props);\r\n  return (\r\n    <Polygon\r\n      paths={coord}\r\n      strokeColor={\"red\"}\r\n      strokeOpacity={0.8}\r\n      strokeWeight={2}\r\n      fillColor={\"red\"}\r\n      fillOpacity={0.35}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  const { search } = state;\r\n  return { search };\r\n};\r\n\r\nconst ConnectedMap = connect(mapStateToProps, {})(MapContainer);\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: \"AIzaSyCXprycu2n1TOaoO0wDiZkH8HavZbUDFFU\",\r\n})(ConnectedMap);\r\n","import React, { useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useLocation } from \"react-router\";\r\nimport { Avatar, Grid } from \"platyplex_ui\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport {  mobileWidth, primaryColor, primaryTxtColor } from \"../../config\";\r\nimport avatar from '../../assets/logo.png';\r\n\r\nconst Sidebar = ({ avatarImg }: { avatarImg?: string }) => {\r\n  const location = useLocation().pathname;\r\n  const routes = [\r\n    { to: [`/e-permits`], name: \"E-Permits\", icon: \"far s\" },\r\n  \r\n  ];\r\n\r\n  return (\r\n    <Sideba\r\n     // avatar={avatar}\r\n      avatarStyle={{\r\n        width: '100%',\r\n        height: \"auto\",\r\n        objectFit: 'fill'\r\n      }}\r\n      name={`Hi User`}\r\n      active={location}\r\n      routes={routes}\r\n      Router={NavLink}\r\n    />\r\n  );\r\n};\r\n\r\nconst Sideba = ({\r\n  active = \"\",\r\n  routes = [],\r\n  avatar,\r\n  role,\r\n  name,\r\n  Router,\r\n  avatarStyle,\r\n  message,\r\n}: any) => {\r\n  const [collapsed, setCollapsed] = useState(true);\r\n  const location = active;\r\n\r\n  const makeStr = (bool: boolean): string => String(bool);\r\n  const activeStyle = {\r\n    borderLeft: \".3em solid \" + primaryColor,\r\n  };\r\n\r\n  const events = {\r\n    onClick: () => setCollapsed(false),\r\n  };\r\n\r\n  const collapsedHidden = collapsed ? \"hide\" : \"\";\r\n  const shouldShow = collapsed ? avatar : avatar || name || role;\r\n  const iconStyle = {\r\n    color: primaryColor,\r\n    padding: \"0 .75em\",\r\n    placeSelf: \"center end\",\r\n  };\r\n  return collapsed ? (\r\n    <i {...events} className=\"fas fa-bars txt-md pointer\" style={iconStyle} />\r\n  ) : (\r\n    <LeftNav\r\n      background={\"\"}\r\n      collapsed={collapsed}\r\n      className=\"noselect slide-left\"\r\n    >\r\n      {shouldShow && (\r\n        <Grid.Item style={{height: \"100%\", borderRadius: 0}} placeSelf='sretch'>\r\n          <i\r\n            className=\"fa fa-times pointer txt-md\"\r\n            onClick={() => setCollapsed(true)}\r\n            style={{...iconStyle, color: primaryTxtColor}}\r\n          />\r\n          <Grid customCols=\"1fr\" color='white' placeItems='center stretch' padding={'0 0 2.5em 1em'}>\r\n            {avatar && <Avatar style={avatarStyle} medium src={avatar} />}\r\n         \r\n          </Grid>\r\n        </Grid.Item>\r\n      )}\r\n\r\n      {routes.map(({ to, name, icon }: any) => {\r\n        return (\r\n          <Router key={name} to={to[0] || \"/\"}>\r\n            <NavItem\r\n              collapsed={collapsed}\r\n              active={makeStr(\r\n                to.reduce((acc: boolean, _: any) => acc || false, false)\r\n              )}\r\n              style={{\r\n                gridTemplateColumns: collapsed ? \"1fr\" : \"auto 1fr\",\r\n                ...(to.includes(location) ? activeStyle : {}),\r\n              }}\r\n            >\r\n              <i\r\n                style={{ fontSize: \"1.6em\", padding: \"0 .3em\" }}\r\n                className={icon}\r\n              ></i>\r\n              <div className={\"txt-center hide-mobile \" + collapsedHidden}>\r\n                {name}\r\n              </div>\r\n              <div style={{ height: \"2px\" }}></div>\r\n              <div style={{ width: \"100%\", height: \"2px\" }}>\r\n                <Line />\r\n              </div>\r\n            </NavItem>\r\n          </Router>\r\n        );\r\n      })}\r\n    </LeftNav>\r\n  );\r\n};\r\n\r\nconst Line = styled.hr`\r\n  transform: scaleX(0);\r\n`;\r\nconst border = keyframes`from { transform: scaleX(0); } to { transform: scaleX(1);}`;\r\n\r\nconst NavItem = styled.div<{ active: string; collapsed: boolean }>`\r\n  display: grid;\r\n  text-decoration: none;\r\n  place-items: center;\r\n  color: ${primaryTxtColor};\r\n  font-size: 1.35em;\r\n  cursor: pointer;\r\n  padding: 0.8em 0.4em;\r\n\r\n  @media (max-width: ${mobileWidth}) {\r\n    border-left: 0 !important;\r\n    grid-template-columns: 1fr;\r\n    padding-left: 0.3em;\r\n  }\r\n\r\n  &:hover ${Line} {\r\n    color: ${primaryColor};\r\n    animation: ${border} 300ms ease-out;\r\n    transform: scaleX(1);\r\n  }\r\n`;\r\n\r\nconst LeftNav = styled.div<{ background: string; collapsed: boolean }>`\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n  font-size: 0.8em;\r\n  display: grid;\r\n  position: fixed;\r\n  left: 0;\r\n  z-index: 20;\r\n  bottom: 0;\r\n  top: 0;\r\n  color: ${primaryColor};\r\n  ${({ collapsed }: any) => `width: ${collapsed ? \"6em\" : \"180px\"};`}\r\n  grid-template-rows: repeat(16, auto);\r\n  align-items: center;\r\n  justify-items: stretch;\r\n  transition: 100ms ease-out;\r\n  background-color: white;\r\n  background-image: url(${(props) => props.background});\r\n  background-attachment: fixed;\r\n  @media (max-width: ${mobileWidth}) {\r\n    height: 55px;\r\n    width: 100vw;\r\n    top: inherit;\r\n    bottom: 0;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\r\n    grid-template-rows: 1fr;\r\n  }\r\n`;\r\n\r\nexport default Sidebar;\r\n","import React from \"react\";\r\nimport { cloudinaryPrefix } from \"../../config\";\r\nimport avatar from \"../../assets/user.svg\";\r\n\r\ninterface AvatarProps {\r\n  src?: string;\r\n  style?: React.CSSProperties;\r\n  className?: string;\r\n  icon?: string;\r\n  notCloudinaryImg?: boolean;\r\n}\r\n\r\nconst Avatar = ({\r\n  src,\r\n  style,\r\n  className,\r\n  icon,\r\n  notCloudinaryImg,\r\n}: AvatarProps) => {\r\n  const prefix =\r\n    src?.includes(cloudinaryPrefix) || notCloudinaryImg ? \"\" : cloudinaryPrefix;\r\n  const styling = {\r\n    width: \"2.5em\",\r\n    height: \"2.5em\",\r\n    borderRadius: \"50%\",\r\n    objectFit: \"cover\",\r\n    ...style,\r\n  };\r\n\r\n  return (\r\n    <img\r\n      style={styling as any}\r\n      alt=\"Avatar\"\r\n      src={src ? prefix + src : avatar}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import React, { useState } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { Grid, Text as Textt } from \"platyplex_ui\";\r\nimport { mobileWidth, primaryTxtColor, top2 } from \"../../config\";\r\nimport { Popover, Menu } from \"antd\";\r\nimport user from \"../../assets/user.svg\";\r\nimport { useLocation } from \"react-router\";\r\nimport Sidebar from \"../sidebar\";\r\nimport Icon from \"../../assets/AccountMenuIcon.png\";\r\nimport Avatar from \"../avatar\";\r\nconst TopNavBar = ({ avatarImg }: { avatarImg?: string }) => {\r\n  const [visible, setVisible] = useState(false);\r\n  const loggedIn = true;\r\n  const location = useLocation();\r\n  const path = location.pathname;\r\n  return (\r\n    <>\r\n      <MiniNav>\r\n        <Sidebar avatarImg={avatarImg}/>\r\n        <Text\r\n          className=\"capitalize bold txt-md txt-left\"\r\n          style={{ minWidth: \"100px\", width: \"100%\", color: primaryTxtColor }}\r\n        >\r\n          {path?.includes('e-permit')? 'E-Permit': path?.replace(/\\/|davis|calpoly|emp/g, \"\")}\r\n        </Text>\r\n        <Textt\r\n          className=\"pointer\"\r\n          bold\r\n          onClick={() => {\r\n            window.location.href = \"https://www.findparkstash.com\";\r\n          }}\r\n          style={{ color: primaryTxtColor, marginRight: \"3em\" }}\r\n        ></Textt>\r\n        <Popover\r\n          visible={visible}\r\n          placement=\"bottomRight\"\r\n          content={\r\n            <Menu style={{ zIndex: top2 }}>\r\n              {loggedIn ? (\r\n                <Menu.ItemGroup>\r\n                  <Menu.Item className=\"noselect\" key=\"0\">\r\n                    <Textt textAlign=\"left\">Account</Textt>\r\n                  </Menu.Item>\r\n\r\n                  <Menu.Item className=\"noselect\" key=\"1\">\r\n                    <Textt textAlign=\"left\">Help</Textt>\r\n                  </Menu.Item>\r\n\r\n                  <Menu.Item className=\"noselect\" key=\"2\">\r\n                    <Textt\r\n                      textAlign=\"left\"\r\n                      onClick={() => {\r\n                        setVisible(false);\r\n                      }}\r\n                    >\r\n                      Logout\r\n                    </Textt>\r\n                  </Menu.Item>\r\n                </Menu.ItemGroup>\r\n              ) : (\r\n                <Menu.Item key=\"0\" className=\"noselect\">\r\n                  <Grid customCols=\"auto 1fr\">\r\n                    <i className=\"fas fa-user txt-md\"></i>\r\n                    <span>Login</span>\r\n                  </Grid>\r\n                </Menu.Item>\r\n              )}\r\n            </Menu>\r\n          }\r\n        >\r\n          <Grid\r\n            customCols=\"auto auto\"\r\n            className=\"shadow\"\r\n            style={{ borderRadius: \"5em\", padding: \".25em .5em\" }}\r\n            gridGap=\".5em\"\r\n            onClick={() => setVisible(!visible)}\r\n          >\r\n            <img\r\n              style={{ maxWidth: \"30px\", paddingLeft: \"5px\" }}\r\n              alt=\"icon\"\r\n              src={Icon}\r\n            />\r\n            <Avatar\r\n              style={{ borderRadius: \"50%\", background: \"white\" }}\r\n              notCloudinaryImg\r\n              src={user}\r\n            />\r\n          </Grid>\r\n        </Popover>\r\n      </MiniNav>\r\n    </>\r\n  );\r\n};\r\n\r\nconst Text = styled.div`\r\n  @media (max-width: ${mobileWidth}) {\r\n    padding-left: 0;\r\n    font-size: 1.2em;\r\n  }\r\n`;\r\n\r\nconst MiniNav = styled.div`\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n  position: fixed;\r\n  font-size: 15px;\r\n  top: 0;\r\n  right : 0;\r\n  left: 0;\r\n  padding: 0 1.5em 0 0;\r\n  z-index: 9;\r\n  width: 100vw;\r\n  height: 4em; \r\n  background: white;  \r\n  color: white;\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  grid-template-columns: auto 1fr auto auto;\r\n  grid-template-rows: 1fr;\r\n  place-items: center end;\r\n    @media(max-width: ${mobileWidth}){\r\n      top : inherit;\r\n      padding-left: 0\r\n      grid-gap: .5em;\r\n    } `;\r\n\r\nexport default TopNavBar;\r\n","import mo, { Moment as MomentType} from 'moment-timezone';\r\n\r\nexport const moment = mo;\r\n\r\nlet currentTz = getTimezoneFromStore();\r\nlet tzChangeListeners : any[] = [];\r\n\r\nexport const defaultInterval = () => {\r\n  const endTime = moment();\r\n  const startTime = endTime.clone()\r\n    .set('hours', 0)\r\n    .set('minute', 0)\r\n    .set('second', 0)\r\n    .set('millisecond', 0);\r\n  return { endTime: endTime.toISOString(), startTime: startTime.toISOString() };\r\n};\r\n\r\nexport const currentMonth = (month = 0) => {\r\n  const endTime = moment();\r\n  const startTime = endTime.clone()\r\n    .set('month', endTime.month() + month)\r\n    .set('date', 1)\r\n    .set('hours', 0)\r\n    .set('minute', 0)\r\n    .set('second', 0)\r\n    .set('millisecond', 0);\r\n  return { endTime: endTime.toISOString(), startTime: startTime.toISOString() };\r\n};\r\n\r\n\r\n\r\nexport const yearToDate = () => {\r\n  const endTime = moment();\r\n  const startTime = endTime.clone()\r\n    .set('month', 0)\r\n    .set('date', 1)\r\n    .set('hours', 0)\r\n    .set('minute', 0)\r\n    .set('second', 0)\r\n    .set('millisecond', 0);\r\n  return { endTime: endTime.toISOString(), startTime: startTime.toISOString() };\r\n};\r\n\r\nexport const getInterval = (days: number)=>{\r\n  const endTime = moment();\r\n  const startTime = endTime.clone().add(-days, 'day');\r\n  return { endTime, startTime }\r\n}\r\n\r\nfunction getTimezoneFromStore() {\r\n\r\n \r\n}\r\n\r\ninterface TimezoneChangeListener {\r\n  (tz: string): void;\r\n}\r\nexport function addTimezoneChangeListener(listener: TimezoneChangeListener) {\r\n  const exists = !!tzChangeListeners.find(l => l === listener);\r\n  if (!exists) {\r\n    tzChangeListeners.push(listener);\r\n  }\r\n}\r\nexport function removeTimezoneChangeListener(listener: TimezoneChangeListener) {\r\n  tzChangeListeners = tzChangeListeners.filter(l => l === listener);\r\n}\r\n\r\nexport function getTimezone() {\r\n  return currentTz;\r\n}\r\n\r\nexport const FORMAT_DATETIME = 'YYYY-MM-DD hh:mm A';\r\nexport const FORMAT_TIME = 'hh:mm A';\r\nexport const FORMAT_DATETIME_2 = 'ddd MMM DD, YYYY hh:mm A';\r\n\r\n\r\nexport type Moment = MomentType;\r\n","import { primaryColor, primaryTxtColor } from \"../../config\";\r\n\r\nimport React from \"react\";\r\n\r\nexport default () => (\r\n  <span style={{ color: primaryTxtColor }}>\r\n    <span>Park</span>\r\n    <span style={{ color: primaryColor }}>Stash</span>\r\n  </span>\r\n);\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { mobileWidth, disabledTxtColor, gradient } from \"./config\";\r\nimport TopNavBar from \"./components/topnav\";\r\nimport { Grid, Text } from \"platyplex_ui\";\r\nimport { moment } from \"./utils/time\";\r\nimport ParkstashText from \"./components/parkstash-text\";\r\n\r\nconst Layout = ({ children, style, sidebar, background, admin, avatarImg }: any) => {\r\n  useEffect(() => window.scrollTo(0, 0), []);\r\n  return (\r\n    <>\r\n      <div>{sidebar && <TopNavBar/>}</div>\r\n      <Wrapper background={background} style={style} sidebar={sidebar}>\r\n        <div style={{ width: \"100%\", height: \"100%\" }}>{children}</div>\r\n        <Grid placeSelf=\"center\" gridGap='0'>\r\n          <Text\r\n            color={disabledTxtColor}\r\n            style={{ placeSelf: \"end center\" }}\r\n            className={sidebar ? \"left-on-desktop\" : \"\"}\r\n          >\r\n            This service is designed and maintained by <ParkstashText />\r\n          </Text>\r\n          <Text\r\n            color={disabledTxtColor}\r\n            style={{ placeSelf: \"end center\" }}\r\n            className={sidebar ? \"left-on-desktop\" : \"\"}\r\n          >\r\n             2018-{moment().year().toString()} <ParkstashText />, All Rights\r\n            Reserved\r\n          </Text>\r\n        </Grid>\r\n      </Wrapper>\r\n    </>\r\n  );\r\n};\r\n\r\ninterface Layout {\r\n  className?: string;\r\n  children: JSX.Element | JSX.Element[];\r\n  maxWidth?: number | string;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\ninterface Top extends Layout {\r\n  customCols?: string;\r\n  noBackground?: boolean;\r\n}\r\n\r\ninterface Bottom extends Layout {\r\n  shiftUp?: boolean;\r\n}\r\n\r\nLayout.Top = ({ className, children, customCols = \"auto 1fr auto\", noBackground = false, maxWidth = '1500px', style = {} }: Top) => {\r\n  style = { ...style, maxWidth, minWidth: '85%' };\r\n  return (\r\n      <div className={className} style={{ paddingBottom: '10em', background: noBackground ? '' : gradient, width: '100%' }}>\r\n          <Grid mobileLayout={false} customCols={customCols} style={style} margin='auto'>\r\n              {children}\r\n          </Grid>\r\n      </div>\r\n  );\r\n};\r\n\r\nLayout.Bottom = ({\r\n  className,\r\n  shiftUp = true,\r\n  children,\r\n  maxWidth = \"1500px\",\r\n  style = {},\r\n}: Bottom) => {\r\n  return (\r\n    <Grid\r\n      margin=\"auto\"\r\n      className={className}\r\n      placeItems=\"start stretch\"\r\n      style={{\r\n        ...style,\r\n        marginTop: shiftUp ? \"-10em\" : \"1em\",\r\n        maxWidth,\r\n        minWidth: \"85%\",\r\n      }}\r\n    >\r\n      {children}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div<{ background: string | any; sidebar: any }>`\r\n  ${(props) => `\r\n    padding-top: ${props.sidebar ? \"4em\" : 0};\r\n    background: ${props.background ? `url(${props.background})` : \"#F0F3F4\"};`}\r\n  margin: auto;\r\n  min-height: 100vh;\r\n  display: grid;\r\n  place-items: start stretch;\r\n  transition: all 0.5s ease-out;\r\n  background-attachment: fixed;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  background-size: cover;\r\n  @media (max-width: ${mobileWidth}) {\r\n    width: 100vw;\r\n  }\r\n`;\r\n\r\nexport default Layout;\r\n","import { useEffect, useState } from \"react\";\r\n\r\nconst useInterval= (func: ()=> void, intervalTime = -1) => {\r\n\r\n    useEffect(() => {\r\n        if (intervalTime && intervalTime > 0.01) {\r\n          const interval = setInterval(func, intervalTime * 60 * 1000);\r\n    \r\n          return () => {\r\n            clearInterval(interval);\r\n          };\r\n        }\r\n      }, []);\r\n\r\n};\r\n\r\n\r\nexport const useTimedInterval= (func: ()=> void, intervalTime = -1) => {\r\n\r\n  const [ time, setTime ] = useState(intervalTime * 60);\r\n  useEffect(() => {\r\n      if (typeof intervalTime === 'number' &&  time > 0.01) {\r\n        const seconds = time;\r\n        console.log(seconds)\r\n        const timeout = setTimeout(()=> {\r\n          setTime(seconds - 1)\r\n        }, 1000)\r\n        return () => {\r\n          clearTimeout(timeout);\r\n        };\r\n      } else func();\r\n    }, [ time ]);\r\n\r\n\r\n    return {\r\n      reset: ()=> setTime(intervalTime * 60)\r\n    }\r\n\r\n};\r\n\r\nexport default useInterval;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Grid, Header } from \"platyplex_ui\";\r\nimport CountUp from \"react-countup\";\r\nimport { Progress, Tooltip } from \"antd\";\r\nimport API from \"../../api\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { disabledTxtColor } from \"../../config\";\r\nimport logger from \"../../utils/logger\";\r\nimport useInterval from \"../../hooks/interval\";\r\n\r\n//NOTE(Abhaya): pages/events/*.tsx refer to this module still\r\n//Render them inside score-card.tsx and then remove this module.\r\nexport const ScoreCard = ({\r\n  title,\r\n  faIcon,\r\n  span = 1,\r\n  color = \"white\",\r\n  children,\r\n  adjacentLabel,\r\n  hoverLabel,\r\n  borderRight,\r\n}: any) => {\r\n  const borderStyle = borderRight\r\n    ? { borderRight: \"1px solid \" + disabledTxtColor, padding: \"0 1em\" }\r\n    : {};\r\n  return (\r\n    <Grid\r\n      className={\"noselect span-\" + span}\r\n      style={{ ...borderStyle, minHeight: \"10em\" }}\r\n      placeSelf=\"stretch\"\r\n      gridGap=\".5em\"\r\n      customRows=\"auto 1fr\"\r\n    >\r\n      <Header\r\n        size={3.5}\r\n        color={color}\r\n        placeSelf=\"start stretch\"\r\n        style={{ lineHeight: \".8em\", height: \"1.5em\" }}\r\n      >\r\n        {title} &nbsp;\r\n        {faIcon && (\r\n          <Tooltip placement=\"topLeft\" title={hoverLabel}>\r\n            <i className={faIcon + \" pointer\"}></i>\r\n          </Tooltip>\r\n        )}\r\n      </Header>\r\n      <div style={{ color, placeSelf: \"start center\" }}>\r\n        <div style={{ height: \"6em\" }}>{children}</div>\r\n        <div\r\n          style={{ lineHeight: \"1em\" }}\r\n          dangerouslySetInnerHTML={{ __html: adjacentLabel }}\r\n        ></div>\r\n      </div>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nScoreCard.PercentBar = ({\r\n  percent,\r\n  type,\r\n  text,\r\n  status = false,\r\n  successPercent,\r\n}: any) => {\r\n  const gradient =\r\n    percent <= 50\r\n      ? \"#F2BE72\"\r\n      : `linear-gradient(to right, #F2BE72 ${50}%, #F76E49)`;\r\n  return (\r\n    <Progress\r\n      percent={percent}\r\n      strokeColor={status ? gradient : \"#5578D6\"}\r\n      successPercent={successPercent || 0}\r\n      type={type}\r\n      format={() => (\r\n        <div className=\"bold\" style={{ color: \"white\" }}>\r\n          {text || percent + \"%\"}\r\n        </div>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nconst intoHeadings = (str: string) =>\r\n  str.charAt(0).toUpperCase() + str.substring(1).replace(/ /g, \" \");\r\n\r\nconst FlatValue = ({\r\n  name,\r\n  flatValueQuery,\r\n  borderRight,\r\n  refreshInterval = -1,\r\n  refresh = true,\r\n}: any) => {\r\n  const [res, setRes] = useState({\r\n    value: 0,\r\n    hoverLabel: null,\r\n    adjacentLabel: undefined,\r\n    isPercent: false,\r\n    unit: undefined,\r\n    applicableResource: \"\",\r\n  });\r\n  const { value, hoverLabel, adjacentLabel, isPercent, unit } = res;\r\n  const eId = useSelector((state: any) => state.user.enterprise.id);\r\n\r\n  const getValue = (value: number, unit?: string) => {\r\n    if (unit === \"%\" || unit === \"cents\") value /= 100;\r\n\r\n    value = Math.round(value * 100) / 100;\r\n    return value || 0;\r\n  };\r\n\r\n  const getIcon = (resource: string) => {\r\n    switch (resource) {\r\n      case \"citation\":\r\n        return \"fas fa-money-check-alt\";\r\n\r\n      case \"announcement\":\r\n        return \"fas fa-bullhorn\";\r\n\r\n      case \"enterpriseUser\":\r\n        return \"fa fa-user\";\r\n\r\n      default:\r\n        return \"fa fa-car\";\r\n    }\r\n  };\r\n\r\n  const loadValue = async () => {\r\n    setRes({\r\n      isPercent: unit == \"%\",\r\n      hoverLabel: \"\",\r\n      unit: \"\",\r\n      adjacentLabel,\r\n      value: 500,\r\n      applicableResource: 'events',\r\n    });\r\n  };\r\n  useInterval(() => loadValue(), refreshInterval);\r\n\r\n  useEffect(() => {\r\n    if (refresh) loadValue();\r\n  }, [refresh]);\r\n  return (\r\n    <ScoreCard\r\n      borderRight={borderRight}\r\n      title={intoHeadings(name)}\r\n      hoverLabel={hoverLabel}\r\n      adjacentLabel={adjacentLabel}\r\n      faIcon={getIcon(res.applicableResource)}\r\n      unit={unit}\r\n    >\r\n      {isPercent ? (\r\n        <ScoreCard.PercentBar type=\"circle\" percent={Number(value)} />\r\n      ) : (\r\n        <div className=\"txt-lgx\">\r\n          {unit === \"cents\" && \"$\"}\r\n          {typeof value === \"number\" ? (\r\n            <CountUp duration={2} start={0} end={value as number} />\r\n          ) : (\r\n            value\r\n          )}\r\n        </div>\r\n      )}\r\n    </ScoreCard>\r\n  );\r\n};\r\n\r\nScoreCard.FlatValue = FlatValue;\r\nexport default ScoreCard;\r\n","\r\nimport React from 'react';\r\nimport { Tooltip } from \"antd\";\r\nconst LIMIT = 20;\r\n\r\nexport const overflowTxt = (txt: string) => `${txt?.substring(0, LIMIT)}${txt?.length > LIMIT ? '...' : ''}`;\r\n\r\nexport const overflow = (txt: string, limit = LIMIT) =>{\r\nif(txt?.length <= limit) return txt;\r\nreturn(\r\n<Tooltip title={txt}>\r\n  <span className=\"cursor capitalize\">\r\n      { `${txt?.substring(0, limit)}${txt?.length > limit ? '...' : ''}`}\r\n </span>\r\n</Tooltip>)\r\n}","import { colors } from '../json/colors.json';\r\n\r\nexport const getColor = (index: number) => colors[index % colors.length];","import React, { useState } from \"react\";\r\nimport Pie from \"@vx/shape/lib/shapes/Pie\";\r\nimport { Group } from \"@vx/group\";\r\nimport { getColor } from \"../../utils/color\";\r\nimport { Tooltip } from \"antd\";\r\n\r\nconst defaultMargin = { top: 0, right: 0, bottom: 0, left: 0 };\r\n\r\nexport type PieProps = {\r\n    width: number;\r\n    height: number;\r\n    data: any[];\r\n    text: any;\r\n    margin?: typeof defaultMargin;\r\n};\r\n\r\nexport default function PieChart({\r\n    width,\r\n    height,\r\n    text,\r\n    data,\r\n    margin = defaultMargin,\r\n}: PieProps) {\r\n\r\n    const innerWidth = width - margin.left - margin.right;\r\n    const innerHeight = height - margin.top - margin.bottom;\r\n    const radius = Math.min(innerWidth, innerHeight) / 2;\r\n    const centerY = innerHeight / 2;\r\n    const centerX = innerWidth / 2;\r\n    const donutThickness = 10;\r\n    const [selected, setSelected] = useState(-1);\r\n    const event = (i = -1) => ({\r\n        onTouchStart: () => setSelected(i),\r\n        onTouchMove: () => setSelected(i),\r\n        onMouseMove: () => setSelected(i),\r\n        onMouseLeave: () => setSelected(-1)\r\n    })\r\n\r\n    return (\r\n        <svg width={width} height={height}>\r\n            <rect\r\n                rx={14}\r\n                width={width}\r\n                height={height}\r\n                fill=\"transparent\"\r\n            />\r\n            <g>\r\n                <text\r\n                    fill=\"white\"\r\n                    x={centerX}\r\n                    fontWeight='bold'\r\n                    textAnchor=\"middle\"\r\n                    dy='8px'\r\n                    y={centerY}\r\n                    fontSize={24}\r\n                >  {text}\r\n                </text>\r\n            </g>\r\n            <Group top={centerY + margin.top} left={centerX + margin.left}>\r\n                <Pie\r\n                    data={data}\r\n                    fill='#5578D6'\r\n                    pieValue={(d: any) => d.value}\r\n                    outerRadius={radius}\r\n                    innerRadius={radius - donutThickness}\r\n                    cornerRadius={3}\r\n                    padAngle={0.005}\r\n                    children={(pie: any) => (\r\n                        pie.arcs.map((item: any, i: number) => (\r\n                            <g key={0}>\r\n                                {item.data.label ?\r\n                                    <Tooltip title={item.data.label}>\r\n                                        <path\r\n                                            d={pie.path(item)}\r\n                                            fill={getColor(i) + (selected === -1 ? 'FF' : selected === i ? 'BB' : '50')}\r\n                                            {...event(i)}\r\n                                        />\r\n                                    </Tooltip> :\r\n\r\n                                    <path d={pie.path(item)} fill={getColor(i)} />}\r\n                            </g>\r\n                        ))\r\n                    )}\r\n                />\r\n            </Group>\r\n        </svg>\r\n    );\r\n}","export type ValueType = 'DOUBLE' | 'INT';\r\n\r\n//not exhaustive here list below; more will be added later\r\nexport type Unit = '%' | 'none' | 'cents';\r\n\r\nexport type ResourceType = 'garage' | 'event' | 'enterpriseUser' | 'announcement' | 'citation';\r\n\r\nexport const IntervalPreset_E = {\r\n  'last_7_days': 'last_7_days',\r\n  'last_30_days': 'last_30_days',\r\n  'last_90_days': 'last_90_days', \r\n  'last_365_days': 'last_365_days', \r\n  'current_month': 'current_month', \r\n  'last_month': 'last_month', \r\n  'year_to_date': 'year_to_date', \r\n  'today': 'today', \r\n  'custom': 'custom'\r\n} as const;\r\n\r\nexport declare namespace TimeSeries {\r\n  export type ReducerFunction = 'MEAN' | 'MAX' | 'MIN' | 'COUNT' | 'SUM';\r\n\r\n  export type CrossSeriesReducerFunction = ReducerFunction | 'NONE';\r\n\r\n  export type AlignmentPeriod = '5m' | '30m' | '1h' | '4h' | '1d' | '1w' | '1m';\r\n\r\n  export type IntervalPreset = (typeof IntervalPreset_E)[keyof typeof IntervalPreset_E];\r\n\r\n  export type Point = {\r\n    at: Date,\r\n    isMissing: boolean, \r\n    value: number \r\n  };\r\n\r\n  export type Points = Point[];\r\n\r\n  export interface MetricDescriptor {\r\n    displayName: string;\r\n    description: string;\r\n\r\n    //this is a unique field\r\n    type: string;\r\n\r\n    applicableResource: ResourceType;\r\n    valueType: ValueType;\r\n    unit: Unit;\r\n  \r\n    maxAlignmentPeriod: AlignmentPeriod;\r\n    minAlignmentPeriod: AlignmentPeriod;\r\n  \r\n    defaultAlignmentReducer: ReducerFunction;\r\n  }\r\n  \r\n  export interface TimeSeries {\r\n  \r\n    //null if it is crossSeriesReduced time series\r\n    resourceId: string | null,\r\n  \r\n    displayLabel: string,\r\n  \r\n    //See https://cloud.google.com/monitoring/api/ref_v3/rest/v3/TimeInterval for interval\r\n    //if `isMissing` is true, then `value`should be ignored; this booelan field allows for\r\n    //uniform interval across time series. A timeSeries is guaranteed to have atleast one or more\r\n    //`isMissing: false` point. for gauge metric kind, startTime and endTime are same\r\n    points: Points\r\n  }\r\n\r\n  export interface DayFilterQuery {\r\n    /*0th is sunday and 6th is saturday*/\r\n    days: boolean[];\r\n    /*\r\n      hours should be between 0 and 24\r\n      it is parsed as (start, end]\r\n      \r\n      e.g. hours: [8, 9] => (8, 9]    //everything between 8:01  and 9:00\r\n        hours: [0, 24] => (0, 24]     //everything between 00:01 and 24:00\r\n    */\r\n    hours: [number, number];\r\n  }\r\n  \r\n  export interface Query {\r\n    metricType: string,\r\n  \r\n    //If missing, returns time series for all the resources.\r\n    //Empty array is taken as missing.\r\n    //If one or more resource_ids dont match, just ignores them.\r\n    //resource type is assumed to be one mentioned in MetricDescriptor.\r\n    resourceIds?: string[],\r\n\r\n    alignment?: {\r\n      alignmentPeriod: AlignmentPeriod;\r\n      alignmentReducer: ReducerFunction;\r\n    }\r\n\r\n    dayFilter?: DayFilterQuery;\r\n\r\n    crossSeriesReducer: CrossSeriesReducerFunction;\r\n\r\n    intervalPreset: IntervalPreset;\r\n\r\n    customInterval?: { startTime: Date, endTime: Date };\r\n  }\r\n\r\n  export interface ParsedTimeSeriesQuery {\r\n    metricType: string,\r\n  \r\n    resourceIds?: string[],\r\n\r\n    alignment?: {\r\n      alignmentPeriod: AlignmentPeriod;\r\n      alignmentReducer: ReducerFunction;\r\n    }\r\n\r\n    dayFilter?: DayFilterQuery;\r\n\r\n    crossSeriesReducer: CrossSeriesReducerFunction;\r\n\r\n    interval: { startTime: Date, endTime: Date };\r\n  }\r\n  \r\n  export interface Result {\r\n  \r\n    metricType: string;\r\n  \r\n    unit: Unit;\r\n  \r\n    //buckets individual timeSeries into following interval\r\n    //bigger alignmentPeriod means bigger bucket size\r\n    //automatically adjusted based on the interval provided in query\r\n    alignmentPeriod: AlignmentPeriod;\r\n  \r\n    //what reducerFunction was used to collapse one or more datapoints into buckets\r\n    alignmentReducer: ReducerFunction;\r\n  \r\n    crossSeriesReducer: CrossSeriesReducerFunction;\r\n  \r\n    //this may be different than what was requested in query\r\n    interval: { startTime: Date, endTime: Date };\r\n\r\n    //array of one or more time series\r\n    timeSeries: TimeSeries[];\r\n  }\r\n}\r\n\r\nexport declare namespace FlatValue {\r\n\r\n  //TODO: have labels later\r\n  export namespace LabelValue {\r\n    export type String = {\r\n      type: 'string';\r\n    }\r\n  \r\n    export type Bool = {\r\n      type: 'boolean'\r\n    }\r\n  \r\n    export type Number = {\r\n      type: 'number';\r\n    }\r\n  \r\n    export type Enum = {\r\n      type: 'enum',\r\n      options: string[];\r\n    }\r\n  \r\n    export type EnumMulti = {\r\n      type: 'enum[]',\r\n      options: string[]\r\n    }\r\n  \r\n    export type ResourceId = {\r\n      type: 'id',\r\n      resourceType: ResourceType\r\n    }\r\n  \r\n    export type ResourceIdMulti = {\r\n      type: 'id[]',\r\n      resourceType: ResourceType\r\n    }\r\n  \r\n    export type LabelValueType = LabelValue.String | LabelValue.Bool | LabelValue.Number | LabelValue.Enum | LabelValue.EnumMulti | LabelValue.ResourceId | LabelValue.ResourceIdMulti;\r\n  }\r\n\r\n  export interface MetricDescriptor {\r\n    displayName: string,\r\n    description: string,\r\n    type: string,\r\n    applicableResource: ResourceType,\r\n    valueType: ValueType,\r\n    unit: Unit,\r\n\r\n    labels?: {\r\n      key: string,\r\n      description: string,\r\n      required: boolean,\r\n      value: LabelValue.LabelValueType\r\n    }[]\r\n  }\r\n\r\n  export interface FlatValue {\r\n    isMissing: boolean;\r\n    value: number;\r\n  }\r\n  \r\n  export interface Query {\r\n    metricType: string;\r\n  }\r\n  \r\n  export interface Result {\r\n    metricType: string,\r\n    unit: Unit,\r\n\r\n    hoverLabel?: string;\r\n    adjacentLabel?: string;\r\n  \r\n    flatValue: FlatValue;\r\n  }\r\n}","import { useState, useEffect } from 'react';\r\nimport { useMetricData } from '../../hooks/metrics';\r\nimport { defaultInterval, moment } from '../../utils/time';\r\nimport API from \"../../api\";\r\nimport { TimeSeries, IntervalPreset_E } from '../../model/domain/metrics';\r\n\r\nfunction getAnalyticsCharts() {\r\n  const me: EnterpriseEvent = this;\r\n\r\n  const chart = (title: string, metricType: string, chartType: string, crossSeriesReducer = 'NONE') => ({\r\n    title,\r\n    timeSeriesQuery: {\r\n      metricType,\r\n      resourceIds: [me.id],\r\n      crossSeriesReducer,\r\n      alignment: {\r\n        alignmentPeriod: '1d',\r\n        alignmentReducer: 'SUM'\r\n      },\r\n      intervalPreset: me.analyticsQueryIntervalPreset,\r\n    },\r\n    backgroundColor: '#FFFFFF',\r\n    xAxisLabel: 'T',\r\n    yAxisLabel: 'Occupancy',\r\n    chartTypes: [chartType]\r\n  });\r\n\r\n  return {\r\n    revenue: chart('Revenue by Type', 'event_revenue', 'stackedBar', 'SUM'),\r\n    transactions: chart('Number of Transactions', 'event_transaction_count', 'multiLine', 'SUM'),\r\n    reservations: chart('Towings Per Garage', 'event_reservation_occupancy', 'stackedBar')\r\n  };\r\n};\r\n\r\nfunction getLiveCharts() {\r\n  const me: EnterpriseEvent = this;\r\n  const intervalPreset = me.liveQueryIntervalPreset;\r\n\r\n  const revenueAndTransactions = {\r\n    \"title\": \"Revenue & Transactions\",\r\n    \"revenueTimeSeriesQuery\": {\r\n      \"metricType\": \"event_revenue\",\r\n      \"resourceIds\": [],\r\n      \"crossSeriesReducer\": \"NONE\",\r\n      \"alignment\": {\r\n        \"alignmentPeriod\": \"1h\",\r\n        \"alignmentReducer\": \"SUM\"\r\n      },\r\n      intervalPreset\r\n    },\r\n    \"transactionTimeSeriesQuery\": {\r\n      \"metricType\": \"event_transaction_count\",\r\n      \"resourceIds\": [],\r\n      \"crossSeriesReducer\": \"NONE\",\r\n      \"alignment\": {\r\n        \"alignmentPeriod\": \"1h\",\r\n        \"alignmentReducer\": \"SUM\"\r\n      },\r\n      intervalPreset\r\n    },\r\n    \"backgroundColor\": \"#FFFFFF\",\r\n    \"xAxisLabel\": \"T\",\r\n    \"yAxisLabel\": \"Occupancy\",\r\n    \"chartTypes\" : [\"combined\"]\r\n  };\r\n\r\n  const reservations = {\r\n    \"title\": \"Total Cars Parked\",\r\n    \"timeSeriesQuery\": {\r\n      \"metricType\": \"event_reservation_occupancy\",\r\n      \"resourceIds\": [],\r\n      \"crossSeriesReducer\": \"NONE\",\r\n      intervalPreset\r\n    },\r\n    \"backgroundColor\": \"#FFFFFF\",\r\n    \"xAxisLabel\": \"T\",\r\n    \"yAxisLabel\": \"Occupancy\",\r\n    \"chartTypes\" : [ \"stackedBar\"]\r\n  };\r\n\r\n  return {\r\n    reservations,\r\n    revenueAndTransactions\r\n  };\r\n};\r\n\r\nconst [getAnalyticsStats, getLiveStats] = (() => {\r\n  function sumPoints(points) {\r\n    return points.reduce((sum, point) => point.isMissing? sum: sum + point.value, 0)\r\n  }\r\n\r\n  function getStats(epId: string, type: 'analytics' | 'live'): Promise<Stats> {\r\n    const me = this as EnterpriseEvent;\r\n    const intervalPreset = type === 'analytics'\r\n      ? me.analyticsQueryIntervalPreset\r\n      : me.liveQueryIntervalPreset;\r\n\r\n    const alignmentPeriod = type === 'analytics'? '1d': '1h';\r\n\r\n    const revenueQuery = {\r\n      metricType: 'event_revenue',\r\n      resourceIds: [me.id],\r\n      crossSeriesReducer: 'NONE',\r\n      alignment: {\r\n        alignmentPeriod,\r\n        alignmentReducer: 'SUM'\r\n      },\r\n      intervalPreset\r\n    };\r\n  \r\n    const transactionQuery = {\r\n      ...revenueQuery,\r\n      metricType: 'event_transaction_count', \r\n      crossSeriesReducer: 'SUM' \r\n    };\r\n\r\n    console.log(JSON.stringify(revenueQuery, null, 2));\r\n    console.log(JSON.stringify(transactionQuery, null, 2));\r\n  \r\n    return Promise.all([\r\n      API.getTimeSeries(epId, transactionQuery),\r\n      API.getTimeSeries(epId, revenueQuery)\r\n    ]).then( ([ r1, r2 ]) => {\r\n\r\n      if (r1?.timeSeriesResult && r2?.timeSeriesResult)  {\r\n      //revenue\r\n      const ts1 = r2.timeSeriesResult as TimeSeries.Result;\r\n      const normal = sumPoints(ts1.timeSeries[0].points);\r\n      const dynamic = sumPoints(ts1.timeSeries[1].points);\r\n      const total = normal + dynamic;\r\n      \r\n      //transactions\r\n      const ts2 = r1.timeSeriesResult as TimeSeries.Result;\r\n      const transactions = sumPoints(ts2.timeSeries[0].points);\r\n      return { revenue: { normal, dynamic, total }, transactions };\r\n      }\r\n\r\n\r\n    })\r\n  }\r\n\r\n  function getAnalyticsStats(epId: string): Promise<Stats> {\r\n    const me = this as EnterpriseEvent;\r\n    return getStats.call(me, epId, 'analytics');\r\n  }\r\n\r\n  function getLiveStats(epId: string): Promise<Stats> {\r\n    const me = this as EnterpriseEvent;\r\n    return getStats.call(me, epId, 'live');\r\n  }\r\n\r\n  return [getAnalyticsStats, getLiveStats];\r\n})();\r\n\r\nexport interface Stats {\r\n  revenue: { normal: number; dynamic: number; total: number; }\r\n  transactions: number;\r\n}\r\n\r\nexport interface EnterpriseEvent {\r\n  id: string;\r\n  name: string;\r\n  start: Date;\r\n  end: Date;\r\n  getAnalyticsCharts: { (): { revenue: any; transactions: any; reservations: any } };\r\n  getLiveCharts: { (): { revenueAndTransactions: any, reservations: any }  };\r\n  getAnalyticsStats: { (epId: string): Promise<Stats> };\r\n  getLiveStats: { (epId: string): Promise<Stats> };\r\n  analyticsQueryIntervalPreset: TimeSeries.IntervalPreset;\r\n  liveQueryIntervalPreset: TimeSeries.IntervalPreset;\r\n  reservationOccupancy: {\r\n    garageName: string;\r\n    occupancy: number;\r\n    staffs: number;\r\n  }[]\r\n}\r\n\r\nexport function getEnterpriseEvent(eventId: string) {\r\n  return getEnterpriseEvents().find(e => e.id === eventId);\r\n}\r\n\r\nexport function getEnterpriseEvents(): EnterpriseEvent[] {\r\n  const end = moment().toISOString();\r\n  const start = moment(end).add(-7, 'days').toISOString();\r\n\r\n  const analyticsQueryIntervalPreset = IntervalPreset_E.last_7_days;\r\n  const liveQueryIntervalPreset = IntervalPreset_E.today;\r\n  \r\n  const e1: any = {\r\n    id: '5b345cb3ea260d03b87438dd',\r\n    name: 'John Smith',\r\n    start,\r\n    end,\r\n    analyticsQueryIntervalPreset,\r\n    liveQueryIntervalPreset,\r\n    reservationOccupancy:[\r\n      {\r\n        garageName: 'Garage 1',\r\n        occupancy: .25,\r\n        staffs: 4,\r\n        expStaffs: 2\r\n      },\r\n      {\r\n        garageName: 'Garage 2',\r\n        occupancy: .25,\r\n        staffs: 3,\r\n        expStaffs: 3\r\n      },\r\n      {\r\n        garageName: 'Garage 3',\r\n        occupancy: .5,\r\n        staffs: 2,\r\n        expStaffs: 3\r\n      }\r\n    ]\r\n\r\n  };\r\n\r\n  const bindFunctions = (e: EnterpriseEvent) => {\r\n    e.getAnalyticsCharts = getAnalyticsCharts.bind(e); \r\n    e.getLiveCharts = getLiveCharts.bind(e); \r\n    e.getAnalyticsStats = getAnalyticsStats.bind(e);\r\n    e.getLiveStats = getLiveStats.bind(e);\r\n  }\r\n  bindFunctions(e1);\r\n\r\n  const e2: any = {\r\n    id: '5b345cb3ea260d03b87438de',\r\n    name: 'Alex Taylor',\r\n    start,\r\n    end,\r\n    analyticsQueryIntervalPreset,\r\n    liveQueryIntervalPreset,\r\n    reservationOccupancy: [\r\n      {\r\n        garageName:  'Alex Garage 1',\r\n        occupancy: .35,\r\n        staffs: 23\r\n      },\r\n      {\r\n        garageName: 'Alex Garage 2',\r\n        occupancy: .5,\r\n        staffs: 19\r\n      },\r\n\r\n    ]\r\n  };\r\n  bindFunctions(e2);\r\n\r\n  return [e1, e2];\r\n}\r\n\r\nconst selectedEnterpriseEventManager = (() => {\r\n  let selectedEnterpriseEvent = getEnterpriseEvents()[0];\r\n\r\n  let listeners : any[] = [];\r\n\r\n  return {\r\n    get selectedEnterpriseEvent() {\r\n      return selectedEnterpriseEvent;\r\n    },\r\n\r\n    addSelectedEnterpriseChangeListener(fn: any) {\r\n      const exists = !!listeners.find(l => l === fn);\r\n      if (!exists) {\r\n        listeners.push(fn);\r\n      }    \r\n    },\r\n\r\n    removeSelectedEnterpriseChangeListener(listener: any) {\r\n      listeners = listeners.filter(l => l === listener);\r\n    },\r\n\r\n    selectEnterpriseEvent(eventId: string) {\r\n      if (selectedEnterpriseEvent.id === eventId) return;\r\n      const event = getEnterpriseEvents().find(e => e.id === eventId);\r\n      if (!event) return;\r\n      selectedEnterpriseEvent = event;\r\n      listeners.forEach(l => l(event));\r\n    }\r\n  }\r\n})()\r\n\r\nexport function useSelectEnterpriseEvent() {\r\n  const [E, setE] = useState(selectedEnterpriseEventManager.selectedEnterpriseEvent);\r\n\r\n  useEffect(() => {\r\n    const listener = (event: EnterpriseEvent) => {\r\n      setE(event);\r\n    }\r\n\r\n    selectedEnterpriseEventManager.addSelectedEnterpriseChangeListener(listener);\r\n\r\n    return () => selectedEnterpriseEventManager.removeSelectedEnterpriseChangeListener(listener);\r\n  },[]);\r\n\r\n  return {\r\n    enterpriseEvent: E, \r\n    selectEnterpriseEvent: (eventId: string) => {\r\n      selectedEnterpriseEventManager.selectEnterpriseEvent(eventId);\r\n    }\r\n  }\r\n}\r\n","import React, { useMemo } from 'react';\r\nimport { Grid, Header as Text, List, Empty , Loader} from 'platyplex_ui';\r\nimport { ScoreCard } from '../../../components/score-card/old-score-card';\r\nimport { overflow } from '../../../utils/text';\r\nimport { moment } from '../../../utils/time';\r\nimport { invertedTxtColor } from '../../../config';\r\nimport PieChart from '../../../components/chart/components/graph/pie-chart'\r\nimport { getEnterpriseEvents, useSelectEnterpriseEvent, Stats } from '../model';\r\nimport { Select } from 'antd';\r\nimport usePromise from '../../../hooks/promise_hook';\r\n\r\nconst enterpriseEvents = getEnterpriseEvents();\r\n\r\nconst Header = () => {\r\n    const { enterpriseEvent, selectEnterpriseEvent } = useSelectEnterpriseEvent();\r\n    const { data, loading } = usePromise<Stats>(useMemo(() => enterpriseEvent.getAnalyticsStats('5f0387891c154a299fc0104f'),\r\n        []));\r\n\r\n    return (\r\n        <Grid\r\n            cols='4'\r\n            style={{ gridColumn: '1/-1', marginBottom: '1em' }}\r\n            width='100%'\r\n            padding='1.5em 1.5em 0 1.5em'\r\n        >\r\n            <div\r\n                id='header'\r\n                className='grid'\r\n                style={{\r\n                    width: '100%',\r\n                    margin: '0 0 .75em 0',\r\n                    gridColumn: '1/-1',\r\n                    gridTemplateColumns: '1fr auto'\r\n                }}>\r\n                <Select\r\n                    style={{ width: '300px', placeSelf: 'start', color: 'white' }}\r\n                    disabled={loading}\r\n                    placeholder=\"Select\"\r\n                    onChange={eventIds => selectEnterpriseEvent(eventIds)}\r\n                    value={enterpriseEvent.id}>\r\n                    {enterpriseEvents.map(e => (\r\n                        <Select.Option\r\n                            key={e.id}\r\n                            className='capitalize'\r\n                            value={e.id}>\r\n                            {e.name}\r\n                        </Select.Option>))}\r\n                </Select>\r\n                <Text size={4.6} color={invertedTxtColor} className='hide-mobile'>  Updated at: {moment().format('hh:mm A')}</Text>\r\n            </div>\r\n\r\n\r\n           <ScoreCard title='Total Revenue' faIcon='fa fa-money' hoverLabel='Total Revenue' borderRight>\r\n                {loading\r\n                    ? <Loader.Spinner color='inherit' />\r\n                    : <PieChart\r\n                        height={130}\r\n                        width={130}\r\n                        text={data ? 20000 : 'N/A'}\r\n                        data={data ? [\r\n                            { label: `Normal Pricing (${1000} total)`, value: data.revenue.normal },\r\n                        ] : [{ label: 'N/A', value: 'N/A' }]} />\r\n                }\r\n\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Transactions' faIcon='fas fa-money-check-alt' hoverLabel='Revenue' borderRight>\r\n                {loading\r\n                    ? <Loader.Spinner color='inherit' />\r\n                    : <span className='txt-lgx'>{data ? data.transactions : 'N/A'}</span>\r\n                }\r\n            </ScoreCard>\r\n            <ScoreCard title='Reservation Occupancy' faIcon='fa fa-car' hoverLabel='Occupancy Count' span={2}>\r\n                <Grid placeSelf='start' >\r\n                    <Grid\r\n                        customCols={loading ? '1fr' : '1fr  minmax(15em, auto)'}\r\n                        placeItems='stretch'\r\n                        width='100%'\r\n                        color='white'\r\n                        gridGap='.2em 1.5em'\r\n                    >\r\n                        <List\r\n                            loading={loading}\r\n                            empty={\r\n                                <div style={{ gridColumn: '1/-1' }}>\r\n                                    <Empty text={'No Garage Occupancy'} color=\"white\" style={{ width: '7em', margin: '0 auto' }} />\r\n                                </div>\r\n                            }\r\n                            pagination={{ items: 2 }}\r\n                            list={enterpriseEvent.reservationOccupancy}\r\n                            map={(({ garageName, occupancy, staffs, expStaffs }: any) => {\r\n                                return (\r\n                                    <>\r\n                                        <span className='txt-overflow'>{overflow(garageName, 23)}</span>\r\n                                        <ScoreCard.PercentBar\r\n                                            status\r\n                                            percent={occupancy * 100}\r\n                                            text={`${occupancy * 100 * 13} / ${1300}`}\r\n                                        />\r\n                                        <Grid\r\n                                            mobileLayout={false}\r\n                                            customCols='auto auto'\r\n                                            style={{ gridColumn: '1/-1', marginBottom: '1em' }}\r\n                                            width='100%'\r\n                                            placeItems='stretch' >\r\n                                            <span className='txt-left bold'>\r\n                                                Estimated Staff: {staffs}\r\n                                            </span>\r\n\r\n                                            <span className='txt-right bold'>\r\n                                                Actual Staff Assigned: {expStaffs}\r\n                                            </span>\r\n\r\n                                        </Grid>\r\n                                    </>\r\n                                )\r\n                            })}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </ScoreCard>\r\n        </Grid>);\r\n}\r\n\r\nexport default Header;\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function usePromise<T>(promise: Promise<T>): { data: T | null, error: Error | null, loading: boolean; } {\r\n  const [state, setState] = useState({\r\n    data: null,\r\n    error: null,\r\n    loading: true\r\n  });\r\n\r\n  useEffect(() => {\r\n    promise\r\n      .then(result => {\r\n        setState({\r\n          data: result,\r\n          error: null,\r\n          loading: false\r\n        })\r\n      })\r\n      .catch(error => {\r\n        setState({\r\n          data: null,\r\n          error: error,\r\n          loading: true\r\n        })\r\n      });\r\n  }, [promise])\r\n\r\n   return state;\r\n}","import React, { useMemo } from 'react';\r\nimport { AxisBottom, AxisLeft, AxisRight } from '@vx/axis';\r\nimport {  ScaleBand } from 'd3-scale';\r\n\r\nexport const XAxis = ({ scale,  tickFormat, axisStyleProps}: { scale:  ScaleBand<string>, tickFormat: any, axisStyleProps: any}) => {\r\n  const width = (() => {\r\n    const range = scale.range();\r\n    return range[1] - range[0]\r\n  })();\r\n\r\n  const maxTicks = width < 800? 5: 10;\r\n\r\n  const tickValues = useMemo(() => {\r\n    const dates = scale.domain();\r\n    \r\n    const mod = Math.floor(dates.length / maxTicks);\r\n    const tickFilter = ((_: any, index: number)=> dates.length < 10 || index % mod == 0);\r\n\r\n    return dates.filter(tickFilter);\r\n  }, [maxTicks]);\r\n\r\n  const  tickLabelProps = () => ({\r\n    fontWeight: 'bold',\r\n    fill: 'gray',\r\n    fontSize: 11,\r\n    textAnchor: 'middle'\r\n  })\r\n\r\n  return (\r\n      <AxisBottom\r\n        tickFormat={tickFormat}\r\n        tickLabelProps={tickLabelProps}\r\n        scale={scale}\r\n        tickValues={tickValues} {...axisStyleProps}\r\n        hideTicks={false}\r\n      />\r\n  );\r\n};\r\n\r\nexport const YAxisLeft = ({ scale, tickFormat, axisStyleProps }: any) => {\r\n  const tickValues = scale.ticks(10);\r\n  axisStyleProps = axisStyleProps || {};\r\n  const  tickLabelProps = () => ({\r\n    fontWeight: 'bold',\r\n    fill: 'gray',\r\n    fontSize: 11,\r\n    dx: -18,\r\n    dy: 5\r\n  })\r\n  return (\r\n      <AxisLeft\r\n        scale={scale}\r\n        tickLabelProps={tickLabelProps}\r\n        tickFormat={tickFormat}\r\n        tickValues={tickValues} \r\n        {...axisStyleProps}\r\n      />\r\n  );\r\n};\r\n\r\nexport const YAxisRight = ({ scale, tickFormat, axisStyleProps }: any) => {\r\n  const tickValues = scale.ticks(10);\r\n  const  tickLabelProps = () => ({\r\n    fontWeight: 'bold',\r\n    fill: 'gray',\r\n    fontSize: 11,\r\n    dx: 12,\r\n    dy: 5\r\n  })\r\n  return (\r\n      <AxisRight\r\n        scale={scale}\r\n        tickFormat={tickFormat}\r\n        tickLabelProps={tickLabelProps}\r\n        tickValues={tickValues} {...axisStyleProps}/>\r\n  );\r\n};\r\n\r\nexport const defaultAxisStyle = {\r\n  hideAxisLine: true,\r\n  tickStroke: 'gray',\r\n  tickLength: 6,\r\n  hideTicks: true,\r\n  hideZero: false\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport const useRect = ({ height, width }: { height: number; width: number; }): DrawAreaRect => {\r\n  //if axis ticks get cutoff, increase the margin of appropriate direction\r\n  const margin = {\r\n    top: 10,\r\n    right: 35,\r\n    bottom: 40,\r\n    left: 35\r\n  };\r\n\r\n  const calcRect = (width: any) =>({\r\n    width,\r\n    height,\r\n    innerWidth: width - margin.left - margin.right,\r\n    innerHeight: height - margin.top - margin.bottom,\r\n    margin,\r\n    xRange: [margin.left, width - margin.right],\r\n    yRange: [height - margin.bottom, margin.top]\r\n  })\r\n  const [ rect, setRect ] = useState(calcRect(width));\r\n  useEffect(()=>setRect(calcRect(width)), [width]);\r\n  return rect as any;\r\n}\r\n\r\n//given the height and width of the graph i.e. the drawArea + axis, computes margins\r\nexport interface DrawAreaRect {\r\n  readonly width: number;\r\n  readonly height: number;\r\n  readonly innerWidth: number;\r\n  readonly innerHeight: number;\r\n  readonly margin: {\r\n    readonly left: number;\r\n    readonly top: number;\r\n    readonly right: number;\r\n    readonly bottom: number;\r\n  }\r\n  readonly xRange: [number, number];\r\n  readonly yRange: [number, number];\r\n}","import { scaleLinear, scaleBand } from '@vx/scale';\r\nimport { DrawAreaRect } from './rect';\r\n\r\ntype Scale = { yMax: number, rect: DrawAreaRect, points: any, zoom? : number };\r\n\r\nexport const useScale = ({ rect,  points, yMax, zoom = 1.15 }: Scale) => ({\r\n  xAxis: getXBandScale({rect, points}),\r\n  yAxis: {\r\n    scale: scaleLinear({\r\n      domain: [0, zoom * yMax],\r\n      range: rect.yRange,\r\n    })\r\n  }\r\n});\r\n\r\nfunction getXBandScale({ rect, points }: { rect: DrawAreaRect, points: any }) {\r\n  const getDate = (d: any) => (new Date(d?.date || '2010')).toISOString();;\r\n  const getDates = (points: any[]) => {\r\n    const dates = []\r\n    for (let i = points.length - 1; i >= 0; i--) {\r\n      dates.push(getDate(points[i]))\r\n    }\r\n    return dates;\r\n  }\r\n\r\n  return {\r\n    scale: scaleBand<string>({\r\n      domain: getDates(points),\r\n      range: rect.xRange,\r\n      padding: 0.2,\r\n    })\r\n  }\r\n}","import * as Sentry from '@sentry/browser';\r\n\r\nexport default {\r\n    log: (error: any) => {\r\n        console.log(error)\r\n        Sentry.captureException(error)\r\n    }\r\n}","import { useMemo } from \"react\";\r\nimport { TimeSeries } from \"../../../model/domain/metrics\";\r\nimport logger from \"../../../utils/logger\";\r\n\r\nexport const useData = (timeSeriesResult: any) => useMemo(() => getStackedPoints(timeSeriesResult), [timeSeriesResult]);\r\n\r\nconst getStackedPoints = (timeSeriesResult: TimeSeries.Result) => {\r\n  const stackedPoints: any[] = [];\r\n  let max = 0;\r\n  let linearMax = 0;\r\n\r\n  try {\r\n    if (!timeSeriesResult) return { points: stackedPoints, max, linearMax };\r\n    const { timeSeries } = timeSeriesResult\r\n    const reference = timeSeries[0]\r\n    const numPoints = reference.points.length;\r\n    const numResource = timeSeries.length\r\n\r\n    for (let i = 0; i < numPoints; i++) {\r\n      let stackedPoint = { date: reference.points[i].at };\r\n      let totalValue = 0;\r\n\r\n      for (let j = 0; j < numResource; j++) {\r\n        const point = timeSeries[j].points[i];\r\n        const resource = timeSeries[j].displayLabel;\r\n\r\n        if (point.isMissing) {\r\n          stackedPoint[resource] = null;\r\n        } else {\r\n          totalValue += point.value;\r\n          linearMax = Math.max(linearMax, point.value)\r\n          stackedPoint[resource] = point.value;\r\n        }\r\n      }\r\n      stackedPoints.push(stackedPoint);\r\n      max = max < totalValue ? totalValue : max;\r\n    }\r\n  } catch (e) {\r\n    logger.log(e)\r\n  }\r\n  return { points: stackedPoints, max, linearMax };\r\n}\r\n\r\nexport const useCombinedData = (timeSeriesResults: TimeSeries.Result[]) => useMemo(() => {\r\n  const points: any = [];\r\n  let max = 0;\r\n  const hasError = timeSeriesResults.reduce((acc, ts: TimeSeries.Result) => !ts?.timeSeries || acc, false);\r\n  if (hasError) return { points, max };\r\n\r\n  const reference = timeSeriesResults[0].timeSeries[0]\r\n  const numPoints = reference.points.length;\r\n  const numResource = timeSeriesResults.length\r\n\r\n  const formatLabel = (s: string) => s.replace(/_/g, ' ')\r\n  for (let i = 0; i < numPoints; i++) {\r\n    let combinedPoint = { date: reference.points[i].at };\r\n\r\n    for (let j = 0; j < numResource; j++) {\r\n      const point = timeSeriesResults[j].timeSeries[0].points[i];\r\n      const resource = formatLabel(timeSeriesResults[j].metricType);\r\n\r\n      if (point.isMissing) {\r\n        combinedPoint[resource] = null;\r\n      } else {\r\n        combinedPoint[resource] = point.value;\r\n      }\r\n    }\r\n\r\n    points.push(combinedPoint);\r\n  }\r\n\r\n  return { points, max };\r\n}, [timeSeriesResults]);","export const getKeys = (points: any[]) => {\r\n    if(points?.length < 1) return [];\r\n    return Object.keys(points[0]).filter(k => k !== 'date')\r\n}\r\n","import { getColor } from \"../utils/color\";\r\nimport { localPoint } from '@vx/event';\r\nimport { useTooltip } from '@vx/tooltip';\r\nimport { getKeys } from \"../utils/points\";\r\nimport {  ScaleBand } from 'd3-scale';\r\nimport { useMemo } from 'react';\r\ninterface TooltipData {\r\n    timestamp: string;\r\n    legend: { label: string, value: string, color: string }[];\r\n}\r\n\r\ninterface TooltipProps {\r\n   points: {[key: string]: string | number; date: string;}[],\r\n   setSelected? : any;\r\n   units?: string[];\r\n   xScale: ScaleBand<string>;\r\n   dateFormatter: {(d: string): string;}\r\n}\r\n/*\r\n      |                            |\r\n      |                            |\r\n      |                            |\r\n      |         |||          |||   |  \r\n      |         |||          |||   |  \r\n      |   |||   |||    |||   |||   |  \r\n      |   |||   |||    |||   |||   |  \r\n      |   |||   |||    |||   |||   |   \r\n      |   |||   |||    |||   |||   |  \r\n    ---------------------------------------------\r\n                *      *     *     *\r\n                a      b     c     d\r\n                \r\n      let x be the X position of the cursor then,\r\n      if (x <= a) {\r\n        show tooltip at middle of first bar\r\n      } else if (x <= b) {\r\n        show tooltip at middle of second bar\r\n      } else if (x <= c) {\r\n        show tooltip at middle of third bar\r\n      } else {\r\n        show tooltip at middle of last bar\r\n      }\r\n*/\r\nexport default ({points: points_, setSelected, units, xScale, dateFormatter }: TooltipProps) => {\r\n    const tooltip = useTooltip<TooltipData>();\r\n\r\n    //[tuesday, monday, sunday] -> [sunday, monday, tuesday]\r\n    //[sunday, monday, tuesday] -> [sunday, monday, tuesday]\r\n    const points = useMemo(() => {\r\n      return points_[0].date > points_[points_.length - 1].date\r\n        ? [...points_].reverse()\r\n        : points_;\r\n    }, [points_]);\r\n\r\n    /*\r\n      |                                       |\r\n      |                                       |\r\n      |                                       |\r\n      |         |||    |||   |||         |||  |  \r\n      |         |||    |||   |||         |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |   \r\n    ---------------------------------------------\r\n          ^                                ^\r\n          |                                | \r\n        (band start)                    (band end)\r\n    */\r\n    const bandStart = xScale(points[0].date) || 0;\r\n    const bandEnd = xScale(points[points.length - 1].date) || 0 + xScale.bandwidth();\r\n\r\n    const getUnit = (i: number) => units? units[i % units.length] : '';\r\n\r\n    const getLegend = (i: number) => {\r\n        const keys = getKeys(points);\r\n        const toPercent = (n: number) => (n * 100).toFixed(2) + '%';\r\n        const toDollar = (n: number) => '$'+ (n / 100).toFixed(0) ;\r\n        const point = points[i] || {};\r\n\r\n        return keys.map((label: string, index: number) => {\r\n            let value = point[label] as any;\r\n            const isMissing = value == null;\r\n            const unit = getUnit(index);\r\n            value = unit === '%'\r\n              ? toPercent(value)\r\n              : unit === 'cents'\r\n              ? toDollar(value)\r\n              : value + ''; \r\n\r\n            return { label, value, color: getColor(index), isMissing }\r\n        })\r\n    }\r\n\r\n    //offsetting local point x, y so as to have `bandStart` as effective start\r\n    //helps calculation below.\r\n    const graphLocal = (event: any) => {\r\n      const { x, y } = localPoint(event) || { x: 0, y: 0};\r\n\r\n      return { x: x - bandStart, y };\r\n    }\r\n\r\n    return {\r\n        ...tooltip,\r\n        handleTooltip: (event: any, newSelected = -1) => {\r\n          let { x, y } = graphLocal(event) || {};\r\n          setSelected(newSelected);\r\n          \r\n          const i = x > bandEnd\r\n            ? points.length - 1\r\n            : x < 0\r\n            ? 0\r\n            : Math.floor(x! / xScale.step());\r\n\r\n          /*\r\n              |                                       |\r\n              |                                       |\r\n              |                                       |\r\n              |         |||    |||   |||         |||  |  \r\n              |         |||    |||   |||         |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |   \r\n            ---------------------------------------------\r\n                                *\r\n                                ^\r\n                                |\r\n                                iX for i = 2 (mid point of the third bar line)\r\n          */\r\n          const iX = bandStart + i * xScale.step() + xScale.bandwidth() / 2;          \r\n\r\n          const timestamp = xScale.domain()[i];\r\n\r\n            //const i = bisect(timestamp);\r\n            const legend = getLegend(i);\r\n\r\n            // try replacing iX with x + bandStart, and if thats\r\n            // better then replce this\r\n            tooltip.showTooltip({\r\n                tooltipData: { timestamp: dateFormatter(timestamp), legend },\r\n                tooltipLeft: iX,\r\n                tooltipTop: y,\r\n            });\r\n\r\n        }\r\n    }\r\n}","import React from 'react'\r\nimport { TooltipWithBounds } from '@vx/tooltip';\r\nimport { Text, Grid } from 'platyplex_ui';\r\nimport { primaryColor } from '../../../config';\r\nimport { Line } from '@vx/shape';\r\n\r\nconst Tooltip = ({ tooltipOpen, tooltipLeft, tooltipTop, tooltipData, isSelected}: any) => {\r\n    if (!tooltipOpen && !tooltipData) return null;\r\n\r\n    return (\r\n        <TooltipWithBounds top={tooltipTop} left={tooltipLeft}>\r\n            <Grid placeItems=\"start\" customRows=\"auto 1fr\" gridGap=\".4em\" style={{zIndex: 10000}}>\r\n                <Text>{tooltipData.timestamp}</Text>\r\n                {tooltipData.legend\r\n                    .map(({ color, label, value, isMissing }: any, index: number) => (\r\n                        isMissing || value === '-1'? null :\r\n                            <div key={index} style={{ padding: 2, fontWeight: isSelected && isSelected(index)? 'bold': 'normal' }}>\r\n                                <span className='round' style={{ background: color }}></span>&nbsp;\r\n                                <span className='capitalize'><span dangerouslySetInnerHTML={{__html : label}}/>: &nbsp;{value}</span>\r\n                            </div>\r\n                    ))}\r\n            </Grid>\r\n        </TooltipWithBounds>\r\n    );\r\n}\r\n\r\nTooltip.Custom = ({ top, left, children}: any) => {\r\n    return (\r\n        <TooltipWithBounds top={top} left={left}>\r\n            {children}\r\n        </TooltipWithBounds>\r\n    );\r\n}\r\n\r\n\r\nTooltip.Line = ({ tooltipData, height, tooltipLeft: x }: any) => {\r\n    if (!tooltipData) return null;\r\n    return (\r\n        <g>\r\n            <Line\r\n                from={{ x, y: 0 }}\r\n                to={{ x, y: height }}\r\n                stroke={primaryColor}\r\n                strokeWidth={2}\r\n                pointerEvents=\"none\"\r\n                strokeDasharray=\"5,\"\r\n            />\r\n        </g>\r\n    )\r\n}\r\n\r\nexport default Tooltip;","import { TimeSeries } from \"../../model/domain/metrics\";\r\nimport {  ScaleLinear, ScaleBand } from 'd3-scale';\r\nimport { MetricDataStatus } from \"../../hooks/metrics\";\r\nimport { LineChart } from \"../../model/domain/dashboard\";\r\n\r\nexport enum Charts {\r\n    stackedArea = \"stackedArea\",\r\n    multiLine = \"multiLine\",\r\n    stackedBar = \"stackedBar\",\r\n    combined = \"combined\"\r\n}\r\n\r\nexport interface AdditionalChartProps {\r\n    filter?: boolean | React.ReactElement | null;\r\n    filterWidth?: number;\r\n    metricDataStatus: MetricDataStatus;\r\n    className?: string;\r\n    loading? : boolean;\r\n    legend?: false | { label : string};\r\n    isPercent?: boolean;\r\n    download? : string;\r\n    eId?: string; \r\n    inChartLegend? : boolean;\r\n    queries?: any; \r\n    chartTypes?: Charts[] | string[];\r\n}\r\n\r\nexport interface AdditionalMultiChartProps {\r\n  filter?: boolean | React.ReactElement | null;\r\n  filterWidth?: number;\r\n  loading? : boolean;\r\n  fixedAlignment: string;\r\n  metricDataStatuses: MetricDataStatus[];\r\n  className?: string;\r\n  inChartLegend? : boolean; \r\n  download? : string;\r\n  queries?: any;\r\n  eId?: string; \r\n  legend?:  false | { label : string };\r\n}\r\n\r\nexport type ChartProps = AdditionalChartProps & LineChart;\r\nexport type MultiMetricsChartProps = AdditionalMultiChartProps & LineChart;\r\n\r\nexport interface DrawAreaProps {\r\n  size: { height: number, width: number };\r\n  data: {\r\n    timeSeriesResult: TimeSeries.Result;\r\n  };\r\n  inChartLegend?: boolean;\r\n  chartType: Charts | string;\r\n}\r\n\r\nexport interface MultiDrawAreaProps {\r\n  size: { height: number, width: number };\r\n  fixedAlignment: string;\r\n  datas: {\r\n    timeSeriesResult: TimeSeries.Result;\r\n  } [];\r\n  chartType: Charts | string;\r\n  inChartLegend?: boolean;\r\n}\r\n\r\ntype EventHandler = (e :React.SyntheticEvent) => void;\r\n\r\nexport interface GraphEvent {\r\n    onTouchStart : EventHandler;\r\n    onTouchMove : EventHandler;\r\n    onMouseMove : EventHandler;\r\n    onMouseLeave : EventHandler;\r\n};\r\n\r\nexport type Graph = {\r\n    yScale: ScaleLinear<number, number>;\r\n    isSelected?: (i : number) => boolean;\r\n    noneSelected?: boolean;\r\n    points: any;\r\n    xScale: ScaleBand<string>;\r\n    event? : (i: number ) => GraphEvent\r\n};\r\n\r\nexport interface Points {\r\n  [key: string]: string | number;\r\n  date: string;\r\n};\r\n\r\nexport type CombinedGraph = Graph & { y2Scale: ScaleLinear<number, number>; points2: any }","import React from 'react'\r\nimport { GridRows } from '@vx/grid';\r\nconst accentColor = \"lightgray\";\r\n\r\nexport default function Grid({ yScale, width }: any) {\r\n    return <></>;\r\n    return (\r\n        <GridRows<any>\r\n            scale={yScale}\r\n            width={width}\r\n            stroke={accentColor}\r\n            strokeOpacity={0.5}\r\n            pointerEvents=\"none\"\r\n        />\r\n    );\r\n}","import React from 'react'\r\nimport { LinePath } from '@vx/shape';\r\nimport { getColor } from '../../utils/color';\r\nimport { Graph } from '../../types';\r\nimport { getKeys } from '../../utils/points';\r\n\r\nexport default function MultiLine({ points, isSelected, event, xScale, yScale }: Graph) {\r\n  const keys = getKeys(points);\r\n  const linePathX = (d: any) => xScale(d.date)! + xScale.bandwidth() / 2 || 0;\r\n  const linePathY = (d: any, key: string) => yScale(d[key]);\r\n  const reducer = (datum: any): boolean => datum !== null;\r\n\r\n  return (\r\n    <>\r\n      {points.map((data: any) => {\r\n        const left = linePathX(data);\r\n        return keys.map((key, i) => {\r\n          const top = yScale(data[key]);\r\n          if (data[key] == null) return null;\r\n          return (\r\n            <g key={`circle-${i}`}>\r\n              <circle\r\n                r={7 - points.length / 40}\r\n                cx={left}\r\n                cy={top}\r\n                {...(event ? event(i) : {})}\r\n                stroke={isSelected && isSelected(i) ? getColor(i) : ''}\r\n                fill={getColor(i) + (isSelected && isSelected(i)? '66' : 'BB')}\r\n              />\r\n            </g>\r\n          );\r\n        })\r\n\r\n      })}\r\n\r\n      {keys?.map((key, index) => (\r\n        <LinePath\r\n          x={linePathX}\r\n          y={(d) => linePathY(d, key)}\r\n          {...(event ? event(index) : {})}\r\n          data={points}\r\n          key={index}\r\n          defined={(d: any) => reducer(d[key])}\r\n          strokeWidth={isSelected && isSelected(index) ? 4 : 2}\r\n          stroke={getColor(index)}\r\n        />\r\n      )\r\n      )}\r\n    </>);\r\n}","import React from 'react'\r\nimport { AreaStack } from '@vx/shape';\r\nimport { getColor } from '../../utils/color';\r\nimport { Graph } from '../../types';\r\nimport { getKeys } from '../../utils/points';\r\n\r\n\r\nexport function StackedArea({ xScale, yScale, points, isSelected, noneSelected, event}: Graph) {\r\n  const keys = getKeys(points);\r\n  const reducer = (datum: any): boolean =>  datum.data;\r\n  const getY = (d: any, index: number) => d[index];\r\n  const getAreaStackX = (d: any) => xScale(d.data.date)!;\r\n  \r\n  return (\r\n    <AreaStack\r\n      keys={keys}\r\n      data={points}\r\n      defined={reducer}\r\n      x={getAreaStackX}\r\n      y0={d => yScale(getY(d, 0))}\r\n      y1={d => yScale(getY(d, 1))}\r\n    >\r\n      {({ stacks, path }) =>\r\n        stacks.map((stack, index) => {\r\n          const opacity = isSelected && isSelected(index)? '70' : noneSelected ? '50': '25';\r\n          const color = getColor(index) + opacity;\r\n            return (\r\n            <path\r\n              key={`stack-${index}`}\r\n              d={path(stack) || ''}\r\n              stroke={color}\r\n              strokeWidth={2}\r\n              {...event && event(index)}\r\n              fill={color}\r\n            />\r\n          )\r\n        })\r\n      }\r\n    </AreaStack>);\r\n}\r\n\r\nexport default StackedArea;","import React from 'react'\r\nimport { BarStack, AreaStack } from '@vx/shape';\r\nimport { scaleOrdinal } from '@vx/scale';\r\nimport { colors } from '../../json/colors.json';\r\nimport { Group } from '@vx/group';\r\nimport { getColor } from '../../utils/color';\r\nimport { Graph } from '../../types';\r\nimport { getKeys } from '../../utils/points';\r\n\r\nexport function StackedBar({ yScale, points, xScale, event, isSelected, noneSelected }: Graph) {\r\n  const keys = getKeys(points);\r\n  const getDate = (d: any) => (new Date(d?.date)).toISOString();\r\n\r\n  const colorScale = scaleOrdinal<string, string>({\r\n    domain: keys,\r\n    range: colors,\r\n  });\r\n\r\n  const reducer = (datum: any): boolean => datum.data;\r\n  const getY = (d: any, index: number) => d[index];\r\n  const getAreaStackX = (d: any) => xScale(d.data.date)!;\r\n\r\n  return (\r\n    <Group >\r\n      <BarStack<any, string>\r\n        keys={keys}\r\n        data={points}\r\n        xScale={xScale}\r\n        yScale={yScale}\r\n        color={colorScale}\r\n        x={getDate}\r\n      >\r\n        {barStacks => {\r\n          return barStacks.map(barStack => {\r\n            const index = barStack.index;\r\n            return barStack.bars.map((bar) => {\r\n              if (bar.bar.data[bar.key] == null) return null;\r\n              return (\r\n                <rect\r\n                  key={`bar-stack-${barStack.index}-${bar.index}`}\r\n                  x={bar.x}\r\n                  y={bar.y}\r\n                  opacity={noneSelected || (isSelected && isSelected(barStack.index))? 0.7 : 0.3}\r\n                  height={bar.height}\r\n                  width={bar.width}\r\n                  fill={getColor(index)}\r\n                />\r\n              )\r\n            })\r\n          })\r\n        }\r\n      }\r\n      </BarStack>\r\n\r\n      <AreaStack\r\n        keys={keys}\r\n        data={points}\r\n        defined={reducer}\r\n        x={getAreaStackX}\r\n        y0={d => yScale(getY(d, 0))}\r\n        y1={d => yScale(getY(d, 1))}\r\n      >\r\n        {({ stacks, path }) => stacks.map((stack, index) =>  (\r\n              <path\r\n                key={`stack-${index}`}\r\n                d={path(stack) || ''}\r\n                opacity={0}\r\n                {...event && event(index)}\r\n              />\r\n            )\r\n          )}\r\n      </AreaStack>\r\n    </Group>);\r\n};\r\n\r\nexport default StackedBar;","import React from 'react'\r\nimport { BarStack, LinePath } from '@vx/shape';\r\nimport { getColor } from '../../utils/color';\r\nimport { CombinedGraph } from '../../types';\r\nimport { scaleOrdinal } from '@vx/scale';\r\nimport { colors } from '../../json/colors.json';\r\nimport { Group } from '@vx/group';\r\nimport { getKeys } from '../../utils/points';\r\n\r\nexport function Combined({ y2Scale, yScale, points, points2, xScale , event}: CombinedGraph) {\r\n  const colorScale = scaleOrdinal<string, string>({\r\n    domain: getKeys(points),\r\n    range: colors,\r\n  });\r\n  const getBarStackX = (d: any) => (new Date(d?.date)).toISOString();\r\n  const keyLine = getKeys(points2)[0] || '';\r\n  const getLineY = (d: any) => y2Scale(d[keyLine]);\r\n  const getLineX = (d: any) => xScale(d.date)! + xScale.bandwidth() / 2;\r\n  const lineReducer = (datum: any): boolean => datum != null;\r\n\r\n  return (\r\n    <>\r\n      <Group >\r\n        <BarStack<any, string>\r\n          keys={getKeys(points)}\r\n          data={points}\r\n          xScale={xScale}\r\n          yScale={yScale}\r\n          color={colorScale}\r\n          x={getBarStackX}\r\n        >\r\n          {barStacks =>\r\n            barStacks.map(barStack => {\r\n              const index = barStack.index;\r\n              return barStack.bars.map((bar) => {\r\n                if (bar.bar.data[bar.key] == null) return null;\r\n                return (\r\n                  <rect\r\n                    key={`bar-stack-${barStack.index}-${bar.index}`}\r\n                    x={bar.x}\r\n                    y={bar.y}\r\n                    {...(event && event(-1))}\r\n                    opacity={0.6}\r\n                    height={bar.height}\r\n                    width={bar.width}\r\n                    fill={getColor(index)}\r\n                  />\r\n                )\r\n              })\r\n            }\r\n            )}\r\n        </BarStack>\r\n      </Group>\r\n\r\n      <LinePath<any>\r\n        x={getLineX}\r\n        y={getLineY}\r\n        data={points2}\r\n        defined={(d: any) => lineReducer(d[keyLine])}\r\n        strokeWidth={3}\r\n        {...(event && event(-1))}\r\n        stroke={getColor(1) + 'A0'}\r\n      />\r\n\r\n      {points2.map((d: any, i: number) => {\r\n        const left = getLineX(d);\r\n        const top = getLineY(d);\r\n        if(d[keyLine] == null) return null;\r\n        return (\r\n          <g key={`circle-${i}`}>\r\n            <circle\r\n              r={7 - points2.length/40}\r\n              cx={left}\r\n              cy={top}\r\n              fill={getColor(1) +  'BB'}\r\n            />\r\n          </g>\r\n        );\r\n      })}\r\n    </>);\r\n}\r\n\r\nexport default Combined;","import React from 'react';\r\nimport { Charts } from \"../types\";\r\nimport MultiLine from \"../components/graph/multi-line\";\r\nimport StackedArea from \"../components/graph/stacked-area\";\r\nimport StackedBar from \"../components/graph/stacked-bar\";\r\nimport Combined from '../components/graph/combined';\r\n\r\nexport const getChart = (chart:Charts | string, props: any) => {\r\n    switch (chart) {\r\n      case Charts.multiLine:\r\n        return <MultiLine {...props} />;\r\n  \r\n      case Charts.stackedArea:\r\n        return <StackedArea {...props} />;\r\n  \r\n      case Charts.stackedBar:\r\n        return <StackedBar {...props} />;\r\n      case Charts.combined:\r\n        return <Combined {...props}/>;\r\n      default:\r\n        return \"Error\";\r\n    }\r\n  }","import React, { useState } from 'react'\r\nimport { XAxis, YAxisLeft, YAxisRight, defaultAxisStyle } from '../axis';\r\nimport { useRect } from '../../hooks/rect';\r\nimport { useScale } from '../../hooks/scale';\r\nimport { useData, useCombinedData } from '../../hooks/data';\r\nimport useToolTip from '../../hooks/tooltip';\r\nimport Tooltip from '../tooltip';\r\nimport { DrawAreaProps, Graph, MultiDrawAreaProps, CombinedGraph, Charts } from '../../types';\r\nimport Grid from '../grid';\r\nimport { getChart } from '../../utils/chart';\r\nimport { TimeSeries } from '../../../../model/domain/metrics';\r\nimport { moment, getTimezone } from '../../../../utils/time';\r\nimport { LegendOrdinal } from '@vx/legend';\r\nimport { scaleOrdinal } from \"@vx/scale\";\r\nimport { colors } from '../../json/colors.json';\r\nimport { getKeys } from '../../utils/points';\r\n\r\nconst DrawArea = (props: DrawAreaProps) => {\r\n  const { size, chartType, data } = props;\r\n  const { timeSeriesResult } = data as any;\r\n  const { height, width } = size;\r\n  const rect = useRect({ height, width });\r\n  const { max, points, linearMax } = useData(timeSeriesResult);\r\n  const [selected, setSelected] = useState(-1);\r\n  const isSelected = (index: number) => selected === index;\r\n\r\n  const { xAxis, yAxis } = useScale({ rect: rect, yMax: chartType === Charts.multiLine ? linearMax : max, points });\r\n  const tickFormatY = getYTickFormatter(timeSeriesResult);\r\n  const tickFormatX = getXTickFormatter(timeSeriesResult);\r\n  const tooltipFormatter = getTooltipDateFormatter(timeSeriesResult);\r\n\r\n  const { tooltipData, hideTooltip, handleTooltip, tooltipLeft, tooltipTop, tooltipOpen } = useToolTip({\r\n    points,\r\n    setSelected,\r\n    units: [timeSeriesResult.unit],\r\n    xScale: xAxis.scale,\r\n    dateFormatter: tooltipFormatter\r\n  });\r\n\r\n  const event = (index = -1) => ({\r\n    onTouchStart: (e: any) => handleTooltip(e, index),\r\n    onTouchMove: (e: any) => handleTooltip(e, index),\r\n    onMouseMove: (e: any) => handleTooltip(e, index),\r\n    onMouseLeave: () => {\r\n      setSelected(-1);\r\n      hideTooltip();\r\n    }\r\n  })\r\n\r\n  const chartProps: Graph = {\r\n    yScale: yAxis.scale,\r\n    points,\r\n    xScale: xAxis.scale,\r\n    isSelected,\r\n    noneSelected: selected === -1,\r\n    event\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ height: height + 'px', width: '100%', position: 'relative' }}>\r\n        <SVG height={height} width={'100%'} {...event(-1)}>\r\n          <Tooltip.Line\r\n            height={height}\r\n            tooltipData={tooltipData}\r\n            tooltipLeft={tooltipLeft}\r\n          />\r\n\r\n          <g transform={`translate(0,${rect.height - rect.margin.bottom})`}>\r\n            <XAxis\r\n              scale={xAxis.scale}\r\n              tickFormat={tickFormatX}\r\n              axisStyleProps={defaultAxisStyle} />\r\n          </g>\r\n\r\n          <g transform={`translate(${rect.margin.left},0)`}>\r\n            <Grid yScale={yAxis.scale} width={rect.innerWidth} />\r\n            <YAxisLeft\r\n              scale={yAxis.scale}\r\n              tickFormat={tickFormatY}\r\n              axisStyleProps={defaultAxisStyle} />\r\n          </g>\r\n          {/*always have this below the <Grid />*/}\r\n          {getChart(chartType, chartProps)}\r\n\r\n        </SVG>\r\n        <Tooltip\r\n          tooltipOpen={tooltipOpen}\r\n          tooltipLeft={tooltipLeft}\r\n          tooltipTop={tooltipTop}\r\n          tooltipData={tooltipData}\r\n          isSelected={isSelected}\r\n          noneSelected={selected === -1}\r\n        />\r\n      </div>\r\n      {props.inChartLegend &&\r\n        <LegendOrdinal\r\n          scale={scaleOrdinal({\r\n            range: colors,\r\n            domain: getKeys(points)\r\n          })\r\n          }\r\n          style={{\r\n            fontSize: '13px',\r\n            display: 'grid',\r\n            textTransform: 'capitalize',\r\n            placeItems: 'center',\r\n            gridTemplateColumns: `repeat(${getKeys(points).length}, 1fr)`\r\n          }}\r\n          shape='circle'\r\n          labelMargin=\"0 15px 0 0\"\r\n        />\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nconst MultiDrawArea = (props: MultiDrawAreaProps) => {\r\n  const { size, chartType, datas } = props;\r\n  const [{ timeSeriesResult }, { timeSeriesResult: timeSeriesResult2 }] = datas;\r\n  const { height, width } = size;\r\n  const rect = useRect({ height, width });\r\n  const data1 = useData(timeSeriesResult);\r\n  const data2 = useData(timeSeriesResult2);\r\n  const dataComb = useCombinedData([timeSeriesResult, timeSeriesResult2]);\r\n\r\n  const { xAxis, yAxis } = useScale({\r\n    rect,\r\n    yMax: data1.max,\r\n    points: data1.points\r\n  });\r\n\r\n  const { yAxis: y2Axis } = useScale({\r\n    rect,\r\n    yMax: data2.max,\r\n    points: data2.points\r\n  });\r\n\r\n  const tickFormatYLeft = getYTickFormatter(timeSeriesResult);\r\n  const tickFormatYRight = getYTickFormatter(timeSeriesResult2);\r\n  const tickFormatX = getXTickFormatter({...timeSeriesResult2, ...props.fixedAlignment? {alignmentPeriod: props.fixedAlignment} : {}} as any);\r\n  const tooltipFormatter = getTooltipDateFormatter(timeSeriesResult);\r\n\r\n  const { tooltipData, hideTooltip, handleTooltip, tooltipLeft, tooltipTop, tooltipOpen } = useToolTip({\r\n    points: dataComb.points,\r\n    units: [timeSeriesResult.unit, ''],\r\n    setSelected: () => { },\r\n    xScale: xAxis.scale,\r\n    dateFormatter: tooltipFormatter\r\n  });\r\n\r\n\r\n  const event = (index = -1) => ({\r\n    onTouchStart: (e: any) => handleTooltip(e, index),\r\n    onTouchMove: (e: any) => handleTooltip(e, index),\r\n    onMouseMove: (e: any) => handleTooltip(e, index),\r\n    onMouseLeave: () => hideTooltip()\r\n  });\r\n  const chartProps: CombinedGraph = {\r\n    yScale: yAxis.scale,\r\n    points: data1.points,\r\n    points2: data2.points,\r\n    y2Scale: y2Axis.scale,\r\n    xScale: xAxis.scale,\r\n    event\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ height: height + 'px', width: '100%', position: 'relative' }}>\r\n        <SVG height={height} width={'100%'} {...event(-1)}>\r\n          <Tooltip.Line\r\n            height={height}\r\n            tooltipData={tooltipData}\r\n            tooltipLeft={tooltipLeft} />\r\n\r\n          <g transform={`translate(0,${rect.height - rect.margin.bottom})`}>\r\n            <XAxis\r\n              scale={xAxis.scale}\r\n              tickFormat={tickFormatX}\r\n              axisStyleProps={defaultAxisStyle} />\r\n          </g>\r\n\r\n          <g transform={`translate(${rect.margin.left},0)`}>\r\n            <Grid yScale={yAxis.scale} width={rect.innerWidth} />\r\n            <YAxisLeft\r\n              scale={yAxis.scale}\r\n              tickFormat={tickFormatYLeft}\r\n              axisStyleProps={defaultAxisStyle} />\r\n          </g>\r\n\r\n          <g transform={`translate(${rect.width - rect.margin.right},0)`}>\r\n            <YAxisRight\r\n              scale={y2Axis.scale}\r\n              tickFormat={tickFormatYRight}\r\n              axisStyleProps={defaultAxisStyle} />\r\n          </g>\r\n\r\n          {/*always have this below the <Grid />*/}\r\n          {getChart(chartType, chartProps)}\r\n\r\n        </SVG>\r\n        <Tooltip\r\n          tooltipOpen={tooltipOpen}\r\n          tooltipLeft={tooltipLeft}\r\n          tooltipTop={tooltipTop}\r\n          tooltipData={tooltipData} />\r\n      </div>\r\n      {props.inChartLegend &&\r\n        <LegendOrdinal\r\n          scale={scaleOrdinal({\r\n            range: colors,\r\n            domain: getKeys(dataComb.points)\r\n          })\r\n          }\r\n          style={{\r\n            fontSize: '13px',\r\n            display: 'grid',\r\n            placeItems: 'center',\r\n            textTransform: 'capitalize',\r\n            gridTemplateColumns: `repeat(${getKeys(dataComb.points).length}, 1fr)`\r\n          }}\r\n          shape='circle'\r\n          labelMargin=\"0 15px 0 0\"\r\n        />\r\n      }\r\n    </>\r\n  );\r\n}\r\ninterface SVGProps {\r\n  height: number | string,\r\n  width: number | string,\r\n  children: any,\r\n  onTouchStart: { (e: React.SyntheticEvent): void };\r\n  onTouchMove: { (e: React.SyntheticEvent): void };\r\n  onMouseMove: { (e: React.SyntheticEvent): void };\r\n  onMouseLeave: { (e: React.SyntheticEvent): void };\r\n}\r\n\r\nconst SVG = (o: SVGProps) => (\r\n  <svg width={o.width} height={o.height}>\r\n    <rect\r\n      x={0}\r\n      y={0}\r\n      width={o.width}\r\n      height={o.height}\r\n      fill={'transparent'}\r\n      onTouchStart={o.onTouchStart}\r\n      onTouchMove={o.onTouchMove}\r\n      onMouseMove={o.onMouseMove}\r\n      onMouseLeave={o.onMouseLeave} />\r\n    {o.children}\r\n  </svg>\r\n);\r\n\r\nDrawArea.Multi = MultiDrawArea;\r\nexport default DrawArea;\r\n\r\nfunction getYTickFormatter(ts: TimeSeries.Result) {\r\n  const identity = (n: any) => n % 1 != 0? null: n;\r\n  const centsFormatter = (n: number) => '$' + (n / 100).toFixed(0);\r\n  const percentFormatter = (n: number) => (n * 100).toFixed(1) + '%';\r\n\r\n  return ts.unit === '%'\r\n    ? percentFormatter\r\n    : ts.unit === 'cents'\r\n      ? centsFormatter\r\n      : identity;\r\n}\r\n\r\n/*\r\n  How TimeSeries Dates should be interpreted:\r\n\r\n  Data points are returned in descending order w.r.t \r\n  `at` field in time series points i.e. data at position 0 is\r\n  greater than data at position 1. Say following 2 successive data points:\r\n\r\n  [\r\n    { at: x, value: v1 isMissing: false },\r\n    { at: y, value: v2, isMissing: false }\r\n  ]\r\n\r\n  then,\r\n  \r\n  x is always greater than y.\r\n\r\n  Moreover, every time series result has `alignmentPeriod` field,\r\n  and according to that, successive data points differ w.r.t `at` field.\r\n\r\n  Following table shows the difference between x and y field for various\r\n  alignmentPeriods.\r\n\r\n  alignmentPeriod  |   x - y\r\n  =============================\r\n      1h           |   1 hours\r\n      1d           |   1 day\r\n      1w           |   1 week\r\n      1m           |   1 month\r\n\r\n  Another thing is that, the value associated with a\r\n  time series point whose `at` field is t1, is some aggregation of data points\r\n  that was collected between (t1, t2], and t2 - t1 is the alignmentPeriod.\r\n\r\n  Thus, for above, v1 is the aggregation of data points between x and y i.e. \r\n  including x but not y.\r\n\r\n  Similarly, v2 is the aggregation of data points between y and z i.e. including\r\n  y and not z; and y - z is the alignment period.\r\n\r\n  This brings to the point of how it affects label. \r\n\r\n  Say our alignmentPeriod was 1w, and the data points were marked at following:\r\n  [ \r\n    { at: 2020-01-14T00:00:00Z, value: v1, isMissing: false },\r\n    { at: 2020-01-07T00:00:00Z, value: v2, isMissing: false }\r\n  ]\r\n\r\n  then v1 is the accumulation of data between (07T00, 14T00].\r\n\r\n  What that means is, datapoints between Jan 7 00:01 AM and Jan 14 00:00 AM\r\n  are being considered. So, infact what we ought to show in the user friendly\r\n  label is not Jan 7 to Jan 14 but rather Jan 7 to Jan 13.\r\n\r\n  So, the display label math turns out to be [d - 1 - 1 week, d - 1].\r\n  \r\n  We do this math for 1m, 1w and 1d. Others aren't necessary, since the\r\n  time difference is already very small\r\n\r\n*/\r\n\r\nconst minusOneDay = (d: string) => moment(d).add(-1, 'day').toISOString();\r\n\r\nconst getXTickFormatter = (() => {\r\n  const f = (date: string, formatter: string) => moment.tz(date).format(formatter);\r\n\r\n  const map: { [key in TimeSeries.AlignmentPeriod]: { (d: string): string } } = {\r\n    '1m': (d: string) => f(minusOneDay(d), 'MMM'),\r\n    '1w': (d: string) => {\r\n      d = minusOneDay(d);\r\n      const d0 = moment(d).subtract(6, 'day').toISOString();\r\n      return `${f(d0, 'MMM DD')} - ${f(d, 'MMM DD')}`;\r\n    },\r\n    '1d': (d: string) => {\r\n      d = minusOneDay(d);\r\n      return moment.tz(d).get('month') === 0 ? f(d, 'MMM, YYYY') : f(d, 'MMM DD');\r\n    },\r\n    '4h': (d: string) => f(d, 'MMM DD'),\r\n    '1h': (d: string) => f(d, 'MMM DD h A'),\r\n    '30m': (d: string) => f(d, 'ddd h A'),\r\n    '5m': (d: string) => f(d, 'h:mm A')\r\n  };\r\n\r\n  const defaultFormatter = map['30m'];\r\n\r\n  return (ts: TimeSeries.Result) => {\r\n    return map[ts.alignmentPeriod] || defaultFormatter;\r\n  }\r\n})();\r\n\r\nconst getTooltipDateFormatter = (() => {\r\n  const f = (date: string, formatter: string) => moment.tz(date).format(formatter);\r\n\r\n  const map: { [key in TimeSeries.AlignmentPeriod]: { (d: string): string } } = {\r\n    '1m': (d: string) => f(minusOneDay(d), 'MMM, YYYY'),\r\n    '1w': (d: string) => {\r\n      d = minusOneDay(d);\r\n      const d0 = moment(d).subtract(6, 'day').toISOString();\r\n      return `${f(d0, 'MMM DD, YYYY')} - ${f(d, 'MMM DD, YYYY')}`;\r\n    },\r\n    '1d': (d: string) => f(minusOneDay(d), 'MMM DD, YYYY'),\r\n    '4h': (d: string) => f(d, 'MMM DD, YYYY, ddd h A'),\r\n    '1h': (d: string) => f(d, 'MMM DD, YYYY, ddd h A'),\r\n    '30m': (d: string) => f(d, 'MMM DD, ddd h A'),\r\n    '5m': (d: string) => f(d, 'MMM DD, h:mm A')\r\n  };\r\n\r\n  const defaultFormatter = map['30m'];\r\n\r\n  return (ts: TimeSeries.Result) => {\r\n    return map[ts.alignmentPeriod] || defaultFormatter;\r\n  }\r\n})();","import React from \"react\";\r\nimport { Card } from 'platyplex_ui';\r\nimport { Table } from \"antd\";\r\nimport { getColor } from \"../utils/color\";\r\nimport { getKeys } from \"../utils/points\";\r\n\r\nexport default ({ points, legend }: { points: any, legend?: { label: string } }) => {\r\n  const tableProps = {\r\n    loading: points && points.length > 0 ? false : true,\r\n    style: { width: '100%' },\r\n    dataSource: getKeys(points).map((key: string, i: number) => ({ label: key, key: i, color: getColor(i) })),\r\n    columns: [\r\n      {\r\n        title: legend?.label,\r\n        dataIndex: 'label',\r\n        key: 'label',\r\n        render: (item: string) => <span className='capitalize'>{item}</span>\r\n      },\r\n      {\r\n        title: 'Color',\r\n        dataIndex: 'color',\r\n        key: 'color',\r\n        render: (color: string) => <span className='round' style={{ background: color }}></span>\r\n      }\r\n    ]\r\n  }\r\n\r\n  if (!legend) return null;\r\n  return (\r\n    <Card shadow width=\"100%\" >\r\n      <Table\r\n        pagination={false}\r\n        {...tableProps}\r\n      />\r\n    </Card>\r\n  )\r\n};","import { useState, useRef, useEffect } from \"react\";\r\n\r\nexport const useResize = ({ filterWidth } : { filterWidth?: number}) =>{\r\n    const [width, setWidth] = useState(300);\r\n    const container = useRef<any>(null);\r\n    const resize = () => setWidth(container?.current?.clientWidth);\r\n    useEffect(resize, [container?.current?.clientWidth, filterWidth]);\r\n    useEffect(() => {\r\n      window?.addEventListener(\"resize\", resize);\r\n      return () => window.removeEventListener(\"resize\", resize);\r\n    }, []);\r\n  \r\n    return {\r\n       container,\r\n       width\r\n    };\r\n  };","import React, { useEffect, useState } from \"react\";\r\nimport { Header, Grid, Notification } from 'platyplex_ui';\r\nimport { disabledTxtColor, primaryColor } from \"../../../config\";\r\nimport { overflow } from \"../../../utils/text\";\r\nimport { Charts } from \"../types\";\r\nimport charts from '../json/charts.json'\r\nimport api from \"../../../api\";\r\nimport logger from \"../../../utils/logger\";\r\nimport { TimeSeries } from '../../../model/domain/metrics';\r\n\r\ntype ReportQuery = {  [key: string]: TimeSeries.Query };\r\n\r\nconst createReport = (eId: string, reportType: string, queries: ReportQuery) => {\r\n  const ts = Object.keys(queries)\r\n  .reduce((acc, key, i) => acc + `${i > 0 ? '&' : ''}${key}=${JSON.stringify(queries[key])}`, '');\r\n\r\n}\r\n\r\nconst ChartHeader = ({\r\n  chartType,\r\n  chartTypes,\r\n  setChartType,\r\n  title, filter,\r\n  isPercent,\r\n  loading = false,\r\n  download,\r\n  eId,\r\n  queries\r\n}: any) => {\r\n  const [links, setLinks] = useState([])\r\n\r\n  return (\r\n    <Header\r\n      className=\"grid\"\r\n      color={primaryColor}\r\n      style={{\r\n        gridColumn: \"1/-1\",\r\n        width: \"100%\",\r\n        gridTemplateColumns: \"1fr auto auto\",\r\n        placeItems: \"start \",\r\n      }}\r\n      bold\r\n      size={4}\r\n    >\r\n      <Grid mobileLayout={false} customCols=\"auto 1fr auto\" gridGap=\".5em\" padding=\".2em .5em\"\r\n        width={'100%'}\r\n        style={{\r\n          placeItems: 'start',\r\n          borderRadius: \"1em\",\r\n          textTransform: \"capitalize\",\r\n          placeSelf: \"start\",\r\n        }}\r\n      >\r\n        <Header bold size={3.75} textAlign='left'>{overflow(title, 25)}</Header>\r\n        <div style={{ placeSelf: \"end\" }}>\r\n       \r\n        </div>\r\n        {filter}\r\n      </Grid>\r\n    </Header>\r\n  )\r\n};\r\nexport default ChartHeader;\r\n\r\nfunction downloadFromLink(link: string)  {\r\n  return new Promise((resolve: any, reject) => {\r\n    const el = document.createElement('a');\r\n    el.setAttribute('id', Math.random() + '');\r\n    el.setAttribute('href', link); \r\n    el.setAttribute('download', '');\r\n    el.setAttribute('style', 'width: 0px, height: 0px');\r\n  \r\n    document.body.appendChild(el); \r\n  \r\n    el.click();\r\n  \r\n    setTimeout(() => {\r\n      document.body.removeChild(el);\r\n      resolve();\r\n    }, 500);\r\n  })\r\n}","import React from \"react\";\r\nimport {Header, Loader } from 'platyplex_ui';\r\nconst Loading = ({ style }: any) => (\r\n    <div className=\"grid\" style={style}>\r\n      <div>\r\n        <Loader.Spinner />\r\n        <Header bold>Loading..</Header>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\nexport default Loading;","import React, { CSSProperties, useEffect, useState } from \"react\";\r\nimport { Card, Empty as EmptyEl } from 'platyplex_ui'\r\nimport Graph from \"./components/graph\";\r\nimport LegendTable from \"./components/legend-table\";\r\nimport { Charts, ChartProps, MultiMetricsChartProps } from \"./types\";\r\nimport { useResize } from \"./hooks/resize\";\r\nimport ChartHeader from \"./components/header\";\r\nimport Loader from './components/loading';\r\nimport { useChartType } from \"./hooks/chart-type\";\r\nimport { useData, useCombinedData } from \"./hooks/data\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst d100: CSSProperties = { height: '100%', width: '100%', textAlign: 'center', marginTop: \"1em\" };\r\nconst height = 400;\r\n\r\nconst Chart = ({ filter, loading, download, eId,  queries, metricDataStatus, legend, filterWidth, title, isPercent, chartTypes = [Charts.stackedBar], inChartLegend }: ChartProps) => {\r\n  const { chartType, setChartType } = useChartType({ chartTypes, isPercent })\r\n  const { container, width } = useResize({ filterWidth });\r\n  const { points } = useData(metricDataStatus.data?.timeSeriesResult);\r\n  return (\r\n    <>\r\n      <Card\r\n        placeSelf=\"stretch\"\r\n        shadow\r\n        grid\r\n        customCols={\"1fr\"}\r\n        gridGap={\"0 1em\"}\r\n        className=\"slide-up noselect\"\r\n      >\r\n        <ChartHeader\r\n          chartType={chartType}\r\n          chartTypes={chartTypes}\r\n          setChartType={setChartType}\r\n          title={title}\r\n          loading={loading}\r\n          isPercent={isPercent}\r\n          filter={filter}\r\n          eId={eId}\r\n          queries={ queries}\r\n        />\r\n        <div style={{ width: \"100%\", marginTop: \"1em\" }} ref={container}>\r\n          {metricDataStatus?.loading\r\n            ? <Loader style={{ ...d100, height }} />\r\n            : metricDataStatus?.error || !metricDataStatus?.data!?.timeSeriesResult\r\n              ? <EmptyEl text=\"Error Occured\" style={{ ...d100, height }} />\r\n              : <Graph\r\n                  inChartLegend={inChartLegend}\r\n                  chartType={chartType}\r\n                  size={{ height, width }}\r\n                  data={metricDataStatus.data as any}\r\n                />\r\n          }\r\n        </div>\r\n      </Card>\r\n      <LegendTable\r\n        legend={legend ? legend : undefined}\r\n        points={points}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst MultiMetricsChart = ({ filter, metricDataStatuses, legend, filterWidth, title, inChartLegend, fixedAlignment, download, eId, queries}: MultiMetricsChartProps) => {\r\n  const { container, width } = useResize({ filterWidth });\r\n  const isLoading = metricDataStatuses.reduce((acc, curr) => acc || curr.loading, false);\r\n  const hasError = metricDataStatuses.reduce((acc, curr) => acc || curr.error || !curr?.data?.timeSeriesResult, false);\r\n  const datas = metricDataStatuses.map(({ data }) => data);\r\n  const timeSeries = metricDataStatuses.map(({ data }) => data?.timeSeriesResult)\r\n  const { points } = useCombinedData(timeSeries as any);\r\n  return (\r\n    <>\r\n      <Card\r\n        placeSelf=\"stretch\"\r\n        shadow\r\n        grid\r\n        customCols={\"1fr auto\"}\r\n        gridGap={\"0 1em\"}\r\n        className=\"slide-up noselect\"\r\n      >\r\n        <ChartHeader\r\n          title={title}\r\n          filter={filter}\r\n          download={download}\r\n          eId={eId}\r\n          queries={queries}\r\n        />\r\n        <div style={{ width: \"100%\", marginTop: \"1em\" }} ref={container}>\r\n          {isLoading\r\n            ? <Loader style={{ ...d100, height }} />\r\n            : hasError\r\n              ? <EmptyEl text=\"Error Occured\" style={{ ...d100, height }} />\r\n              :\r\n              <Graph.Multi\r\n                fixedAlignment={fixedAlignment}\r\n                inChartLegend={inChartLegend}\r\n                chartType={Charts.combined}\r\n                size={{ height, width }}\r\n                datas={datas as any}\r\n              />\r\n          }\r\n        </div>\r\n      </Card>\r\n      <LegendTable\r\n        legend={legend ? legend : undefined}\r\n        points={points}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nChart.Multi = MultiMetricsChart\r\nexport default Chart;","import { useState, useEffect } from \"react\";\r\nimport { Charts } from \"../types\";\r\n\r\nexport const useChartType = ({ chartTypes, isPercent}: any) =>{\r\n    const [chartType, setChartType] = useState<Charts>(chartTypes[0] || Charts.stackedBar);\r\n    useEffect(() => {\r\n      if (isPercent)\r\n        setChartType(Charts.multiLine)\r\n    }, [isPercent]);\r\n\r\n    return { chartType, setChartType };\r\n  }; ","import React, {  useState } from \"react\";\r\nimport { Switch } from \"platyplex_ui\";\r\nimport Analytics from \"./analytics\";\r\n\r\nenum Pages {\r\n    \"ANALYTICS\" = \"ANALYTICS\",\r\n    \"LISTINGS\" = \"LISTINGS\",\r\n    \"LIVE\" = \"LIVE\"\r\n};\r\n\r\nconst Events = () => {\r\n    const [activePage, setActivePage] = useState<Pages>(Pages.ANALYTICS);\r\n    const switches = <Switch.underlined\r\n        style={{ placeSelf: \"start\", gridColumn: '1/-1' }}\r\n        items={Object.keys(Pages)}\r\n        onClick={(active: any) => setActivePage(active)}\r\n        active={activePage}\r\n    />\r\n      \r\n    return <Analytics switches={switches} /> \r\n      \r\n};\r\n\r\nexport default Events;","import { useState, useEffect } from \"react\";\r\nimport API from \"../api\";\r\nimport { TimeSeries } from \"../model/domain/metrics\";\r\nimport logger from \"../utils/logger\";\r\nimport { useTimedInterval } from \"./interval\";\r\nexport interface MetricDataStatus {\r\n  error: boolean;\r\n  loading: boolean;\r\n  data?: {\r\n    timeSeriesResult: TimeSeries.Result | null;\r\n    metricDescriptor: TimeSeries.MetricDescriptor;\r\n  };\r\n}\r\n\r\ninterface MetricDataProps {\r\n  timeSeriesQuery: TimeSeries.Query;\r\n  eId: string;\r\n  localStorageKey?: string;\r\n}\r\nexport const useMetricData = ({\r\n  timeSeriesQuery,\r\n  eId,\r\n  localStorageKey,\r\n}: MetricDataProps) => {\r\n  const [state, setState] = useState<TimeSeries.Query>({ ...timeSeriesQuery });\r\n  const [metricDataStatus, setMetricDataStatus] = useState<MetricDataStatus>({\r\n    error: false,\r\n    loading: false,\r\n    data: undefined,\r\n  });\r\n\r\n  const setIntervalPreset = (intervalPreset: TimeSeries.IntervalPreset) => {\r\n    setState({\r\n      ...state,\r\n      intervalPreset,\r\n    });\r\n  };\r\n\r\n  const getMetricData = async (query: TimeSeries.Query) => {\r\n    try {\r\n      reset();\r\n      setMetricDataStatus({ data: null, loading: true, error: false });\r\n      const res = await Promise.all([\r\n        API.getTimeSeries(eId, query),\r\n        API.getTimeSeriesMetricDescriptor(eId, query.metricType),\r\n      ]);\r\n      const [{ timeSeriesResult }, { metricDescriptor }] = res;\r\n      setMetricDataStatus({\r\n        loading: false,\r\n        error: false,\r\n        data: {\r\n          timeSeriesResult,\r\n          metricDescriptor,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      logger.log(e);\r\n      setMetricDataStatus({\r\n        loading: false,\r\n        error: true,\r\n        data: undefined,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n      getMetricData({ ...state });\r\n  }, [state]);\r\n\r\n\r\n  const { reset } = useTimedInterval(() => getMetricData(state), 2);\r\n\r\n  return {\r\n    metricDataStatus,\r\n    setMetricDataStatus,\r\n    setIntervalPreset,\r\n    timeSeriesQuery: state,\r\n    refresh: (q?: TimeSeries.Query) => {\r\n      const query = { ...state, ...q };\r\n      setState(query);\r\n    },\r\n  };\r\n};\r\n\r\nexport default { useMetricData };\r\n","import React, { useMemo } from \"react\";\r\nimport Layout from '../../../layout';\r\nimport { Grid } from \"platyplex_ui\";\r\nimport Header from \"./header\";\r\nimport Chart from '../../../components/chart';\r\nimport { useMetricData } from '../../../hooks/metrics';\r\nimport { useSelectEnterpriseEvent } from '../model';\r\n\r\n\r\nconst Analytics = ({ switches }: { switches: JSX.Element }) => {\r\n    const eId = '5f0387d7b029fcbd73a1b3cc';\r\n    const { enterpriseEvent: activeEvent } = useSelectEnterpriseEvent();\r\n    const downloads = ['event-revenue', 'event-transactions', 'event-reservations']\r\n    const charts = (() => {\r\n      const c = activeEvent.getAnalyticsCharts();\r\n      return [c.revenue, c.transactions, c.reservations];\r\n    })();\r\n\r\n    const timeSeriesQueries = (() => {\r\n      const f = (charts, i: number) => ({ timeSeriesQuery: charts[i].timeSeriesQuery, eId });\r\n        return [f(charts, 0), f(charts, 1), f(charts, 2)];\r\n    })();\r\n\r\n    const metricDataStatuses = [\r\n      useMetricData(timeSeriesQueries[0]),\r\n      useMetricData(timeSeriesQueries[1]),\r\n      useMetricData(timeSeriesQueries[2])\r\n    ];\r\n   \r\n    useMemo(() => {\r\n      [0, 1, 2].forEach(i => {\r\n        metricDataStatuses[i].refresh(timeSeriesQueries[i].timeSeriesQuery);\r\n      });\r\n    }, [activeEvent.id]);\r\n\r\n    return (\r\n        <Layout sidebar>\r\n            <Layout.Top >\r\n                {switches}\r\n                <Header />\r\n            </Layout.Top>\r\n            <Layout.Bottom>\r\n                <Grid placeItems=\"start stretch\" padding=\"1em\" height=\"100%\">\r\n                    <Grid cols={\"3\" } gridGap=\"0 1em\">\r\n                        {charts.map((chart: any, i) => <Chart\r\n                            isPercent={false}\r\n                            className='slide-up'\r\n                            inChartLegend\r\n                            metricDataStatus={metricDataStatuses[i].metricDataStatus}\r\n                            {...chart}\r\n                            download={downloads[i]}\r\n                            eId={eId}\r\n                            queries={{ timeSeriesQuery: charts[i].timeSeriesQuery }}\r\n                        />)}\r\n                    </Grid>\r\n                </Grid>\r\n            </Layout.Bottom>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Analytics;","import random from \"../../utils/random\";\r\nimport { ParkingLot, Zone } from \"../actions/clients\";\r\nimport { savePermits } from \"../actions/permits\";\r\n\r\nexport enum  PermitType {\r\n  Employee = 'Employee',\r\n  Handicap = 'Handicap',\r\n  Visitor = 'Visitor'\r\n}\r\n\r\n\r\nexport interface Permit {\r\n    key: string;\r\n    ePermit: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    liscensePlate: string;\r\n    starts: string;\r\n    ends: string;\r\n    phone: string;\r\n\r\n    type: PermitType;\r\n    zone: Zone;\r\n    parkingLot: ParkingLot;\r\n    employer: number;\r\n}\r\n\r\ninterface State {\r\n  permits: Permit[];\r\n  error: boolean;\r\n  loading: boolean;\r\n}\r\ninterface Actions {\r\n  type: ActionTypes;\r\n  payload: Partial<State> & {\r\n    permit: Permit;\r\n  };\r\n}\r\n\r\nconst intialState: State = {\r\n  permits: [],\r\n  error: false,\r\n  loading: false,\r\n};\r\n\r\nexport enum ActionTypes {\r\n  ADD_PERMIT = \"ADD_PERMIT\",\r\n  REMOVE_PERMIT = \"REMOVE_PERMIT\",\r\n  LOAD_PERMIT = \"LOAD_PERMIT\",\r\n  EDIT_PERMIT = \"EDIT_PERMIT\",\r\n  REQUEST_PERMIT = \"REQUEST_PERMIT\",\r\n  ERROR_PERMIT = \"ERROR_PERMIT\",\r\n  SUCCESS_PERMIT = \"SUCCESS_PERMIT\",\r\n}\r\n\r\nexport default function rootReducer(state = intialState, action: Actions): any {\r\n  let permits = [...state.permits] as any;\r\n\r\n  switch (action.type) {\r\n    case ActionTypes.LOAD_PERMIT:\r\n      return { ...state, permits: action.payload.permits?.filter((i: Permit) => i !== null && i !== undefined) };\r\n\r\n    case ActionTypes.REMOVE_PERMIT:\r\n      permits = state.permits.filter(\r\n        (v: Permit) => v.key !== action.payload.permit.key\r\n      );\r\n      savePermits(permits.filter((i: Permit) => i !== null && i !== undefined));\r\n      return {\r\n        ...state,\r\n        permits,\r\n      };\r\n\r\n    case ActionTypes.ADD_PERMIT:\r\n      const permit = { ...action.payload.permit, key: String(permits.length + 1),   ePermit: random(8)};\r\n      permits = [...state.permits, permit];\r\n      savePermits(permits.filter((i: Permit) => i !== null && i !== undefined));\r\n      return { ...state,permits };\r\n\r\n    case ActionTypes.EDIT_PERMIT:\r\n      const index: number = Number(action?.payload?.permit?.key) - 1;\r\n     permits[index] = action?.payload?.permit as Permit;\r\n     savePermits(permits.filter((i: Permit) => i !== null && i !== undefined));\r\n      return {\r\n        ...state,\r\n        permits,\r\n      };\r\n\r\n    case ActionTypes.ERROR_PERMIT:\r\n      return { ...state, error: true, loading: false };\r\n\r\n    case ActionTypes.REQUEST_PERMIT:\r\n      return { ...state, error: false, loading: true };\r\n\r\n    case ActionTypes.SUCCESS_PERMIT:\r\n      return { ...state, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { Grid, Text } from \"platyplex_ui\";\r\nimport Layout from \"../../layout\";\r\nimport { NavLink, useHistory } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Client } from \"../../store/reducer/clients\";\r\n\r\nexport const toRoute = (str: string) => str.toLowerCase().replace(/\\s+/g, \"-\");\r\nconst Home = () => {\r\n  const history = useHistory();\r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  return (\r\n    <Layout sidebar style={{ gridTemplateRows: \"1fr auto\" }}>\r\n      <Grid style={{ height: \"100%\" }} customRows='auto 1fr'>\r\n      <Text\r\n            className=\"pointer\"\r\n            textAlign=\"right\"\r\n            width='100%'\r\n            padding='.5em 2em'\r\n            color={\"red\"}\r\n            onClick={() => {\r\n              localStorage.clear();\r\n              history.go(0);\r\n            }}\r\n          >\r\n            <i className=\"fas fa-sync\" /> <span>&nbsp; Refresh</span>\r\n          </Text>\r\n        <Grid padding=\"0\" placeItems={\"stretch\"} gridGap=\"0\">\r\n\r\n          <NavLink to={\"/map\"}>\r\n            <span>Map</span>\r\n          </NavLink>\r\n          <br/>\r\n\r\n          <NavLink to={\"/citations\"}>\r\n            <span>Citation</span>\r\n          </NavLink>\r\n          <br/>\r\n          <NavLink to={\"/client\"}>\r\n            <span>Visitor to the Town</span>\r\n          </NavLink>\r\n          <br/>\r\n          <NavLink to={\"/e-permits\"}>\r\n            E-Permit (Parking Manager)\r\n          </NavLink>\r\n          <br/>\r\n          {clients.map((c: Client) => (\r\n            <NavLink key={c.id} to={`/e-permits/${c.id}`}>\r\n              E-Permit ({c.name})\r\n            </NavLink>\r\n          ))}\r\n\r\n      \r\n        </Grid>\r\n      </Grid>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n","export const random  = (length : number) =>{\r\n    let max : number = 123; //ascii for 'z'\r\n    let min : number = 97; //ascii for 'a'\r\n    let temp : string = '';\r\n  \r\n    for( let i : number = 0; i < length; i++){\r\n     let code: number =  Math.floor(Math.random() * (Math.floor(max) - Math.ceil(min))) + Math.floor(min);\r\n     temp += String.fromCharCode(code);\r\n   }\r\n    return temp.toUpperCase();\r\n  }\r\n  \r\n  export default random;","import React from \"react\";\r\nimport { gradient, primaryColor } from '../../config';\r\nimport { Grid, Modal, Card, Header, Button } from 'platyplex_ui';\r\n\r\nconst ErrorModal = ({\r\n    error, \r\n    buttonText = 'Close', \r\n    buttonAction = () => { }, \r\n    content\r\n}: {\r\n    error: any,\r\n    buttonText?: string,\r\n    buttonAction?: ()=> void,\r\n    content?: any\r\n}) => {\r\n    const message = error.message || error;\r\n    const m = Modal({\r\n        title: \"Error\",\r\n        modal: <Grid height='100vh'>\r\n            <Card shadow grid customRows='auto 1fr' style={{ borderRadius: '1em' }} gridGap={'.5em'}>\r\n                <i\r\n                    onClick={() => m.close()}\r\n                    style={{ color: primaryColor, placeSelf: 'start' }}\r\n                    className='fa fa-times hoverr bold txt-md'\r\n                >\r\n                </i>\r\n                <div style={{ maxWidth: '500px', minWidth: '280px' }}>\r\n                    {content ||\r\n                        <>\r\n                            <Header className='med' margin='.25em .25em 1em .25em'>{message}</Header>\r\n                        </>}\r\n                    <Button\r\n                        bg={gradient}\r\n                        noHover\r\n                        padding=\".5em\"\r\n                        rounded\r\n                        margin=\".8rem 0\"\r\n                        width=\"100%\"\r\n                        onClick={() => {\r\n                            buttonAction();\r\n                            m.close();\r\n                        }}\r\n                    >\r\n                        {buttonText}\r\n                    </Button>\r\n                </div>\r\n            </Card>\r\n        </Grid>,\r\n        hideCancel: true,\r\n    })\r\n    m.open()\r\n};\r\nexport default ErrorModal;","import { saveClients } from \"../actions/clients\";\r\n\r\nexport enum Zone {\r\n  R1 = 'R1',\r\n  R2 = 'R2',\r\n  R3 = 'R3',\r\n  R4 = 'R4'\r\n} \r\n\r\nexport enum ParkingLot {\r\n  Lot1 = 'Lot 1',\r\n  Lot2 = 'Lot 2',\r\n  Lot3 = 'Lot 3'\r\n} \r\n\r\nexport interface Client {\r\n  id: string;\r\n  name: string;\r\n  open: boolean;\r\n  parkingLot: ParkingLot[],\r\n  parkingSpace: number;\r\n  overbooking: boolean;\r\n  employee: number;\r\n  handicap: number;\r\n  zone: Zone[];\r\n  communication: boolean;\r\n  employeeFee : number,\r\n  handicapFee: number,\r\n  residenceFee: number;\r\n}\r\n\r\ninterface State {\r\n  clients: Client[];\r\n  error: boolean;\r\n  loading: boolean;\r\n}\r\ninterface Actions {\r\n  type: ActionTypes;\r\n  payload: Partial<State> & {\r\n    client: Client;\r\n  };\r\n}\r\n\r\nconst intialState: State = {\r\n  clients: [],\r\n  error: false,\r\n  loading: false,\r\n};\r\n\r\nexport enum ActionTypes {\r\n  ADD_CLIENT = \"ADD_CLIENT\",\r\n  REMOVE_CLIENT = \"REMOVE_CLIENT\",\r\n  LOAD_CLIENT = \"LOAD_CLIENT\",\r\n  EDIT_CLIENT = \"EDIT_CLIENT\",\r\n  REQUEST_CLIENT = \"REQUEST_CLIENT\",\r\n  ERROR_CLIENT = \"ERROR_CLIENT\",\r\n  SUCCESS_CLIENT = \"SUCCESS_CLIENT\",\r\n}\r\n\r\nexport default function rootReducer(state = intialState, action: Actions): any {\r\n  let clients = [...state.clients] as any;\r\n\r\n  switch (action.type) {\r\n    case ActionTypes.LOAD_CLIENT:\r\n      return { ...state, clients: action.payload.clients?.filter((i: Client) => i !== null && i !== undefined) };\r\n\r\n    case ActionTypes.REMOVE_CLIENT:\r\n      clients = state.clients.filter(\r\n        (v: Client) => v.id !== action.payload.client.id\r\n      );\r\n      saveClients(clients.filter((i: Client) => i !== null && i !== undefined));\r\n      return {\r\n        ...state,\r\n        clients,\r\n      };\r\n\r\n    case ActionTypes.ADD_CLIENT:\r\n      const client = { ...action.payload.client, id: String(clients.length + 1) };\r\n      clients = [...state.clients, client];\r\n      saveClients(clients.filter((i: Client) => i !== null && i !== undefined));\r\n      return { ...state, clients };\r\n\r\n    case ActionTypes.EDIT_CLIENT:\r\n      const index: number = Number(action?.payload?.client?.id) - 1;\r\n      clients[index] = action?.payload?.client as Client;\r\n      saveClients(clients.filter((i: Client) => i !== null && i !== undefined));\r\n      return {\r\n        ...state,\r\n        clients,\r\n      };\r\n\r\n    case ActionTypes.ERROR_CLIENT:\r\n      return { ...state, error: true, loading: false };\r\n\r\n    case ActionTypes.REQUEST_CLIENT:\r\n      return { ...state, error: false, loading: true };\r\n\r\n    case ActionTypes.SUCCESS_CLIENT:\r\n      return { ...state, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { ActionTypes, Client } from \"../reducer/clients\";\r\nimport ErrorModal from \"../../components/modal\";\r\nimport { Notification} from 'platyplex_ui';\r\n\r\nexport enum ParkingLot {\r\n  Lot1 = 'Lot 1',\r\n  Lot2 = 'Lot 2',\r\n  Lot3 = 'Lot 3'\r\n} \r\n\r\nexport enum Zone {\r\n  R1 = 'R1',\r\n  R2 = 'R2',\r\n  R3 = 'R3',\r\n  R4 = 'R4'\r\n} \r\n\r\nexport const defaultClients: Client[] = [\r\n  {\r\n    id: \"1\",\r\n    name: \"Apple Store\",\r\n    open: true,\r\n    parkingSpace: 65,\r\n    overbooking: true,\r\n    communication: true,\r\n    \r\n    parkingLot: [ParkingLot.Lot1],\r\n    zone: [Zone.R1],\r\n\r\n    employee: 60,\r\n    handicap: 5,\r\n\r\n    employeeFee : 45,\r\n    handicapFee: 45,\r\n    residenceFee: 45\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"Wells Fargo\",\r\n    open: false,\r\n    parkingSpace: 120,\r\n    overbooking: true,\r\n    communication: true,\r\n    \r\n    parkingLot: [ParkingLot.Lot1],\r\n    zone: [Zone.R1],\r\n\r\n    employee: 105,\r\n    handicap: 15,\r\n    \r\n    employeeFee : 45,\r\n    handicapFee: 45,\r\n    residenceFee: 45\r\n  },\r\n\r\n  {\r\n    id: \"3\",\r\n    name: \"Pizza My Heart\",\r\n    open: false,\r\n    parkingSpace: 100,\r\n    overbooking: true,\r\n    communication: true,\r\n  \r\n    parkingLot: [ParkingLot.Lot1],\r\n    zone: [Zone.R1],\r\n\r\n    employee: 90,\r\n    handicap: 10,\r\n    \r\n    employeeFee : 45,\r\n    handicapFee: 45,\r\n    residenceFee: 45\r\n  },\r\n];\r\n\r\nconst KEY = 'clients';\r\nconst hasClients = () => {\r\n  const clients = localStorage.getItem(KEY);\r\n  try{\r\n  return clients && typeof clients === 'string' && typeof JSON.parse(clients) === 'object';\r\n  } catch(e){\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const saveClients = (clients: Client[]) => {\r\n  localStorage.setItem(KEY, JSON.stringify(clients))\r\n}\r\n\r\nconst loadClients = (): Client[] => {\r\n  if (!hasClients()) {\r\n    saveClients(defaultClients);\r\n    return defaultClients;\r\n  }\r\n\r\n  return JSON.parse(localStorage.getItem(KEY) || '[]')\r\n}\r\n\r\nconst DELAY = 2000;\r\n\r\nconst delay = (f: any) => new Promise(resolve => setTimeout(resolve, f));\r\n\r\nconst delayedResponse = async (action: any) => {\r\n  await delay(DELAY)\r\n  return action()\r\n};\r\n\r\n\r\nexport const asyncActions = async (dispatch: any, action: () => any) => {\r\n  dispatch({\r\n    type: ActionTypes.REQUEST_CLIENT\r\n  })\r\n\r\n  await delayedResponse(() => {\r\n    action();\r\n    dispatch({\r\n      type: ActionTypes.SUCCESS_CLIENT\r\n    });\r\n\r\n  })\r\n\r\n};\r\n\r\nexport const getClients = (modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => dispatch({\r\n      type: ActionTypes.LOAD_CLIENT,\r\n      payload: { clients: loadClients() },\r\n    }))\r\n  };\r\n};\r\n\r\nexport const addClient = (client: Client, modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => dispatch({\r\n      type: ActionTypes.ADD_CLIENT,\r\n      payload: { client },\r\n    }));\r\n  };\r\n};\r\n\r\nexport const removeClient = (client: Client, modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => {\r\n      dispatch({\r\n      type: ActionTypes.REMOVE_CLIENT,\r\n      payload: { client },\r\n    })\r\n    Notification.success({ title: 'Success', message: \"Permit Successfully Deleted\"})\r\n  }\r\n    );\r\n  };\r\n};\r\n\r\nexport const editClient = (client: Client, modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => {\r\n      dispatch({\r\n      type: ActionTypes.EDIT_CLIENT,\r\n      payload: { client },\r\n    })\r\n   \r\n  });\r\n  };\r\n};","import { ActionTypes, Permit, PermitType } from \"../reducer/permit\";\r\nimport ErrorModal from \"../../components/modal\";\r\nimport { Notification } from 'platyplex_ui';\r\nimport { moment } from \"../../utils/time\";\r\nimport { ParkingLot, Zone } from \"./clients\";\r\n\r\nlet t1 = moment();\r\nlet t2 = moment().add('day', 1);\r\nconst remainder = 15 - (t1.minute() % 15);\r\nt1.add(remainder, \"minutes\"); \r\nt2.add(remainder, \"minutes\"); \r\nconst  starts = t2.format('ddd, MMM DD, YYYY @ hh:mm A');\r\nconst ends = t2.add('hours', 2).format('ddd, MMM DD, YYYY @ hh:mm A')\r\n\r\nexport const dataSource: Permit[] = [\r\n  {\r\n    key: \"1\",\r\n    ePermit: \"4GH68943\",\r\n    firstName: \"Hooman\",\r\n    lastName: \"Bolandi\",\r\n    email: \"hooman.bolandi@gmail.com\",\r\n    liscensePlate: \"32TTY678\",\r\n   starts: t1.format('ddd, MMM DD, YYYY @ hh:mm A'),\r\n   ends: t1.add('hours', 2).format('ddd, MMM DD, YYYY @ hh:mm A'),\r\n    phone: '318-236-3390',\r\n\r\n    zone: Zone.R1,\r\n    parkingLot: ParkingLot.Lot1,\r\n    type: PermitType.Employee,\r\n    employer: 0,\r\n  },\r\n  {\r\n    key: \"2\",\r\n    ePermit: \"2NE3605\",\r\n    firstName: \"Lisa\",\r\n    lastName: \"Vu\",\r\n    email: \"lisa@gmail.com\",\r\n    liscensePlate: \"12ABC567\",\r\n    starts,\r\n    ends,\r\n    phone: '344-137-700',\r\n\r\n    zone: Zone.R3,\r\n    parkingLot: ParkingLot.Lot2,\r\n    type: PermitType.Employee,\r\n    employer: 0,\r\n  },\r\n  {\r\n    key: \"3\",\r\n    ePermit: \"5EA7895\",\r\n    firstName: \"Emma\",\r\n    lastName: \"Doe\",\r\n    email: \"emma@yahoo.com\",\r\n    liscensePlate: \"13DEF543\",\r\n    starts,\r\n    ends,\r\n    phone: '412-671-1235',\r\n\r\n    zone: Zone.R2,\r\n    parkingLot: ParkingLot.Lot1,\r\n    type: PermitType.Employee,\r\n    employer: 0,\r\n  },\r\n  {\r\n    key: \"4\",\r\n    ePermit: \"7RT6774\",\r\n    firstName: \"Harry\",\r\n    lastName: \"Chiala\",\r\n    email: \"harry@hotmail.com\",\r\n    liscensePlate: \"14EAF332\",\r\n    starts,\r\n    ends,\r\n    phone: '412-671-1235',\r\n\r\n    zone: Zone.R3,\r\n    parkingLot: ParkingLot.Lot2,\r\n    type: PermitType.Employee,\r\n    employer: 0,\r\n  },\r\n  {\r\n    key: \"4\",\r\n    ePermit: \"2NE3605\",\r\n    firstName: \"John\",\r\n    lastName: \"Master\",\r\n    email: \"johnmc@gmail.com\",\r\n    liscensePlate: \"45FRT789\",\r\n    starts,\r\n    ends,\r\n    phone: '412-671-1235',\r\n    employer: 0,\r\n\r\n    zone: Zone.R1,\r\n    parkingLot: ParkingLot.Lot3,\r\n    type: PermitType.Employee,\r\n  },\r\n  {\r\n    key: \"5\",\r\n    ePermit: \"KGS6LL19\",\r\n    firstName: \"Nick\",\r\n    lastName: \"Roman\",\r\n    email: \"roman@gmail.com\",\r\n    liscensePlate: \"22EFS64\",\r\n    starts,\r\n   ends,\r\n    phone: '412-671-1235',\r\n\r\n    zone: Zone.R1,\r\n    parkingLot: ParkingLot.Lot1,\r\n    type: PermitType.Employee,\r\n    employer: 0,\r\n  },\r\n  {\r\n    key: \"6\",\r\n    ePermit: \"2NE3605\",\r\n    firstName: \"Lisa\",\r\n    lastName: \"Vu\",\r\n    email: \"lisa@gmail.com\",\r\n    liscensePlate: \"52VBQW8\",\r\n    starts,\r\n    ends,\r\n    phone: '412-671-1235',\r\n\r\n    zone: Zone.R1,\r\n    parkingLot: ParkingLot.Lot1,\r\n    type: PermitType.Employee,\r\n    employer: 0,\r\n  },\r\n\r\n  {\r\n    key: \"7\",\r\n    ePermit: \"16UY090R\",\r\n    firstName: \"Sammy\",\r\n    lastName: \"Owens\",\r\n    email: \"sammy@yahoo.com\",\r\n    liscensePlate: \"D2IO98\",\r\n    starts,\r\n    ends,\r\n    phone: '412-671-1235',\r\n\r\n    zone: Zone.R1,\r\n    parkingLot: ParkingLot.Lot1,\r\n    type: PermitType.Employee,\r\n    employer: 0,\r\n  },\r\n\r\n  {\r\n    key: \"7\",\r\n    ePermit: \"47UBUR28\",\r\n    firstName: \"Josua\",\r\n    lastName: \"John\",\r\n    email: \"john@yahoo.com\",\r\n    liscensePlate: \"C5L613\",\r\n    starts,\r\n    ends,\r\n    phone: '616-551-3270',\r\n\r\n    zone: Zone.R1,\r\n    parkingLot: ParkingLot.Lot1,\r\n    type: PermitType.Employee,\r\n    employer: 0,\r\n  },\r\n];\r\n\r\n\r\nconst KEY = 'permits';\r\nconst hasPermits = () => {\r\n  const permits = localStorage.getItem(KEY);\r\n  try{\r\n  return permits && typeof permits === 'string' && typeof JSON.parse(permits) === 'object';\r\n  } catch(e){\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const savePermits = (permits: Permit[]) => {\r\n  localStorage.setItem(KEY, JSON.stringify(permits))\r\n}\r\n\r\nconst loadPermits= (): Permit[] => {\r\n  if (!hasPermits()) {\r\n    savePermits(dataSource);\r\n    return dataSource;\r\n  }\r\n\r\n  return JSON.parse(localStorage.getItem(KEY) || '[]')\r\n}\r\n\r\nconst DELAY = 2000;\r\n\r\nconst delay = (f: any) => new Promise(resolve => setTimeout(resolve, f));\r\n\r\nconst delayedResponse = async (action: any) => {\r\n  await delay(DELAY)\r\n  return action()\r\n};\r\n\r\n\r\nexport const asyncActions = async (dispatch: any, action: () => any) => {\r\n  dispatch({\r\n    type: ActionTypes.REQUEST_PERMIT\r\n  })\r\n\r\n  await delayedResponse(() => {\r\n    action();\r\n\r\n    dispatch({\r\n      type: ActionTypes.SUCCESS_PERMIT\r\n    });\r\n\r\n  })\r\n\r\n};\r\n\r\n\r\nexport const getPermits = (modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => dispatch({\r\n      type: ActionTypes.LOAD_PERMIT,\r\n      payload: { permits : loadPermits() },\r\n    }))\r\n  };\r\n};\r\n\r\nexport const addPermit = (permit: Partial <Permit>, modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => dispatch({\r\n      type: ActionTypes.ADD_PERMIT,\r\n      payload: {permit },\r\n    }));\r\n  };\r\n};\r\n\r\nexport const removePermit = (permit: Permit, modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => {\r\n      Notification.success({ title: 'Success', message: \"Permit Successfully Deleted\"})\r\n      dispatch({\r\n      type: ActionTypes.REMOVE_PERMIT,\r\n      payload: { permit },\r\n    })});\r\n  };\r\n};\r\n\r\nexport const editPermit = (permit: Permit, modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => {\r\n      dispatch({\r\n      type: ActionTypes.EDIT_PERMIT,\r\n      payload: { permit },\r\n    })});\r\n  };\r\n};","import React, { useState } from \"react\";\r\nimport { Grid, Modal, Switch, Card, Button, Text } from \"platyplex_ui\";\r\nimport { gradient, primaryColor, primaryTxtColor } from \"../../../../config\";\r\nimport { Table, Input, Select, Progress, TimePicker, Popover, Popconfirm } from \"antd\";\r\nimport { Message } from \"../../../client/form\";\r\nimport { moment } from \"../../../../utils/time\";\r\nimport { Client } from \"../../../../store/reducer/clients\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Permit } from \"../../../../store/reducer/permit\";\r\nimport { removePermit } from \"../../../../store/actions/permits\";\r\nimport { useParams } from \"react-router\";\r\n\r\nenum HistoryState {\r\n  ACTIVE = \"ACTIVE\",\r\n  UPCOMING = \"UPCOMING\",\r\n  EXPIRED = \"EXPIRED\",\r\n  CANCELLED = \"CANCELED\",\r\n}\r\n\r\nconst History = ({ client }: { client?: Client }) => {\r\n  const admin = !client;\r\n  let { id } = useParams();\r\n  const [state, setter] = useState({\r\n    type: HistoryState.ACTIVE,\r\n    checked: false,\r\n  });\r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  const { permits, loading } = useSelector((state: any) => state.permits);\r\n  const setState = (props: any) => setter({ ...state, ...props });\r\n  const checked = () => setState({ checked: true });\r\n  const dispatch = useDispatch();\r\n  const openPermit = async (permit: any, checked: any) => {\r\n    const modal = Modal({\r\n      title: \"\",\r\n      modal: (\r\n        <Modall \r\n          permit={permit} \r\n          second_vaccine={7}\r\n          checked={checked} \r\n          close={() => modal.close()} \r\n        />\r\n      ),\r\n      hideCancel: true,\r\n    });\r\n    modal.open();\r\n  };\r\n\r\n\r\n  return (\r\n    <>\r\n      <Switch\r\n        style={{ padding: 0 }}\r\n        onClick={(type: any) => setState({ type })}\r\n        color={primaryTxtColor}\r\n        border={\"2px solid \" + primaryColor}\r\n        items={Object.keys(HistoryState)}\r\n        active={state.type}\r\n      />\r\n      <br />\r\n      {state.type === HistoryState.UPCOMING ? (\r\n        <Table\r\n          bordered\r\n          pagination={{ pageSize: 25 }}\r\n          dataSource={permits.filter((c: any) => c.key === \"1\" )}\r\n          columns={upcommingColumns(clients, id) as any}\r\n        />\r\n      ) : (\r\n        <Table\r\n          bordered\r\n          pagination={{ pageSize: 25 }}\r\n          loading={loading}\r\n          dataSource={permits}\r\n          columns={\r\n            columns((e: any) => openPermit(e, checked), clients, (p: Permit)=> dispatch(removePermit(p)), id)}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Modall = ({ close, checked, permit, second_vaccine }: any) => {\r\n  const [done, setDone] = useState(false);\r\n  const nextState = () => setDone(true);\r\n  second_vaccine = Number(second_vaccine) || 7;\r\n\r\n  return (\r\n    <Grid height=\"100%\" width=\"100%\">\r\n      <Card\r\n        shadow\r\n        grid\r\n        placeItems=\"stretch\"\r\n        style={{ minWidth: \"40vw\", maxWidth: \"95vw\" }}\r\n        customCols=\"auto 1fr\"\r\n        mobileLayout={false}\r\n      >\r\n        <i\r\n          onClick={close}\r\n          className=\"fa fa-times-circle txt-md pointer hoverr\"\r\n          style={{\r\n            gridRow: done ? \"span 1\" : \"span 7\",\r\n            padding: \".25em\",\r\n            placeSelf: \"start\",\r\n            color: primaryColor,\r\n          }}\r\n        />\r\n        {done ? (\r\n          <Message\r\n            generate\r\n            user={{\r\n              id: \"CBL61W21\",\r\n              endDate: moment(permit.starts).add(\"days\", second_vaccine).toISOString(),\r\n            }}\r\n            admin\r\n            style={{ gridGap: \"1em\" }}\r\n            confirm={() => {\r\n            //  checked();\r\n              close();\r\n            }}\r\n          />\r\n        ) : (\r\n          <>\r\n            <Text bold style={{ marginTop: \"1.5em\" }}>\r\n             E-Permit Extension\r\n            </Text>\r\n            <Text textAlign=\"left\">\r\n              E-Permit ID: <b>{permit.ePermit}</b>\r\n            </Text>\r\n            <Text textAlign=\"left\">\r\n              Next Date:{\" \"}\r\n              <b>\r\n                {moment(permit.starts)\r\n                  .add(\"days\", second_vaccine)\r\n                  .format(\"ddd, MMM, DD, YYYY\")}\r\n              </b>\r\n            </Text>\r\n            <Text textAlign=\"left\" color={primaryColor}>\r\n              Select Time\r\n            </Text>\r\n            <TimePicker format=\"hh:mm a\" minuteStep={15} />\r\n            <Button.Normal\r\n              style={{\r\n                borderRadius: \"1.3em\",\r\n                padding: \".5em\",\r\n                marginTop: \"1em\",\r\n                backgroundImage: `${gradient}`,\r\n                color: \"white\",\r\n                border: 0,\r\n                placeSelf: \"start\",\r\n                minWidth: \"15vw\",\r\n              }}\r\n              onClick={() => {\r\n                nextState();\r\n              }}\r\n              type=\"submit\"\r\n            >\r\n              Schedule\r\n            </Button.Normal>\r\n          </>\r\n        )}\r\n      </Card>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst columns = (openBooking: any, clients: Client[], removePermit: (p : Permit)=> void, id: any) => [\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Permit Type\r\n        <Select style={{ width: 65 }} defaultValue=\"All\">\r\n          <Select.Option value={\"Moderna\"}>Employee</Select.Option>\r\n          <Select.Option value={\"Pfizer\"}>Handicap</Select.Option>\r\n        </Select>\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"type\",\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n      Employer\r\n        <Select style={{ width: 65 }} defaultValue=\"All\">\r\n          <Select.Option value={\"Moderna\"}>Apple Store</Select.Option>\r\n        </Select>\r\n      </Grid>\r\n    ),\r\n    render: (c: Permit, a: any, i: number)=> {\r\n      if(id && Number(id) >= 0){\r\n        const index = Number(id) - 1;\r\n          return clients[index]?.name || 'Apple Store'\r\n      }\r\n      return clients[i % clients?.length]?.name || 'Apple Store'\r\n    }\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        E-Permit ID\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 50 }} />\r\n      </Grid>\r\n    ),\r\n    render: (p: Permit)=> p?.ePermit?.substring(0,5)\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        First Name\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 50 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"firstName\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Last Name\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 50 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"lastName\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Email\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 80 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"email\",\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Phone Number\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 80 }} />\r\n      </Grid>\r\n    ),\r\n    render: (i: any) => i.phone || \"623-143-9124\",\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Olive Parking Zone\r\n        <Select style={{ width: 60 }} defaultValue=\"All\" />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"zone\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        License Plate #\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 65 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"liscensePlate\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n       Start Date\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 100 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"starts\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        End Date\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 100 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"ends\",\r\n  },\r\n\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Parking Lot\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 50 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"parkingLot\",\r\n  },\r\n\r\n\r\n  {\r\n    title: \"Actions\",\r\n    render: (i: Permit) => (\r\n      <>\r\n        <Button rounded onClick={() => openBooking(i)} disabled={i.key !== \"1\"}>\r\n          Extend\r\n        </Button>\r\n        <Popconfirm\r\n          title='Are you sure you want to cancel the permit?'\r\n         onConfirm={() => removePermit(i)}\r\n        >\r\n        <Button rounded  bg='red'>\r\n          Cancel\r\n        </Button>\r\n        </Popconfirm>  \r\n      </>\r\n    ),\r\n  },\r\n];\r\n\r\nconst upcommingColumns = (clients: Client[], id: any) => [\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n       Permit Type\r\n        <Select style={{ width: 65 }} defaultValue=\"All\">\r\n          <Select.Option value={\"Moderna\"}>Employee</Select.Option>\r\n          <Select.Option value={\"Pfizer\"}>Handicap</Select.Option>\r\n        </Select>\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"type\",\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n      Employer\r\n        <Select style={{ width: 65 }} defaultValue=\"All\">\r\n          <Select.Option value={\"Moderna\"}>Apple Store</Select.Option>\r\n        </Select>\r\n      </Grid>\r\n    ),\r\n    render: (c: Permit)=> {\r\n      if(id && Number(id) >= 0){\r\n        const index = Number(id) - 1;\r\n        if(clients?.length > (index + 1)){\r\n          return clients[index].name\r\n        }\r\n        return 'Apple Store'\r\n      }\r\n      return 'Apple Store'\r\n    }\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        E-Permit ID\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 65 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"ePermit\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        First Name\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 65 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"firstName\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Last Name\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 65 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"lastName\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Email\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 80 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"email\",\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Phone Number\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 80 }} />\r\n      </Grid>\r\n    ),\r\n    render: (i: any) => i.phone || \"623-143-9124\",\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        License Plate #\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 65 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"liscensePlate\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Appointment Date\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 100 }} />\r\n      </Grid>\r\n    ),\r\n    render: (i: any) => \r\n    moment(i.starts).add('days', 7 ).format('ddd, MMM DD, YYYY @ hh:mm A'),\r\n  },\r\n];\r\n\r\nexport default History;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Grid, Text, Header, Button } from \"platyplex_ui\";\r\nimport { useFormik } from \"formik\";\r\nimport { Input, DatePicker, Select } from \"antd\";\r\nimport { gradient, primaryColor } from \"../../config\";\r\nimport { moment } from \"../../utils/time\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addPermit } from \"../../store/actions/permits\";\r\nimport api from '../../api';\r\nimport { ParkingLot, Zone } from \"../../store/actions/clients\";\r\nimport { PermitType } from \"../../store/reducer/permit\";\r\nimport { Client } from \"../../store/reducer/clients\";\r\nimport { useParams } from \"react-router\";\r\n\r\nconst defaultValue = {\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  liscensePlate: \"\",\r\n  email: \"\",\r\n  starts: moment().set(\"minute\", 0).format('ddd, MMM DD, YYYY @ hh:mm A'),\r\n  ends: moment().set(\"minute\", 0).add('hours', 2).format('ddd, MMM DD, YYYY @ hh:mm A'),\r\n  phone: \"\",\r\n  done: false,\r\n  id: \"2NE345678\",\r\n  employer: 0,\r\n  type: PermitType.Employee,\r\n  zone: Zone.R1,\r\n  parkingLot: ParkingLot.Lot1\r\n};\r\n\r\nconst Form = ({ admin }: any) => {\r\n  const [user, setUser] = useState<any>(defaultValue);\r\n  const submit = (values: any) => setUser(values);\r\n  const reset = () => setUser(defaultValue);\r\n  return user.done ? (\r\n    <Message reset={reset} user={user} admin={admin} />\r\n  ) : (\r\n    <FormComp submit={submit} admin={admin} />\r\n  );\r\n};\r\n\r\nexport const Message = ({\r\n  reset,\r\n  user,\r\n  admin,\r\n  style,\r\n  confirm,\r\n  generate,\r\n}: any) => {\r\n  return (\r\n    <Grid placeSelf=\"center\" gridGap=\"2em\" style={style}>\r\n      <i\r\n        className=\"fas fa-check-circle\"\r\n        style={{ color: primaryColor, fontSize: \"6em\" }}\r\n      />\r\n      <Header bold>E-permit reservation successful!</Header>\r\n      <Text>\r\n        Your E-permit Reservation ID: <b>{user?.id || \"2NE3605\"}</b>\r\n      </Text>\r\n      {!admin ? (\r\n        <>\r\n          <Text>\r\n            Your E-permit reservation starts at{\" \"}\r\n            <b>\r\n              {user?.starts\r\n                ? moment(user.starts).format(`ddd, MMM DD, YYYY @ hh:mm A`)\r\n                : \"Fri, Jan 29, 2021 @ 5:00 PM\"}\r\n              .\r\n            </b>\r\n          </Text>\r\n          <Text>Confirmation details have been sent to your email.</Text>\r\n        </>\r\n      ) : generate ? (\r\n        <Text>\r\n          This E-Permit Expires:{\" \"}\r\n          <b>\r\n            {user?.endDate\r\n              ? moment(user.endDate).format(`ddd, MMM DD, YYYY @ hh:mm A`)\r\n              : \"Fri, Dec 11, 2020 at 5:00 PM\"}\r\n            .\r\n          </b>\r\n        </Text>\r\n      ) : (\r\n        <Text>Confirmation details have been sent to email ({user.email}).</Text>\r\n      )}\r\n      <Button.Normal\r\n        style={{\r\n          borderRadius: \"1.3em\",\r\n          padding: \".5em\",\r\n          marginTop: \"1em\",\r\n          backgroundImage: `${gradient}`,\r\n          color: \"white\",\r\n          border: 0,\r\n          minWidth: \"15vw\",\r\n        }}\r\n        type=\"submit\"\r\n        onClick={confirm ? confirm : reset}\r\n      >\r\n        Great\r\n      </Button.Normal>\r\n    </Grid>\r\n  );\r\n};\r\ntype Values =\r\n  | \"firstName\"\r\n  | \"lastName\"\r\n  | \"liscensePlate\"\r\n  | \"email\"\r\n  | \"starts\"\r\n  | \"ends\"\r\n  | \"phone\";\r\n\r\nconst vehicleFields = [\r\n  {\r\n    id: \"firstName\",\r\n    label: \"First Name\",\r\n    placeholder: \"Ex: John\",\r\n  },\r\n  {\r\n    id: \"lastName\",\r\n    label: \"Last Name\",\r\n    placeholder: \"Ex: Doe\",\r\n  },\r\n\r\n  {\r\n    id: \"email\",\r\n    label: \"Email Address\",\r\n    placeholder: \"Ex: johndoe@gmail.com\",\r\n  },\r\n \r\n  {\r\n    id: \"phone\",\r\n    label: \"Your Phone number\",\r\n  },\r\n\r\n  {\r\n    id: \"starts\",\r\n    label: \"E-Permit Start Date & Time\",\r\n  },\r\n\r\n  {\r\n    id: \"ends\",\r\n    label: \"E-Permit End Date & Time\",\r\n  },\r\n  {\r\n    id: \"liscensePlate\",\r\n    label: \"Your Vehicle License Plate #\",\r\n    placeholder: \"Ex: 293DEF\",\r\n  },\r\n  \r\n] as any;\r\n\r\nconst FormComp = ({ submit, admin }: any) => {\r\n  const dispatch = useDispatch();\r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  let { id } = useParams();\r\n  const {\r\n    handleSubmit,\r\n    handleChange,\r\n    errors,\r\n    values,\r\n    setFieldValue,\r\n  } = useFormik({\r\n    initialValues: defaultValue,\r\n    async onSubmit(values) {\r\n      dispatch(addPermit(values));\r\n      api.sendEmail({\r\n        firstName: values.firstName,\r\n        lastName: values.lastName,\r\n        email:  values.email,\r\n        licensePlate: values.liscensePlate,\r\n        phone: values.phone,\r\n        vaccine: clients[0]?.vaccine,\r\n        date: moment(values.starts).toISOString(),\r\n        location: clients[0]?.name, \r\n        space:  1,\r\n      })\r\n      .catch((e)=>console.log(e))\r\n      submit({ ...values, done: true });\r\n    },\r\n  });\r\n\r\n  useEffect(()=>{\r\n    if(id){\r\n      const index = Number(id) - 1;\r\n      setFieldValue('employer', clients[index]?.name || 'Apple Store')\r\n    }\r\n  }, [])\r\n\r\n  const patients = clients[0]?.parkingSpace || 10;\r\n  const error = vehicleFields.reduce(\r\n    (acc: boolean, { id }: any) => acc || Boolean(errors[id as Values]) || !values[id as Values],\r\n    false\r\n  );\r\n  return (\r\n    <Grid placeSelf=\"center\" placeItems=\"start center\" gridGap=\"1.5em\">\r\n      <Grid placeItems=\"stretch\" placeSelf=\"stretch\">\r\n        {!admin ? (\r\n          <>\r\n            {\" \"}\r\n            <Header textAlign=\"left\" className=\"med\">\r\n              Hi there!\r\n            </Header>\r\n            <Text textAlign=\"left\">\r\n              Welcome to ParkStash E-permit reservation system.\r\n            </Text>\r\n            <Text textAlign=\"left\">\r\n              Please enter your information below to generate E-Permit\r\n              E-permit.\r\n            </Text>\r\n          </>\r\n        ) : (<>\r\n          <Text bold textAlign=\"right\" color={primaryColor}>({patients - 5}/{patients}) Reservations at {moment(values.starts).format('hh:mm a')}</Text>   \r\n          <Text textAlign=\"left\">\r\n            Please enter requester's information below to generate E-permit.\r\n          </Text>\r\n          </>\r\n        )}\r\n      </Grid>\r\n      <form onSubmit={handleSubmit}>\r\n        <Grid placeItems=\"stretch\" cols=\"2\" gridGap=\"2em 4em\">\r\n          {vehicleFields.map(\r\n            ({\r\n              id,\r\n              label,\r\n              placeholder,\r\n            }: {\r\n              id: Values;\r\n              label: string;\r\n              type: string | undefined;\r\n              placeholder: string;\r\n            }) => (\r\n              <div style={{ paddingTop: \".5em\" }} key={id}>\r\n                {id === \"liscensePlate\" && admin ? (\r\n                  <Text textAlign=\"left\" color={primaryColor} bold>\r\n                   Vehicle License Plate #\r\n                  </Text>\r\n                ) : (\r\n                  <Text textAlign=\"left\" color={primaryColor} bold>\r\n                    {label}\r\n                  </Text>\r\n                )}\r\n                {id === \"starts\" || id === \"ends\"? (\r\n                  <DatePicker\r\n                    format=\"ddd, MMM, DD, YYYY, hh:mm a\"\r\n                    showTime={{ format: \"hh:mm A\" }}\r\n                    minuteStep={15}\r\n                    style={{ minWidth: \"20vw\", background: \"transparent\" }}\r\n                    onChange={(e) => setFieldValue(id, e?.format('ddd, MMM DD, YYYY @ hh:mm A'))}\r\n                    defaultValue={moment(values[id])}\r\n                  />\r\n                ) : (\r\n                  <Input\r\n                    style={{ minWidth: \"20vw\", background: \"transparent\" }}\r\n                    name={id}\r\n                    value={values[id]}\r\n                    onChange={handleChange}\r\n                    placeholder={placeholder}\r\n                  />\r\n                )}\r\n              </div>\r\n            )\r\n          )}\r\n          \r\n          <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n             Permit Type\r\n            </Text>\r\n\r\n            <Select \r\n            style={{width: '100%'}}  \r\n            value={values.type}\r\n            onChange={(e) => setFieldValue(\"type\", e)}\r\n          >\r\n            {Object.keys(PermitType).map((v) => (\r\n              <Select.Option value={v}>{v}</Select.Option>\r\n            ))}\r\n          </Select>\r\n          </div>\r\n\r\n          <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              Name of Employer\r\n            </Text>\r\n\r\n            <Select \r\n            style={{width: '100%'}}  \r\n            value={values.employer}\r\n            disabled={id !== undefined}\r\n            onChange={(e) => setFieldValue(\"employer\", e)}\r\n          >\r\n            {clients.map((v: Client, i: number) => (\r\n              <Select.Option value={i}>{v.name}</Select.Option>\r\n            ))}\r\n          </Select>\r\n          </div>\r\n\r\n          <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              Olive Parking Zone\r\n            </Text>\r\n\r\n            <Select \r\n            style={{width: '100%'}}  \r\n            value={values.zone}\r\n            onChange={(e) => setFieldValue(\"zone\", e)}\r\n          >\r\n            {Object.keys(Zone).map((v) => (\r\n              <Select.Option value={v}>{v}</Select.Option>\r\n            ))}\r\n          </Select>\r\n          </div>\r\n\r\n\r\n          <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              Parking Lot\r\n            </Text>\r\n\r\n            <Select\r\n            style={{width: '100%'}}      \r\n            value={values.parkingLot}\r\n            onChange={(e) => setFieldValue(\"parkingLot\", e)}\r\n            >\r\n            {Object.keys(ParkingLot).map((v) => (\r\n              <Select.Option value={v}>{v}</Select.Option>\r\n            ))}\r\n            </Select>\r\n          </div>\r\n          <div style={{gridColumn: 'span 2', display: 'grid'}}>\r\n          <Button.Normal\r\n            style={{\r\n              borderRadius: \"1.3em\",\r\n              padding: \".5em\",\r\n              marginTop: \"1em\",\r\n              ...(!error\r\n                ? {\r\n                    backgroundImage: `${gradient}`,\r\n                    color: \"white\",\r\n                    border: 0,\r\n                  }\r\n                : {}),\r\n            }}\r\n            type=\"submit\"\r\n            disabled={error}\r\n            onSubmit={(e: any) => handleSubmit(e)}\r\n          >\r\n            Reserve E-Permit\r\n          </Button.Normal>\r\n          </div>\r\n        </Grid>\r\n      </form>\r\n    </Grid>\r\n  );\r\n};\r\nexport default Form;\r\n","import React from \"react\";\r\nimport Layout from \"../../layout\";\r\nimport { Grid, Header } from \"platyplex_ui\";\r\nimport img from \"../../assets/logo.png\";\r\nimport Form from \"./form\";\r\n\r\nconst Client = () => {\r\n  return (\r\n    <Layout style={{ gridTemplateRows: \"1fr auto\", background: 'white' }}>\r\n      <Grid\r\n        placeItems=\"stretch center\"\r\n        customRows=\"auto 1fr\"\r\n        height=\"100%\"\r\n        style={{ maxWidth: \"1300px\", margin: \"2em auto\" }}\r\n      >\r\n        {/* <Header>City of DC</Header> */}\r\n        <Form />\r\n      </Grid>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Client;\r\n","import React from \"react\";\r\nimport { Grid, Button, Card, Header, Notification, Text } from \"platyplex_ui\";\r\nimport { Tooltip } from \"antd\";\r\nimport { disabledTxtColor, primaryColor } from \"../../../../config\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Client } from \"../../../../store/reducer/clients\";\r\n\r\nconst Analytics = () => {\r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  return (\r\n    <>\r\n      {clients.map(\r\n        ({\r\n          name,\r\n          parkingSpace,\r\n          employeeFee,\r\n          handicapFee,\r\n          residenceFee,\r\n          employee,\r\n          handicap,\r\n        }: Client) => (\r\n          <Card>\r\n            <Header bold margin=\"0 0 1em 0\">\r\n              <Grid customCols=\"3em 1fr 3em\" placeItems=\"center stretch\">\r\n                <span />\r\n                {name}\r\n                <Tooltip title=\"Download the current data on excel\">\r\n                  <Button\r\n                    faIcon=\"fa fa-download\"\r\n                    style={{ float: \"right\", fontSize: \".7em\" }}\r\n                    rounded\r\n                    minWidth=\"4.5em\"\r\n                    onClick={() =>\r\n                      Notification.success({\r\n                        title: \"Success\",\r\n                        message: \"File Downloaded\",\r\n                      })\r\n                    }\r\n                  />\r\n                </Tooltip>\r\n              </Grid>\r\n            </Header>\r\n            <Text></Text>\r\n\r\n            <Grid placeItems=\"stretch\" cols=\"3\" margin=\"1.5em 0\">\r\n              <div style={{ borderRight: \"2px solid \" + disabledTxtColor }}>\r\n                <Text># of Parking Spaces</Text>\r\n                <Text size=\"2.25em\" color={primaryColor} bold>\r\n                  {parkingSpace}\r\n                </Text>\r\n              </div>\r\n\r\n              <div style={{ borderRight: \"2px solid \" + disabledTxtColor }}>\r\n                <Text>Total # of Employee Permits</Text>\r\n                <Text size=\"2.25em\" color={primaryColor} bold>\r\n                  {employee}\r\n                </Text>\r\n              </div>\r\n\r\n              <div>\r\n                <Text># of Handicap Permits</Text>\r\n                <Text size=\"2.25em\" color={primaryColor} bold>\r\n                  {handicap}\r\n                </Text>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Text>\r\n              Total Monthly Fee:{\" \"}\r\n              <span style={{ color: primaryColor }} className=\"bold\">\r\n                ${employeeFee * employee + handicap * handicapFee}\r\n              </span>\r\n            </Text>\r\n          </Card>\r\n        )\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Analytics;\r\n","import { Grid, Text } from \"platyplex_ui\";\r\nimport React, { useState } from \"react\";\r\n\r\ninterface CollapseProps {\r\n  children: React.ReactElement | React.ReactElement[] | string;\r\n  heading: React.ReactElement | string | any;\r\n  collapse?: boolean;\r\n  pad?: string | number;\r\n}\r\n\r\nconst Collapse = ({ children, heading, collapse: defaultState, pad }: CollapseProps) => {\r\n  const [collapse, setCollapse] = useState(\r\n    defaultState === false ? false : true\r\n  );\r\n  return (\r\n    <Grid placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\".5em\">\r\n      <Grid\r\n        placeItems=\"center stretch\"\r\n        customCols=\"1fr auto\"\r\n        onClick={() => setCollapse(!collapse)}\r\n        className=\"pointer noselect\"\r\n        gridGap=\".5em\"\r\n      >\r\n        <Text textAlign=\"left\">{heading}</Text>\r\n        <i className={collapse ? \"fas fa-plus\" : \"fas fa-minus\"} />\r\n      </Grid>\r\n      {!collapse && (\r\n        <Grid\r\n          placeItems=\"stretch\"\r\n          className=\"slide-up\"\r\n          gridGap=\".5em\"\r\n          style={{ paddingLeft: pad || 0 }}\r\n        >\r\n          {children}\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Collapse;\r\n","import React from \"react\";\r\nimport { disabledTxtColor2 } from \"../../config\";\r\n\r\nconst Bar = ({ style }: any) => {\r\n  return (\r\n    <div\r\n      style={{\r\n       width: '100%',\r\n       borderBottom: '2px solid '+ disabledTxtColor2,\r\n      }}\r\n    >\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bar;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Grid,\r\n  Button,\r\n  Card,\r\n  Text,\r\n  Notification,\r\n  List,\r\n  Placeholder,\r\n} from \"platyplex_ui\";\r\nimport Collapse from \"../../../../components/collapse\";\r\nimport {\r\n  InputNumber,\r\n  Switch as SwitchAtnd,\r\n  Select,\r\n  Popconfirm,\r\n  Input,\r\n  DatePicker,\r\n} from \"antd\";\r\nimport Bar from \"../../../../components/bar\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Client, ParkingLot, Zone } from \"../../../../store/reducer/clients\";\r\nimport {\r\n  addClient,\r\n  editClient,\r\n  removeClient,\r\n} from \"../../../../store/actions/clients\";\r\nimport { useFormik } from \"formik\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Rules = () => {\r\n  const { clients, loading } = useSelector((state: any) => state.clients);\r\n  const [add, setAdd] = useState(false);\r\n\r\n  const client: Client = {\r\n    id: \"\",\r\n    name: \"\",\r\n    open: false,\r\n    parkingSpace: 100,\r\n    overbooking: true,\r\n    communication: true,\r\n    employee: 10,\r\n    parkingLot: [],\r\n    handicap: 10,\r\n    zone: [],\r\n    employeeFee : 45,\r\n    handicapFee: 45,\r\n    residenceFee: 45\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid customCols=\"1fr auto\" placeItems=\"stretch\">\r\n        <Text bold textAlign=\"left\" style={{ marginLeft: \"1em\" }}>\r\n          Set/edit your Site E-permit rules below\r\n        </Text>\r\n        {!add && (\r\n          <Button rounded placeSelf=\"end\" onClick={() => setAdd(true)}>\r\n            Add\r\n          </Button>\r\n        )}\r\n      </Grid>\r\n\r\n      {add && (\r\n        <Card>\r\n          <ClientForm add client={client} cancelAdd={() => setAdd(false)} />\r\n        </Card>\r\n      )}\r\n      <Card grid placeItems=\"stretch\">\r\n        <List\r\n          list={clients}\r\n          loading={loading}\r\n          loader={\r\n            <>\r\n              <Placeholder />\r\n              <Placeholder />\r\n            </>\r\n          }\r\n          map={(client: Client, i: number) => (\r\n            <React.Fragment key={i}>\r\n              <Collapse\r\n                heading={\r\n                  <span>\r\n                    {client.name} &nbsp;\r\n                    <NavLink target=\"_blank\" to={`/`}>\r\n                      <i className=\"fa fa-link\" />\r\n                    </NavLink>\r\n                  </span>\r\n                }\r\n                collapse={!client.open || i === 0}\r\n                pad=\"1em\"\r\n              >\r\n                <ClientForm client={client} />\r\n              </Collapse>\r\n              <Bar />\r\n            </React.Fragment>\r\n          )}\r\n        />\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ClientForm = ({\r\n  client,\r\n  cancelAdd,\r\n  add,\r\n}: {\r\n  client: Client;\r\n  cancelAdd?: () => void;\r\n  add?: boolean;\r\n}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { handleSubmit, handleChange, values, setFieldValue } = useFormik({\r\n    initialValues: client,\r\n    async onSubmit(values) {\r\n      dispatch(add ? addClient(values) : editClient(values));\r\n      if (add && cancelAdd) {\r\n        cancelAdd();\r\n      }\r\n      Notification.success({\r\n        title: \"Success\",\r\n        message: \"Changes Saved\",\r\n      });\r\n    },\r\n  });\r\n\r\n  const error = !values.name;\r\n  return (\r\n    <form onChange={handleChange}>\r\n      <Grid customCols=\"auto auto auto\" placeSelf=\"stretch\" placeItems=\"start\">\r\n        <Grid customCols=\"auto auto\">\r\n          Employer Name\r\n          <Input name={\"name\"} onChange={handleChange} value={values.name} />\r\n        </Grid>\r\n\r\n        <div>\r\n          Zone &nbsp;\r\n          <Select\r\n           mode=\"multiple\"\r\n            value={values.zone}\r\n            style={{minWidth: 100}}\r\n            onChange={(e) => setFieldValue(\"zone\", e)}\r\n          >\r\n            {Object.keys(Zone).map((v) => (\r\n              <Select.Option value={v}>{v}</Select.Option>\r\n            ))}\r\n          </Select>\r\n        </div>\r\n\r\n        <div>\r\n          Parking Lot &nbsp;\r\n          <Select\r\n           mode=\"multiple\"\r\n            value={values.parkingLot}\r\n            style={{minWidth: 100}}\r\n            onChange={(e) => setFieldValue(\"parkingLot\", e)}\r\n          >\r\n            {Object.keys(ParkingLot).map((v) => (\r\n              <Select.Option value={v}>{v}</Select.Option>\r\n            ))}\r\n          </Select>\r\n        </div>\r\n\r\n        \r\n        <div>\r\n          # of Parking Spaces &nbsp;{\" \"}\r\n          <InputNumber\r\n            value={values.parkingSpace}\r\n            onChange={(e) => setFieldValue(\"parkingSpace\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          # of Employee Spaces &nbsp;{\" \"}\r\n          <InputNumber\r\n            value={values.employee}\r\n            onChange={(e) => setFieldValue(\"employee\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          # of Handicap Spaces &nbsp;{\" \"}\r\n          <InputNumber\r\n            value={values.handicap}\r\n            onChange={(e) => setFieldValue(\"handicap\", e)}\r\n          />\r\n        </div>\r\n\r\n       \r\n\r\n\r\n        <div>\r\n          Overstaying Allowed &nbsp;{\" \"}\r\n          <SwitchAtnd\r\n            checked={values.overbooking}\r\n            onChange={(e: boolean) => setFieldValue(\"overbooking\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          Navigation Allowed &nbsp; <SwitchAtnd defaultChecked />\r\n        </div>\r\n\r\n        <div>\r\n          Communication with employee allowed &nbsp;{\" \"}\r\n          <SwitchAtnd\r\n            checked={values.communication}\r\n            onChange={(e: boolean) => setFieldValue(\"communication\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          Employee Permit Monthly Fee &nbsp;\r\n          $<InputNumber\r\n            value={values.employeeFee}\r\n            onChange={(e) => setFieldValue(\"employeeFee\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          Handicap Permit Monthly Fee &nbsp;\r\n          $<InputNumber\r\n            value={values.handicapFee}\r\n            onChange={(e) => setFieldValue(\"handicapFee\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n        Visitor Permit Monthly Fee &nbsp;\r\n          $<InputNumber\r\n            value={values.residenceFee}\r\n            onChange={(e) => setFieldValue(\"residenceFee\", e)}\r\n          />\r\n        </div>\r\n\r\n        <Grid customCols=\"auto auto\">\r\n          {cancelAdd ? (\r\n            <Button rounded bg=\"red\" onClick={cancelAdd}>\r\n              Cancel\r\n            </Button>\r\n          ) : (\r\n            <Popconfirm\r\n              title={`Are you sure you want to delete ${client.name}?`}\r\n              onConfirm={() => dispatch(removeClient(client))}\r\n            >\r\n              <Button rounded bg=\"red\">\r\n                Remove\r\n              </Button>\r\n            </Popconfirm>\r\n          )}\r\n          <Button disabled={error} rounded onClick={handleSubmit}>\r\n            Save\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Rules;\r\n","import React, { useState } from \"react\";\r\nimport Layout from \"../../../layout\";\r\nimport { Grid, Switch, Card, Text } from \"platyplex_ui\";\r\nimport { primaryColor, primaryTxtColor } from \"../../../config\";\r\nimport Analytics from \"./analytics\";\r\nimport Rules from \"./rules\";\r\nimport History from \"./history\";\r\nimport img from '../../../assets/CalPolyLogo.png';\r\nimport user from \"../../../assets/user.svg\";\r\nimport { Client } from \"../../../store/reducer/clients\";\r\nimport Form from \"../../client/form\";\r\n\r\ninterface Body {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  liscensePlate: string;\r\n  phone: string;\r\n  vaccine: string;\r\n  date: string;\r\n  location: string;\r\n  space: number;\r\n}\r\n\r\nenum User {\r\n  GENERATE = \"GENERATE\",\r\n  HISTORY = \"HISTORY\",\r\n}\r\n\r\nenum Admin {\r\n  GENERATE = \"GENERATE\",\r\n  HISTORY = \"HISTORY\",\r\n  ANALYTICS = \"ANALYTICS\",\r\n  RULES = \"RULES\",\r\n}\r\n\r\nconst Permits = ({ client }: { client?: Client }) => {\r\n  const [state, setter] = useState<any>({\r\n    as: User.GENERATE,\r\n  });\r\n  const admin = !client;\r\n  const setState = (props: any) => setter({ ...state, ...props });\r\n  return (\r\n    <Layout sidebar style={{ gridTemplateRows: \"1fr auto\" }} avatarImg={admin ? img : user}>\r\n      <Layout.Top noBackground>\r\n        <span />\r\n      </Layout.Top>\r\n      <Layout.Bottom>\r\n        <Grid placeItems=\"start stretch\" height=\"100%\">\r\n          <Card grid placeItems=\"end start\" width=\"100%\">\r\n            <Switch.underlined\r\n              style={{ padding: 0 }}\r\n              onClick={(as) => setState({ as })}\r\n              color={primaryTxtColor}\r\n              border={\"4px solid \" + primaryColor}\r\n              items={Object.keys(admin ? Admin : User)}\r\n              active={state.as}\r\n            />\r\n          </Card>\r\n\r\n          {state.as === User.HISTORY ? (\r\n            <History client={client} />\r\n          ) : state.as === User.GENERATE ? (\r\n            <Card grid>\r\n              <Form admin />\r\n            </Card>\r\n          ) : state.as === Admin.RULES ? (\r\n            <Rules />\r\n          ) : (\r\n                  <Analytics />\r\n                )}\r\n        </Grid>\r\n      </Layout.Bottom>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Permits;\r\n","import React, {  useEffect, useState } from 'react';\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport ErrorBoundary from 'antd/lib/alert/ErrorBoundary';\r\nimport { Loader } from 'platyplex_ui';\r\nimport { Home, Client, PermitsCalpoly, Map, Events } from './pages';\r\nimport logo from './assets/parkstash_logo.png'\r\nimport { useSelector } from 'react-redux';\r\nimport { Client as ClientType } from './store/reducer/clients';\r\n\r\nexport const toRoute = (str: string) => str.toLowerCase().replace(/\\s+/g, \"-\");\r\n\r\nfunction App() {\r\n  const [ state, setState ] = useState({loading: true});\r\n  const { clients } = useSelector((s: any) => s.clients);\r\n  useEffect(()=>{ \r\n      setTimeout(()=>setState({...state, loading: false}), 2000)\r\n}, []);\r\n\r\n  return (\r\n   !state.loading? <ErrorBoundary>\r\n        <Switch> \r\n          {clients.map((c: ClientType) => (\r\n          <Route exact path={`/e-permits/:id`} render={() => <PermitsCalpoly client={c}/>} />))}\r\n          <Route exact path=\"/citations\" render={() => <Events/>} />\r\n          <Route exact path=\"/e-permits\" render={() => <PermitsCalpoly/>} />\r\n          <Route exact path=\"/client\" render={() => <Client/>} />\r\n          <Route exact path=\"/map\" render={() => <Map/>} />\r\n          <Route path=\"/\" render={() => <Home/>} />\r\n        </Switch>\r\n    </ErrorBoundary>: <Loader.Custom logo={logo} />\r\n  );\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","  \r\nimport React, { createContext } from 'react';\r\n\r\nconst initialState = {\r\n  sidebar: false,\r\n  toggleSidebar: ()=>{},\r\n  collapsed: true,\r\n  toggleCollapsed : (b = false)=>{}\r\n}\r\nexport const NavContext = createContext(initialState);\r\n\r\nexport class NavProvider extends React.Component {\r\n\r\n  toggleSidebar = ()=> {this.setState({ sidebar : !this.state.sidebar})};\r\n  \r\n  toggleCollapsed = (collapsed = false)=> this.setState({ collapsed });\r\n  state = {\r\n    ...initialState,\r\n    toggleSidebar : this.toggleSidebar,\r\n    toggleCollapsed: this.toggleCollapsed\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <NavContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </NavContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const NavConsumer = NavContext.Consumer;","import { combineReducers } from 'redux'\r\nimport clients from './clients'\r\nimport permits from './permit'\r\nimport search from './search';\r\n\r\nexport default combineReducers({\r\n clients,\r\n permits,\r\n search\r\n})","import { createStore, applyMiddleware } from 'redux';\r\nimport  rootReducer  from './reducer';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { getClients } from './actions/clients';\r\nimport { getPermits } from './actions/permits';\r\n\r\nconst logger = (store : any) =>( next : any) => (action : any) => {\r\n   console.group(action.type)\r\n   console.info('dispatching', action)\r\n   let result = next(action)\r\n   console.log('next state', store.getState())\r\n   console.groupEnd()\r\n   return result\r\n }\r\n\r\n \r\nconst ReduxThunk = require('redux-thunk').default\r\nconst store = createStore(rootReducer, composeWithDevTools(\r\n   \r\napplyMiddleware(ReduxThunk, logger)));\r\n\r\nstore.dispatch(getClients() as any);\r\nstore.dispatch(getPermits() as any);\r\nexport default store;","\r\nimport React from 'react';\r\nimport { NavProvider } from './context/nav-context';\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport { disabledTxtColor,  primaryColor, primaryTxtColor } from './config';\r\nimport 'platyplex_ui/styles/main.css';\r\nimport 'antd/dist/antd.css';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n\r\n  html,body{\r\n    font-size: 16px;\r\n    font-family: 'Roboto', sans-serif;\r\n  }\r\n   .highlight:hover{\r\n    transition: 500ms ease-out;\r\n    box-shadow: 0 0.25em 0.3em ${primaryColor};\r\n   }\r\n\r\n  .ant-btn-primary, .ant-btn{\r\n    border-radius: .3em;\r\n    box-shadow: 0 .1em .1em rgba(0,0,0,.2);\r\n  }\r\n  ant-radio-input{\r\n    border: 1px solid grey;\r\n  }\r\n  .ant-btn-primary, .ant-radio-checked .ant-radio-inner,  .ant-radio-inner:hover {\r\n    border-color: ${primaryColor} !important;\r\n  }\r\n\r\n  .ant-btn-primary, .ant-radio-inner::after{\r\n    background-color: ${primaryColor} !important;\r\n  }\r\n\r\n  .ant-pagination-item, .ant-pagination-item-active a, .ant-select-selector:hover{\r\n    border-radius: .3em;\r\n    color: black !important;\r\n    border-color: ${primaryColor} !important;\r\n  }\r\n\r\n  .ant-select-selector{\r\n    border-radius: .4em !important;\r\n  }\r\n\r\n  .ant-picker {\r\n    border-color: #d9d9d9;\r\n  }\r\n\r\n  .ant-select-show-search.ant-select-multiple .ant-select-selector{\r\n    height: 40px;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  input:focus, textarea:focus, .ant-picker-focused, input:hover, textarea:hover, .ant-picker:hover, .ant-input-number-input{\r\n    border-color: transparent !important;\r\n  }\r\n\r\n   .ant-input-affix-wrapper, .ant-input:placeholder-shown, .ant-input, .ant-select-selector, .ant-input-number-input {\r\n    border: 0 !important;\r\n    border-radius: 0;\r\n    border-bottom: 1px solid ${disabledTxtColor}!important;\r\n  }\r\n\r\n  input:focus, input:hover, .ant-input-affix-wrapper:hover, .ant-input-affix-wrapper-focused, .ant-input:placeholder-shown:focus, .ant-input:focus, .ant-input:hover, .ant-input:placeholder-shown:hover {\r\n    border-color: ${primaryColor} !important;\r\n  }\r\n\r\n  .ant-input-affix-wrapper > .ant-input, .ant-picker{\r\n    border: 0 !important;\r\n  }\r\n  \r\n  .ant-btn-primary:hover, .ant-btn-primary:focus, .ant-btn-primary:active, .ant-btn:hover, .ant-btn:focus, .ant-btn:active {\r\n    color: ${primaryColor} !important;\r\n    border-color: ${primaryColor};\r\n    background: white;\r\n    transition: 200ms ease;\r\n    box-shadow: 0 0 0;\r\n  }\r\n  \r\n  .ant-table-cell{\r\n    max-width: 300px;\r\n    font-size: 15px;\r\n  }\r\n  \r\n  .custom > button {\r\n   border-radius: 1em !important;\r\n  }\r\n  \r\n  .custom > button > div, .custom > button > span {\r\n    padding: 5px 5px 5px 10px !important;\r\n   }\r\n   \r\n   input, input:focus, input:hover {\r\n    outline:none !important;\r\n  }\r\n\r\n  [type=\"tel\"]{\r\n    border: 1px solid ${primaryColor} !important;\r\n  }\r\n  .med{\r\n    font-weight: 500;\r\n  }\r\n  .react-tel-input{\r\n    width: auto;\r\n  }\r\n  .focus-show{\r\n    display: none;\r\n  } \r\n  .focus:focus + .focus-show, [type=\"password\"]:focus + .focus-show{\r\n    display: block !important;\r\n  } \r\n\r\n  .ant-drawer-content-wrapper{\r\n    max-width: 90vw !important;\r\n  }\r\n  .ant-menu-inline, .ant-menu-vertical, .ant-menu-vertical-left {\r\n    border: 0 !important;\r\n  }\r\n  .ant-switch-checked{\r\n    background: ${primaryColor}!important;\r\n  }\r\n\r\n  .ant-popover-placement-bottom{\r\n    z-index: 1;\r\n  }\r\n  .ant-picker-calendar-header .ant-picker-calendar-mode-switch{\r\n    display: none;\r\n  }\r\n\r\n  .ant-picker-calendar-mini .ant-picker-calendar-header {\r\n      display: grid;\r\n      grid-template-columns: 1fr 1fr;\r\n  }\r\n  .white-txt{\r\n    color: white;\r\n  }\r\n  .disable{\r\n    background: ${disabledTxtColor};\r\n  }\r\n  .hide{\r\n    display: none !important;\r\n  }\r\n\r\n  .pop{\r\n    transform: translateY(-10px);\r\n    transition: 200ms ease;\r\n  }\r\n\r\n  .slide-left {\r\n    animation: slide-left 300ms linear;\r\n  }\r\n  \r\n  \r\n  @keyframes slide-left {\r\n    0% {\r\n      transform: translate(-200px, 0%);\r\n      opacity: (0);\r\n    }\r\n    100% {\r\n      transform: translate(0, 0);\r\n      opacity: (1);\r\n    }\r\n  }\r\n\r\n.StripeElement--webkit-autofill {\r\n  background: transparent !important;\r\n}\r\n\r\n.StripeElement {\r\n  width: 100%;\r\n  padding: 11px 15px 11px 0;\r\n}\r\n\r\n.ant-picker, .ant-picker-focused, .ant-picker:hover {\r\n    border-bottom: 1px solid ${primaryTxtColor} !important;\r\n}\r\n.dates > .ant-picker, .dates > .ant-picker-focused, .dates > .ant-picker:hover{\r\n  border: 0 !important;\r\n}\r\n   `;\r\n\r\nconst Main = ({ children }: any) => (\r\n  <NavProvider>\r\n  <Provider store={store}>\r\n        <GlobalStyle />\r\n        {children}\r\n      </Provider>\r\n  </NavProvider>\r\n);\r\n\r\nexport default Main;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport * as Sentry from '@sentry/browser';\r\nimport  { BrowserRouter as Router }  from 'react-router-dom';\r\nimport Providers from './providers';\r\nimport { config } from 'platyplex_ui';\r\nimport * as defaultConfig from './config'\r\n\r\nconfig.setProps(defaultConfig);\r\nSentry.init({dsn: \"https://66ec245dbeed4c95a166a788bcf4f7ae@o410541.ingest.sentry.io/5284571\"});\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Providers>\r\n      <Router>\r\n    <App />\r\n    </Router>\r\n    </Providers>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();"],"sourceRoot":""}