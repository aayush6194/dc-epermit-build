(this.webpackJsonpparkstash=this.webpackJsonpparkstash||[]).push([[0],{106:function(e,t,n){},154:function(e){e.exports=JSON.parse('{"USER":"USER"}')},173:function(e,t,n){e.exports=n.p+"static/media/enterprise.cf434ec2.svg"},198:function(e,t,n){e.exports=n.p+"static/media/car.c8dd5726.svg"},306:function(e,t,n){e.exports=n.p+"static/media/loader.5a306b20.svg"},307:function(e,t,n){e.exports=n.p+"static/media/parkstash_logo.ab0d6bfb.png"},308:function(e,t,n){e.exports=n.p+"static/media/message3.10cb2302.svg"},309:function(e,t,n){e.exports=n.p+"static/media/empty.3e935ffe.svg"},331:function(e,t,n){e.exports=n.p+"static/media/linechart.c1ffad7a.jpg"},332:function(e,t,n){e.exports=n.p+"static/media/multiLineChart.7c271e46.jpg"},343:function(e,t,n){e.exports=n.p+"static/media/announ.7c05f84e.svg"},344:function(e,t,n){e.exports=n.p+"static/media/citations.24f82209.svg"},345:function(e,t,n){e.exports=n.p+"static/media/events.0b4f517d.svg"},346:function(e,t,n){e.exports=n.p+"static/media/profilee.c9733686.svg"},347:function(e,t,n){e.exports=n.p+"static/media/login.9ab46960.svg"},350:function(e,t,n){e.exports=n.p+"static/media/otp.65b29cd8.svg"},366:function(e,t,n){e.exports=n(614)},614:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(18),o=n.n(c),i=n(3),l=n(8),u=n(11),s=n(12),d="rgba(247, 249, 249, 0.65)",m=function(e){var t=e.cols,n=e.customCols,a=e.customRows,r=e.gridGap,c=e.mobileCols,o=e.mobileLayout,i=e.placeItems,l=e.hideOnMobile;return"\n    display: grid;\n    grid-gap: ".concat(r||"1em"," ;\n    grid-template-columns: repeat(").concat(t||"1",", 1fr);\n    ").concat(n?"grid-template-columns: ".concat(n,";"):"","\n    ").concat(a?"grid-template-rows: ".concat(a,";"):"","\n    place-items: center;\n    ").concat(i?"place-items: ".concat(i,";"):"","\n    @media(max-width: ").concat("860px","){\n        ").concat(l?"display: none; !important":"","\n        ").concat(!1!==o?"grid-template-columns: 1fr;":"","\n        ").concat(c?"grid-template-columns: ".concat(c,";"):"","  \n    }\n")},p=function(e,t){var n=e.color,a=e.size,r=e.bold,c=e.textAlign,o=e.placeSelf,i=e.textShadow;return"\n    text-align: ".concat(c||"center",";\n    ","color : ".concat(t?"white":n||"#33B482"),";\n    font-size: ").concat(a||"1em",";\n    ").concat(i?"text-shadow: 1.2px 1.2px 2px black;":"","\n    font-weight: ").concat(r?"bolder":"normal",";\n    ").concat(o?"place-self: ".concat(o,";"):"")},f=function(e){var t=e.width,n=e.height,a=e.max,r=e.padding,c=e.margin,o=e.minWidth;return"\n    width: ".concat(t||"auto",";\n    min-width : ").concat(o||"auto",";\n    height: ").concat(n||"auto",";\n    margin: ").concat(c||"0"," ;\n    padding: ").concat(r||"0",";\n    ").concat(a?"":"max-width: 1500px;","\n")},g=function(e){var t=e.shadow,n=e.rounded,a=(e.bg,e.background),r=e.hideOnMobile,c=e.cursor;return"\n    ".concat(t?"box-shadow: 0 .25em .5em rgba(0,0,0,.5);":"","\n    pointer : ").concat(c?"cursor":"default",";\n    transition: 200ms ease-out;\n    border-radius: ").concat(n?"1.2em":".25em",";\n    border: 0px;\n    ").concat(a?"background: ".concat(a,";"):"","\n    background-repeat: no-repeat;\n    @media(max-width: ").concat("860px","){\n        ").concat(r?"display: none;":"","\n    }\n")},v=function(e){var t=e.style,n=e.className,a=e.onClick,r=e.ref;return Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},t?{style:t}:{}),n?{className:n}:{}),a?{onClick:a}:{}),r||{})};function h(){var e=Object(u.a)(["\n  ","\n  ","\n"]);return h=function(){return e},e}var b=s.b.div(h(),(function(e){return"\n    ".concat(e.grid?m(e):"","\n    ").concat(p(e,!1),"\n    ").concat(g(e))}),(function(e){var t=e.hover,n=e.bgColor,a=e.invert,r=e.minWidth,c=e.padding,o=e.margin,i=e.width;return"\n  background: ".concat(a?"#33B482":n||"white",";\n    ").concat(f({margin:o,padding:c,minWidth:r,width:i}),"\n    ").concat(t&&"&:hover { \n        transform: scale(1.1); \n    }\n    ")})),E=function(e){var t=e,n=t.border,a=t.children,c=t.shadow,o=void 0!==c&&c,l=t.invert,u=void 0!==l&&l,s=t.selected,d=e,m=d.margin,p=void 0===m?"1em .5em":m,f=d.padding,g=void 0===f?".8em 1em":f,h=d.minWidth,E=void 0===h?"3em":h,y=d.width;e=Object(i.a)(Object(i.a)({},e),{margin:p,width:y,padding:g,minWidth:E});var O=v(e),w={boxShadow:s?"0 .25em .5em dodgerblue":!1===o?"":"0 .25em .5em rgba(0,0,0,.5)",color:u?"white":"#33B482",border:n?"".concat(n," solid"):""};return r.a.createElement(b,Object.assign({},e,{style:w},O),a)};function y(){var e=Object(u.a)(["\n","\n",""]);return y=function(){return e},e}var O=s.b.h1(y(),(function(e){return f(e.styleProps)}),(function(e){return p(e.fontProps,!1)})),w=function(e){var t=e.children,n=e.style,a=e.className,c=e.onClick,o={width:e.width,height:e.height,max:e.max,padding:e.padding,margin:e.margin,minWidth:e.minWidth},i=e.size,l={size:"number"===typeof i?(6-i)/2+"rem":i||"1.5em",color:e.color,bold:e.bold,textAlign:e.textAlign,placeSelf:e.placeSelf,textShadow:e.textShadow};return r.a.createElement(O,{styleProps:o,fontProps:l,onClick:c,className:a,style:n}," ",t," ")},x=n(42),j=(n(106),n(306)),S=n.n(j),H=n(307),C=n.n(H);function k(){var e=Object(u.a)(["\n  animation: "," 800ms ease-out infinite;\n"]);return k=function(){return e},e}function N(){var e=Object(u.a)(["\n0% { \n  transform: scale(0.9);\n  filter: drop-shadow(3px 4px 6px teal); \n}\n100% {\n  transform: scale(1);\n  filter: drop-shadow(0px 0px 0px white); \n}"]);return N=function(){return e},e}function A(){var e=Object(u.a)(["\n  position: absolute;\n  left: calc(50% - 70px);\n  top: calc(50% - 70px);\n  display: inline-block;\n"]);return A=function(){return e},e}var T=s.b.div(A()),I=function(){return r.a.createElement(T,{className:"blue-txt"},r.a.createElement("img",{width:"70",src:S.a,alt:"A Loader"}))},R=Object(s.c)(N()),M=s.b.img(k(),R);I.Parkstash=function(){return r.a.createElement(T,null,r.a.createElement(M,{width:"70",src:C.a,alt:"A Loader"}))},I.Spinner=function(e){var t=e.size,n=void 0===t?2:t,a=e.color,c=void 0===a?"inherit":a,o=(6-n<0?1:6-n)/2+"em";return r.a.createElement("i",{className:"fa fa-spinner spin",style:{fontSize:o,color:c}})};var D=I,L=n(9),P=n.n(L),U=n(17);function _(){var e=Object(u.a)(["\n  ","\n"]);return _=function(){return e},e}function G(){var e=Object(u.a)(["\n  ","\n"]);return G=function(){return e},e}var F=s.b.div(G(),(function(e){return"\n    ".concat(m(e),"\n    ").concat(f(e),"\n    ").concat(p(e,!1),"\n    ").concat(e.background&&"background: ".concat(e.background,";"))})),W=function(e){var t=e.children,n=v(e);return r.a.createElement(F,Object.assign({},e,n),t)},z=s.b.div(_(),(function(e){return"\n     ".concat(f(e),"\n     ").concat(m(e),"   \n     ").concat(e.gridRowStart&&"grid-row-start: ".concat(e.gridRowStart,";"),"\n     ").concat(e.gridColumnStart&&"grid-column-start: ".concat(e.gridColumnStart,";"),"\n     ").concat(e.background&&"background: ".concat(e.background,";"),"\n     ").concat(p(e,!1),"\n     ").concat(g(e))}));W.Item=function(e){var t=v(e);return r.a.createElement(z,Object.assign({},e,t)," ",e.children," ")};var B=W;function Y(){var e=Object(u.a)(["\n  padding: 0.3rem;\n  color: white;\n  background: ",";\n  border: 0.15em solid ",";\n  border-radius: 0.25em;\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25), 0 3px 3px rgba(0, 0, 0, 0.22);\n  &:focus {\n    outline: 0;\n  }\n  ","\n"]);return Y=function(){return e},e}function V(){var e=Object(u.a)(["\n","\n","\n","\n",""]);return V=function(){return e},e}var Q=s.b.button(V(),(function(e){return g(e)}),(function(e){return f(e)}),(function(e){return p(e,!1)}),(function(e){var t=e.bg,n=e.invert,a=e.disabled,r=e.color;return"\nbackground:  ".concat(t||"#33B482",";\nborder: 2px solid ").concat(t||"#33B482",";\ncolor : ").concat(t?"white":r||"white",";\ncursor: pointer;\n").concat(a?"background: #F0F3F4; border-color: #F0F3F4; color: darkgray;":"\n  &:hover {\n    background: ".concat(n?t||"#33B482":r||"white",";\n    color: ").concat(t?n?"white":t:n?r||"white":"#33B482",";\n    box-shadow: 0 0 0 0;\n    transform: scale(0.99);\n    transition: 350ms ease-out;\n}"),"\n\n&:focus{\n    outline:0;\n}\n").concat(n&&"background: white; color: ".concat("#33B482",";"),"\n").concat(t&&n&&"background: white; color: ".concat("white"!==t?t:"#33B482",";"))})),q=function(e){var t=e,n=t.onSubmit,a=t.children,c=t.margin,o=void 0===c?"0.15em":c,l=t.padding,u=void 0===l?"0.3em 0.4em":l,s=t.minWidth,d=void 0===s?"6.5em":s,m=t.disabled,p=t.loading,f=void 0!==p&&p,g=e,h={color:g.color,size:g.size,bold:g.bold,textAlign:g.textAlign,placeSelf:g.placeSelf,textShadow:g.textShadow};return e=Object(i.a)(Object(i.a)({},e),{margin:o,padding:u,minWidth:d}),r.a.createElement(Q,Object.assign({type:e.type||"submit"},e,{fontProps:h,disabled:m,onSubmit:n},v(e)),f&&r.a.createElement(r.a.Fragment,null,r.a.createElement(D.Spinner,{size:4}),"\xa0"),a)};q.Normal=s.b.button(Y(),"#33B482","#33B482",(function(e){return e.disabled?"background: #F0F3F4; border-color: #F0F3F4; color: darkgray; box-shadow: 0 0 0 !important;":"&:hover {\n    background: white;\n    color: ".concat("#33B482",";\n    box-shadow: 0 0 0 0;\n    transform: scale(0.99);\n    transition: 350ms ease-out;\n}")}));var J=q;function X(){var e=Object(u.a)(["\n    border-radius: 50%;\n    object-fit: cover;\n    width: 10em;\n    padding: .2em;\n    height: 10em;\n"]);return X=function(){return e},e}var K=s.b.img(X()),Z=function(e){var t=e.url,n=e.src,a=e.large,c=e.style,o=e.medium;return c=Object(i.a)(Object(i.a)({},c),a?{borderWidth:"4px",width:"15em",maxHeight:"90vw",height:"15em"}:o?{}:{width:"3em",height:"3em"}),r.a.createElement(K,{src:t||n,style:c})};function $(){var e=Object(u.a)(["\n","\nbackground: linear-gradient(90deg, rgba(210,210,210,0.5) 0%, rgba(238,238,238,0.7) 100%);\nborder-radius: 10px;\nanimation: "," 0.8s infinite;"]);return $=function(){return e},e}function ee(){var e=Object(u.a)(["{\nfrom {width: 0% }\nto {width: 100%;}}"]);return ee=function(){return e},e}function te(){var e=Object(u.a)(["\nbox-sizing: border-box;\nmargin: 1em 0;\nwidth: 100%;\nheight: 9vw;\nmin-height: 8em;\nbackground-color: #F8F9F9;\nbox-shadow: 1px 4px 23px 3px rgba(0,0,0, 0.2);\nborder-radius: .25em;\npadding: 3vw 4vw;\ndisplay: flex;\nflex-direction: column;\njustify-content: space-between;"]);return te=function(){return e},e}var ne=s.b.div(te()),ae=Object(s.c)(ee()),re=s.b.div($(),(function(e){return"height: ".concat(e.height,"%;")}),ae),ce=function(e){var t=e.style,n=e.number,a=void 0===n?1:n,c=e.lines,o=void 0===c?3:c;return r.a.createElement(r.a.Fragment,null,Object(x.a)(new Array(a)).map((function(e,n){return r.a.createElement(ne,{style:t,key:n},Object(x.a)(new Array(o)).map((function(e,t){return r.a.createElement(re,{key:t,height:55/o})})))})))};function oe(){var e=Object(u.a)(["\n    0% { \n      transform: scale(0.9);\n      filter: drop-shadow(3px 4px 6px teal); \n    }\n    100% {\n      transform: scale(1);\n      filter: drop-shadow(0px 0px 0px white); \n    }"]);return oe=function(){return e},e}function ie(){var e=Object(u.a)(["\n    0% { \n      transform: translateX(-15rem);\n    }\n    100% {\n      transform: translateX(0);\n    }"]);return ie=function(){return e},e}function le(){var e=Object(u.a)(["\n    0% { \n      transform: translateX(15rem);\n    }\n    100% {\n      transform: translateX(0);\n    }"]);return le=function(){return e},e}function ue(){var e=Object(u.a)(["\n  0% {\n    opacity: 0;\n  }\n  100% {\n   opacity: 1;\n  }\n"]);return ue=function(){return e},e}Object(s.c)(ue());var se=Object(s.c)(le());Object(s.c)(ie()),Object(s.c)(oe());function de(){var e=Object(u.a)(["\ntransition: 200ms ease-out;\nanimation:  "," 200ms ease-out;\n","\n",""]);return de=function(){return e},e}var me=s.b.div(de(),se,f({width:"14rem",minHeight:"4rem",margin:".5em",padding:".6em"}),g({shadow:!0,background:"white"})),pe=function(e){var t=e.type,n=e.position,a=t+"-container-"+n||"top-right",r=null!==document.getElementById(a),c=document.getElementById(a)||document.createElement("div"),o=document.createElement("div"),i=document.getElementById("root");return r||(c.setAttribute("id",a),c.classList.add(n||"top-right"),null===i||void 0===i||i.appendChild(c)),c.prepend(o),{container:c,child:o}},fe=function(e,t){var n=t.title,a=t.message,c=t.position,i=t.visibilityTime,l=pe({type:"notification",position:c}),u=l.container,s=l.child,d=function(){try{u.removeChild(s)}catch(e){console.log(e)}},m=r.a.createElement(me,{id:"111"},r.a.createElement(B,{customCols:"auto 1fr",textAlign:"left"},r.a.createElement(ge,{type:e}),r.a.createElement("div",{style:{placeSelf:"stretch"},className:e},r.a.createElement("header",{style:{textOverflow:"ellipsis"}},n,r.a.createElement("i",{className:"fa fa-times right","aria-hidden":"true",onClick:d,style:{color:"darkgray",placeSelf:"start"}})),r.a.createElement("div",{style:{textOverflow:"ellipsis"}},a))));setTimeout((function(){return d()}),i||2500),o.a.render(m,s)},ge=function(e){var t;switch(e.type){case"warning":t="fa fa-exclamation-triangle warning";break;case"error":t="fa fa-exclamation-circle error";break;default:t="fa fa-check-circle success"}return r.a.createElement("i",{className:t,"aria-hidden":"true",style:{placeSelf:"start"}})},ve=function(e){return fe("success",e)},he=function(e){return fe("warning",e)},be=function(e){return fe("error",e)},Ee=n(308),ye=n.n(Ee);function Oe(){var e=Object(u.a)(["\n    color: white;\n    minHeight: 5em;\n    padding: .0em;\n    display: grid;\n    place-items: center;\n    grid-template-rows: 1fr auto;\n    font-weight: bolder;\n    background-image: linear-gradient(rgba(208, 211, 212 , 0.7), rgba(32, 100, 78 , 0.6)), url(",");\n    border-bottom-right-radius: .75em;\n    border-bottom-left-radius: .75em;\n"]);return Oe=function(){return e},e}function we(){var e=Object(u.a)(["\n    color: white;\n    background-image: linear-gradient( ",", rgba(50, 150, 178, 0.8));\n    border-top-right-radius: .75em;\n    border-top-left-radius: .75em;\n    border: 0;\n    margin: 0;\n    height: 2.5em;"]);return we=function(){return e},e}function xe(){var e=Object(u.a)(["\n    margin: 2% auto;\n    background: white;\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n    border-radius: 1em;\n    width: 80%;\n    display: grid;\n    place-items: stretch;\n    grid-template-rows: auto 1fr;\n    text-align: center;\n    font-size: 1.2em;\n    padding: 0;\n    min-height: 260px;\n    max-width: 900px;\n    color: black;\n    @media(max-width: ","){\n    position: absolute;\n    bottom: 90px;\n    width: 90vw;\n    left: 50%;\n    -webkit-transform: translateX(-50%);\n    transform: translateX(-50%)\n    }"]);return xe=function(){return e},e}function je(){var e=Object(u.a)(["\n    background: ",";"]);return je=function(){return e},e}function Se(){var e=Object(u.a)(["\n    position: fixed;\n    z-index: 20;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    transition: 200ms ease-out;\n    background-color: rgba(0,0,0,0.5);"]);return Se=function(){return e},e}var He=s.b.div(Se()),Ce=(s.b.button(je(),"#33B482"),s.b.div(xe(),"860px")),ke=s.b.div(we(),"#33B482"),Ne=s.b.div(Oe(),ye.a),Ae=function(e){var t=e.title,n=e.message,a=e.hideCancel,c=e.position,i=pe({type:"modal",position:void 0===c?"top-center":c}),l=i.container,u=i.child,s=function(){try{l.removeChild(u),o.a.unmountComponentAtNode(u)}catch(e){console.log(e)}},d=r.a.createElement(He,null,r.a.createElement(Ce,{className:"appear"},r.a.createElement(ke,{style:{placeSelf:"stretch"}},r.a.createElement(B,{customCols:"1fr auto",textAlign:"left"},r.a.createElement("header",{style:{textOverflow:"ellipsis",color:"white"}},t),r.a.createElement("i",{className:"fa fa-times","aria-hidden":"true",onClick:s,style:{color:"white",placeSelf:"center",padding:".5em"}}))),r.a.createElement(Ne,null,"string"===typeof n||r.a.isValidElement(n)?n:"Error",!a&&r.a.createElement("div",null,r.a.createElement(J,{shadow:!0,onClick:s},"Cancel")))));return{close:s,open:function(){l.contains(u)||l.appendChild(u),o.a.render(d,u)}}};function Te(){var e=Object(u.a)(["\n","\n",""]);return Te=function(){return e},e}var Ie=s.b.div(Te(),(function(e){return f(e)}),(function(e){return p(e,!1)})),Re=function(e){var t=e.children,n=e.style,a=e.className,c=e.onClick,o={width:e.width,height:e.height,max:e.max,padding:e.padding,margin:e.margin,minWidth:e.minWidth},i=e.size,l={size:"number"===typeof i?(6-i)/3+"rem":i||"1em",color:e.color,bold:e.bold,textAlign:e.textAlign||"left",placeSelf:e.placeSelf,textShadow:e.textShadow};return r.a.createElement(Ie,Object.assign({},e,{styleProps:o,fontProps:l,onClick:c,className:a,style:n}),t)},Me=function(e){var t=e.onClick,n=e.active,a=e.items,c=e.style;return r.a.createElement(B,{padding:".5em",style:c},r.a.createElement("div",{className:"shadow noselect",style:{background:"#CDF7E0",padding:".2em",borderRadius:"1.5em"}},a.map((function(e){return r.a.createElement(Pe,{key:e,style:{borderRadius:"1.5em"},active:n===e,onClick:function(){return t(e)}},e.charAt(0).toUpperCase()+e.substring(1).toLowerCase().replace(/_/g," "))}))))};function De(){var e=Object(u.a)(["\n  ","\n"]);return De=function(){return e},e}var Le=s.b.span(De(),(function(e){return"\n    cursor : pointer;\n    padding: .3em .5em;\n    font-size: 1.05em;\n    text-transform: capitalize;\n    transition: 400ms ease-out;\n    color: ".concat("#33B482",";\n    ").concat(e.fullWidth?"width: 100%;":"","\n    border-radius: ").concat(e.fullWidth?0:"1.5em","; \n    font-weight: bold;\n    ").concat(e.active&&"\n        border-radius: ".concat(e.fullWidth?0:".6em",";\n        box-shadow: 0 .13em .2em rgba(0,0,0,.5);\n        background: ").concat(e.inverted?"white":"#33B482","; color: ").concat(e.inverted?"#33B482":"white"))})),Pe=function(e){return r.a.createElement(Le,Object.assign({},v(e),e),e.children)};function Ue(){var e=Object(u.a)(["\n    border-radius: .5em;\n    background: ",";\n    font-size: .8em;\n    color: white;\n    margin: .2em;\n    text-transform: capitalize;\n    padding .3em .6em;\n    ",""]);return Ue=function(){return e},e}var _e,Ge=function(e){var t=e.disabled,n=void 0!==t&&t,a=e.inverted,c=void 0!==a&&a,o=e.children,i=e.bold,l=void 0!==i&&i,u=e.onClick,s=e.style,d=e.className;return r.a.createElement(Fe,{className:d+" noselect",style:s,bold:l,onClick:u,disabled:n,inverted:c},o)},Fe=s.b.span(Ue(),"#33B482",(function(e){return"\n    ".concat(e.bold?"font-weight: bolder;":"","\n    ").concat(e.inverted?"background: white !important;\n        color: ".concat("#33B482",";\n        border: .2em solid ").concat("#33B482",";\n         color: ").concat("#33B482",";"):e.disabled?"background: ".concat("gray","; \n        color: white;"):"","   \n    ")})),We=Ge,ze=n(309),Be=n.n(ze),Ye=function(e){var t=e.text,n=void 0===t?"No Data":t,a=e.style,c=void 0===a?{}:a,o=e.color,l=void 0===o?"inherit":o;return r.a.createElement("span",null,r.a.createElement(B,null,r.a.createElement("img",{src:Be.a,style:Object(i.a)({maxWidth:"40vw",width:"200px",minHeight:"200px",marginTop:"10vh"},c)}),r.a.createElement(w,{bold:!0,color:l},n)))},Ve=n(110),Qe=n(34),qe=n(154),Je=n(67),Xe={user:{},enterprise:{},error:!1,loading:!1,userState:Je.UNAUTH};!function(e){e.LOGIN="LOGIN",e.AUTH="AUTH",e.LOGOUT="LOGOUT",e.SIGNUP="SIGNUP",e.ADD_ENTERPISE="ADD_ENTERPISE",e.PASSWORD_RESET="PASSWORD_RESET",e.FORGOT_PASSWORD="FORGOT_PASSWORD",e.GET_ENTERPRISE="GET_ENTERPRISE",e.USER_REQUEST_FAILED="USER_REQUEST_FAILED",e.USER_REQUEST_PENDING="USER_REQUEST_PENDING",e.USER_REQUEST_SUCCESS="USER_REQUEST_SUCCESS",e.RESET_ERROR="RESET_ERROR"}(_e||(_e={}));var Ke=function(e){return e&&void 0!==e&&void 0!==e.apps?"onboardRequestRequired"===e.apps.enterpriseApp?Je.ENTERPISE_SELECT:"onboarding"===e.apps.enterpriseApp?Je.ENTERPISE_PENDING:Je.APPROVED:Je.UNAUTH};function Ze(){return{"Content-Type":"application/json",authtoken:localStorage.getItem(qe.USER)||""}}var $e=function(e){return new Promise((function(t){return setTimeout(t,e)}))},et=function(){var e=Object(U.a)(P.a.mark((function e(t){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,$e(800);case 3:return e.abrupt("return",t.json());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),tt=function(e){return e.json()};function nt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(n?et:tt)}function at(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return fetch(e,{method:"GET",headers:Ze()}).then(t?et:tt)}function rt(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return fetch(e,{method:"POST",headers:Ze(),body:JSON.stringify(t)}).then(n?et:tt)}var ct=function(e){return"https://test.findparkstash.com/api"+e},ot=function(){return at(ct("/v1/users/me"),!1)},it=function(e){return at(ct("/v1/enterprises/".concat(e,"/garages")))},lt=function(e){return at(ct("/v1/enterprises/5f0387891c154a299fc0104f/metrics/timeSeries?timeSeriesQuery="+JSON.stringify(e)))},ut=function(e,t){return rt(ct("/v1/enterprises/".concat(e,"/garages")),t)},st=function(e,t){return rt(ct("/v1/enterprises/".concat(e,"/garages/").concat(t.id,"/edit")),t)},dt=ot,mt=function(e){return nt(ct("/v1/login"),e)},pt=function(e){return rt(ct("/v1/signup"),e)},ft=function(e){return at(ct("/v1/enterprises/5f0387891c154a299fc0104f/metrics/timeSeriesMetricDescriptors/".concat(e)))},gt=function(e){return nt(ct("/users/password/forgot"),e)},vt=function(e){return nt(ct("/users/password/verify-forgot"),e)},ht=function(e,t){return function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return fetch(e,{method:"POST",headers:Object(i.a)({"Content-Type":"application/json"},t),body:JSON.stringify(n)}).then(a?et:tt)}(ct("/users/password/change"),e,t)},bt=function(e,t){return rt(ct("/v1/enterprises/".concat(e,"/users/").concat(t,"/onboard/request")),{role:"member"})},Et=function(){return at(ct("/v1/enterprises"),!1)},yt=function(e){return at(ct("/v1/enterprises/search/by-user?userId=".concat(e)),!1)},Ot=function(e){return at(ct("/v1/enterprises/".concat(e,"/users")))},wt=function(e,t){return rt(ct("/v1/enterprises/".concat(e,"/users/").concat(t,"/remove")),{})},xt=function(e,t){return rt(ct("/v1/enterprises/".concat(e,"/users/").concat(t,"/onboard/reject")),{})},jt=function(e,t){return rt(ct("/v1/enterprises/".concat(e,"/users/").concat(t,"/onboard/approve")),{})},St=function(e){return at(ct("/v1/enterprises/".concat(e,"/announcements")))},Ht=function(e,t){return rt(ct("/v1/enterprises/".concat(e,"/announcements")),t)},Ct=function(e,t){return rt(ct("/v1/enterprises/".concat(e,"/announcements/").concat(t,"/remove")),{})},kt=function(e,t,n){return rt(ct("/v1/enterprises/".concat(e,"/announcements/").concat(t,"/edit")),n)},Nt=function(e){return at(ct("/v1/enterprises/".concat(e,"/dashboards")),!0)},At=function(e,t,n){return rt(ct("/v1/enterprises/".concat(e,"/dashboards/").concat(t,"/edit")),n)},Tt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return at(ct("/v1/enterprises/".concat(e,"/metrics/flatValueMetricDescriptors/").concat(t?"search/by-resourceType?resourceType=".concat(t):"")),!1)},It=function(e,t){return at(ct("/v1/enterprises/".concat(e,"/metrics/flatValue?flatValueQuery=")+JSON.stringify(t)),!1)},Rt=function(e){return at(ct("/v1/enterprises/".concat(e,"/garageOccupancyTables")))},Mt=function(e,t){return rt(ct("/v1/enterprises/".concat(e,"/garageOccupancyTables")),t)},Dt=function(e,t){return rt(ct("/v1/enterprises/".concat(e,"/garageOccupancyTables/").concat(t,"/remove")),{})},Lt=function(e,t,n){return rt(ct("/v1/enterprises/".concat(e,"/garageOccupancyTables/").concat(t,"/edit")),n)},Pt=function(e,t){return at(ct("/v1/enterprises/".concat(e,"/garageOccupancyTables/").concat(t)),!1)},Ut=n(149),_t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(null===e||void 0===e?void 0:e.length)<=t?e:r.a.createElement(Ut.a,{title:e},r.a.createElement("span",{className:"cursor capitalize"},"".concat(null===e||void 0===e?void 0:e.substring(0,t)).concat((null===e||void 0===e?void 0:e.length)>t?"...":"")))},Gt=function(){var e=Object(U.a)(P.a.mark((function e(t,n){var a,r,c=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=c.length>2&&void 0!==c[2]&&c[2],c.length>3&&void 0!==c[3]?c[3]:1,e.prev=2,n({type:_e.USER_REQUEST_PENDING}),e.next=6,t();case 6:if((r=e.sent)&&r.success){e.next=9;break}throw new Error(r.message||"Error");case 9:return n({type:_e.USER_REQUEST_SUCCESS}),e.next=12,r;case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(2),a&&be({title:"Error",message:String((null===e.t0||void 0===e.t0?void 0:e.t0.message)||e.t0)}),n({type:_e.USER_REQUEST_FAILED});case 19:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t,n){return e.apply(this,arguments)}}(),Ft=function(e){return Object(i.a)(Object(i.a)({},e),{},{name:_t(e.name)})},Wt=function(){var e=Object(U.a)(P.a.mark((function e(t,n){var a,r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("enabled"!==(null===t||void 0===t||null===(a=t.apps)||void 0===a?void 0:a.enterpriseApp)){e.next=6;break}return r=t.id,e.next=4,Gt((function(){return yt(r)}),n);case 4:(null===(c=e.sent)||void 0===c?void 0:c.success)&&n({type:_e.GET_ENTERPRISE,enterprise:c.enterprise});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),zt=function(){return function(e){return e({type:_e.LOGOUT})}},Bt=n(16),Yt=n(131),Vt=n(132),Qt=n(151),qt=n(150),Jt={sidebar:!0,toggleSidebar:function(){},collapsed:!1,toggleCollapsed:function(){}},Xt=Object(a.createContext)(Jt),Kt=function(e){Object(Qt.a)(n,e);var t=Object(qt.a)(n);function n(){var e;Object(Yt.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toggleSidebar=function(){e.setState({sidebar:!e.state.sidebar})},e.toggleCollapsed=function(){e.setState({collapsed:!e.state.collapsed})},e.state=Object(i.a)(Object(i.a)({},Jt),{},{toggleSidebar:e.toggleSidebar,toggleCollapsed:e.toggleCollapsed}),e}return Object(Vt.a)(n,[{key:"render",value:function(){return r.a.createElement(Xt.Provider,{value:this.state},this.props.children)}}]),n}(r.a.Component),Zt=(Xt.Consumer,n(62)),$t={garages:[]};var en={error:!1,loadingAnnouncements:!1,loadingAction:!1,announcements:[]},tn=" ACTION_ANNOUNCEMENT_PENDING",nn="ACTION_ANNOUNCEMENT_ERROR",an="EDIT_ANNOUNCEMENT_SUCCESS",rn="ADD_ANNOUNCEMENT_SUCCESS",cn="DELETE_ANNOUNCEMENT_SUCCESS",on="GET_ANNOUNCEMENTS_PENDING",ln="GET_ANNOUNCEMENTS_SUCCESS",un="GET_ANNOUNCEMENTS_ERROR";var sn=Object(Zt.combineReducers)({garage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_GARAGES":return Object(i.a)(Object(i.a)({},$t),{},{garages:[t.garages]});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e.LOGOUT:return localStorage.removeItem(qe.USER),Object(i.a)(Object(i.a)({},e),{},{user:void 0,userState:Je.UNAUTH,loading:!1});case _e.LOGIN:case _e.SIGNUP:var n=t.user,a=t.token;return localStorage.setItem(qe.USER,a||""),Object(i.a)(Object(i.a)({},e),{},{user:n,userState:Ke(n),loading:!1});case _e.AUTH:return Object(i.a)(Object(i.a)({},e),{},{user:t.user,userState:Ke(t.user),loading:!1});case _e.ADD_ENTERPISE:return Object(i.a)(Object(i.a)({},e),{},{userState:Je.ENTERPISE_PENDING});case _e.GET_ENTERPRISE:return Object(i.a)(Object(i.a)({},e),{},{enterprise:t.enterprise});case _e.USER_REQUEST_PENDING:return Object(i.a)(Object(i.a)({},e),{},{loading:!0,error:!1});case _e.USER_REQUEST_FAILED:return Object(i.a)(Object(i.a)({},e),{},{error:!0,loading:!1});case _e.USER_REQUEST_SUCCESS:return Object(i.a)(Object(i.a)({},e),{},{loading:!1});case _e.RESET_ERROR:return Object(i.a)(Object(i.a)({},e),{},{error:!1});default:return e}},announcement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:en,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case tn:return Object(i.a)(Object(i.a)({},e),{},{loadingAction:!0});case on:return Object(i.a)(Object(i.a)({},e),{},{loadingAnnouncements:!0});case rn:return Object(i.a)(Object(i.a)({},e),{},{loadingAction:!1,announcements:[].concat(Object(x.a)(e.announcements),[n.announcement])});case cn:return Object(i.a)(Object(i.a)({},e),{},{loadingAction:!1,announcements:e.announcements.filter((function(e){return e!==n.announcement}))});case an:var r=n.announcement,c=r.id,o=Object(x.a)(e.announcements),l=e.announcements.reduce((function(e,t,n){return t.id===c?n:e}),-1);return o[l]=n.announcement,Object(i.a)(Object(i.a)({},e),{},{loadingAction:!1,announcements:o});case ln:return Object(i.a)(Object(i.a)({},e),{},{loadingAnnouncements:!1,announcements:(null===n||void 0===n?void 0:n.announcements)||[]});case un:return Object(i.a)(Object(i.a)({},e),{},{error:!0,loadingAnnouncements:!1,announcements:[]});case nn:return Object(i.a)(Object(i.a)({},e),{},{error:!0,loadingAction:!1,loadingAnnouncements:!1});default:return e}}}),dn=n(312),mn=n(375).default,pn=Object(Zt.createStore)(sn,Object(dn.composeWithDevTools)(Object(Zt.applyMiddleware)(mn,(function(e){return function(t){return function(n){console.group(n.type),console.info("dispatching",n);var a=t(n);return console.log("next state",e.getState()),console.groupEnd(),a}}})))),fn=n(313),gn=n.n(fn).a,vn=bn(),hn=[];function bn(){var e,t;return(null===(e=pn.getState().user)||void 0===e||null===(t=e.enterprise)||void 0===t?void 0:t.tz)||"utc"}function En(){return vn}pn.subscribe((function(){var e=bn();vn!==e&&(vn=e,gn.tz.setDefault(e),hn.forEach((function(e){return e(vn)})))}));gn.tz.setDefault(vn);var yn=function(){var e=Object(a.useState)(En()),t=Object(l.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=function(e){r(e)};return function(e){!!hn.find((function(t){return t===e}))||hn.push(e)}(e),function(){return function(e){hn=hn.filter((function(t){return t===e}))}(e)}}),[]),n};function On(){var e=Object(u.a)(["\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  font-size: .8em;\n  display: grid;\n  padding: .3em;\n  position: fixed;\n  z-index: 100;\n  left: 0;\n  bottom: 0;\n  top: 0;\n  color: white;\n  ","\n  grid-template-rows: repeat(16, auto);\n  align-items: center;\n  justify-items: stretch;\n  transition: 500ms ease-out;\n  background-color: ",";\n  background-image: url(",");\n  background-image: linear-gradient(to right top, #0bc062, #00b78b, #00aba7, #009cb4, #0d8cb0);\n  background-attachment: fixed;\n  @media (max-width: ",") {\n    height: 55px;\n    width: 100vw;\n    top: inherit;\n    bottom: 0;\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\n    grid-template-rows: 1fr;\n  }\n"]);return On=function(){return e},e}function wn(){var e=Object(u.a)(["\n  display: grid;\n  text-decoration: none;\n  place-items: center;\n  color: white;\n  font-size: 1.35em;\n  cursor: pointer;\n  padding: .8em .4em;\n\n  @media(max-width: ","){\n  border-left: 0 !important;\n  grid-template-columns: 1fr;\n  padding-left: .3em;\n  }\n  &:hover "," {\n    color: white;\n    animation : "," 300ms ease-out;\n    transform: scaleX(1);\n  }"]);return wn=function(){return e},e}function xn(){var e=Object(u.a)(["from { transform: scaleX(0); } to { transform: scaleX(1);}"]);return xn=function(){return e},e}function jn(){var e=Object(u.a)(["transform: scaleX(0);"]);return jn=function(){return e},e}var Sn=s.b.hr(jn()),Hn=Object(s.c)(xn()),Cn=Object(s.b)(Ve.c)(wn(),"860px",Sn,Hn),kn=s.b.div(On(),(function(e){var t=e.collapsed;return"width: ".concat(t?"6em":"17em",";")}),"#33B482",(function(e){return e.background}),"860px"),Nn=function(){var e=Object(Bt.d)((function(e){return e.user})).user,t=Object(a.useContext)(Xt),n=t.collapsed,c=t.toggleCollapsed,o=Object(Bt.c)(),l=Object(Qe.f)().pathname,u=yn(),s={gridRowStart:"16",width:"100%",padding:".5em 1em",gridGap:"1em",gridTemplateColumns:"auto 1fr",cursor:"pointer"},d=n?"hide":"";return r.a.createElement("div",null,r.a.createElement(kn,{background:"",collapsed:n},r.a.createElement(B.Item,{hideOnMobile:!0},r.a.createElement(Z,{medium:!n,src:"https://res.cloudinary.com/ssaran97/image/upload/v1593738437/enterprise/spartan_logo.png"}),r.a.createElement("span",{className:"txt-md txt-center grid txt-white "+d},r.a.createElement("div",{className:"capitalize"}," ",e.name||"User"),r.a.createElement(Ge,{style:{background:"dodgerblue"},className:"badge shadow capitalize "+d},"Admin"),r.a.createElement("div",{className:"capitalize txt-xsm"},"Timezone: ",u))),[{to:["/","/overview"],name:"Overview",icon:"fa fa-heartbeat"},{to:["/garages"],name:"Garages",icon:"fas fa-warehouse"},{to:["/announcements"],name:"Announcements",icon:"fas fa-bullhorn"},{to:["/controls"],name:"Controls",icon:"fas fa-cog"},{to:["/citations"],name:"Citation",icon:"fas fa-money-check-alt"},{to:["/events"],name:"Events",icon:"fa fa-calendar"},{to:["/profile"],name:"Profile",icon:"fas fa-user"}].map((function(e){var t,a=e.to,c=e.name,o=e.icon;return r.a.createElement(Cn,{key:c,collapsed:n,style:{gridTemplateColumns:n?"1fr":"auto 1fr",borderLeft:a.includes(l)?".3em solid dodgerblue":""},to:a[0]||"/",active:(t=a.reduce((function(e,t){return e||!1}),!1),String(t))},r.a.createElement("i",{style:{fontSize:"1.6em",padding:"0 .3em"},className:o}),r.a.createElement("div",{className:"txt-center hide-mobile "+d},c),r.a.createElement("div",{style:{height:"2px"}}),r.a.createElement("div",{style:{width:"100%",height:"2px"}},r.a.createElement(Sn,null)))})),r.a.createElement("div",{style:Object(i.a)(Object(i.a)({},s),{},{gridRowStart:13,textAlign:"center"})},r.a.createElement(Ge,{inverted:!0,onClick:c,style:{borderRadius:"50%",padding:".6em .8em"},className:"hoverr pointer"},r.a.createElement("i",{className:"fa fa-chevron-".concat(n?"right":"left"," txt-md")}))),r.a.createElement("div",{className:"grid",onClick:function(){return o(zt())},style:s},r.a.createElement("i",{className:"fas fa-sign-out-alt txt-lg"}),r.a.createElement("div",{className:"txt-left txt-md hide-mobile "+d},"Logout"))))};function An(){var e=Object(u.a)(["\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\n  position: fixed;\n  font-size: 15px;\n  top: 0;\n  right : 0;\n  left: 0;\n  padding: 0 1.5em;\n  z-index: 9;\n  width: 100vw;\n  height: 4em; \n\n  background: white;  \n  color: ",";\n\n  display: grid;\n  grid-gap: 1em;\n  grid-template-columns: 1fr auto auto;\n  grid-template-rows: 1fr;\n  place-items: center end;\n    @media(max-width: ","){\n      top : inherit;\n      padding-left: 0\n      grid-gap: .5em;\n    } "]);return An=function(){return e},e}function Tn(){var e=Object(u.a)(["\n    padding-left: 10em;\n    @media(max-width: ","){\n       padding-left: 0;\n       font-size: 1.2em;\n    } \n  "]);return Tn=function(){return e},e}var In=s.b.div(Tn(),"860px"),Rn=s.b.div(An(),"#33B482","860px"),Mn=function(e){e.user,e.logout;var t=Object(Qe.f)().pathname;return r.a.createElement(Rn,null,r.a.createElement(In,{className:"capitalize bold txt-md txt-left",style:{minWidth:"100px",width:"100%"}},"/"===t||"/overview"===t?"Overview":t.replace("/","")),r.a.createElement("div",{className:"grid",style:{gridTemplateColumns:"auto auto auto"}},r.a.createElement("div",null,r.a.createElement("i",{style:{fontSize:"2.5em"},className:"fa fa-car"}),r.a.createElement("i",{className:"fa fa-plus"})),r.a.createElement("div",null,r.a.createElement("i",{style:{fontSize:"2em"},className:"fa fa-bullhorn"}),r.a.createElement("i",{className:"fa fa-plus"}))),r.a.createElement("div",{className:"grid"},r.a.createElement(Z,{url:"https://res.cloudinary.com/ssaran97/image/upload/v1593738437/enterprise/spartan_logo.png"})))};function Dn(){var e=Object(u.a)(["\n","\n    margin: auto;\n    min-height: 100vh;\n    display: grid;\n    place-items: start center;\n    transition: all 0.5s ease-out;\n    background-attachment: fixed;\n    background-repeat: no-repeat;\n    background-position:  center;\n    width: calc (11em - 100vw );\n    background-size: cover;\n    @media(max-width: ","){ \n        padding-left: 0em; \n        padding-bottom: 5em; \n        width: 100vw;\n    }"]);return Dn=function(){return e},e}var Ln=s.b.div(Dn(),(function(e){return"\n    padding-top: ".concat(e.sidebar?"4.5em":0,";\n    padding-left: ").concat(e.collapsed?"5em":e.sidebar?"10em":0,";\n\n    background: ").concat(e.background?"url(".concat(e.background,")"):"#F0F3F4",";")}),"860px"),Pn=function(e){var t=e.children,n=e.style,c=e.sidebar,o=e.background,i=Object(a.useContext)(Xt).collapsed;return Object(a.useEffect)((function(){return window.scrollTo(0,0)}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,c&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement(Nn,null),"   ",r.a.createElement(Mn,null))),r.a.createElement(Ln,{background:o,style:n,sidebar:c,collapsed:i},t))},Un=function(){var e=Object(U.a)(P.a.mark((function e(t){var n,a,r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.apiCall,a=t.successMessage,r=t.errorMessage,e.prev=1,e.next=4,n();case 4:if((c=e.sent).success){e.next=7;break}throw new Error(c.message);case 7:return a&&ve({title:"Succcess",message:a}),e.abrupt("return",c);case 11:return e.prev=11,e.t0=e.catch(1),r&&be({title:"Error",message:r}),console.log(e.t0),e.abrupt("return",{success:!1});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),_n=function(e){var t=e.eId,n=Object(a.useState)({garages:[],loading:!1,error:!1}),r=Object(l.a)(n,2),c=r[0],o=r[1],u=function(e){return o(Object(i.a)(Object(i.a)({},c),e))},s=function(){var e=Object(U.a)(P.a.mark((function e(t){var n,a,r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return it(t)}});case 3:n=e.sent,a=n.garages,r=void 0===a?[]:a,c=n.success,u({loading:!1,error:!(void 0!==c&&c),garages:r});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(U.a)(P.a.mark((function e(n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return ut(t,n)},successMessage:"Garage was Added",errorMessage:"Garage was not Added"});case 3:a=e.sent,u({loading:!1,error:(null===a||void 0===a?void 0:a.success)||!1}),s(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(U.a)(P.a.mark((function e(n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return st(t,n)},successMessage:"Garage was Edited",errorMessage:"Garage was not Edited"});case 3:a=e.sent,u({loading:!1,error:(null===a||void 0===a?void 0:a.success)||!1}),s(t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){s(t)}),[t]),Object(i.a)(Object(i.a)({},c),{},{addGarage:d,editGarage:m,refresh:function(){return s(t)}})},Gn=n(650),Fn=function(e){var t=e.name,n=e.address,c=e.maxOccupancy,o=e.active,i=e.edit,u=e.occupancyUpdateSource,s=e.occupancy,d=e.getTableById,m=e.occupancyTableId,p=Object(a.useState)(""),f=Object(l.a)(p,2),g=f[0],v=f[1],h=Number((((null===s||void 0===s?void 0:s.count)||0)/c*100).toFixed(2));return Object(a.useEffect)((function(){m&&d(m).then((function(e){var t;(null===e||void 0===e?void 0:e.success)&&v((null===e||void 0===e||null===(t=e.garageOccupancyTable)||void 0===t?void 0:t.title)||"")}))}),[]),r.a.createElement(E,{shadow:!0,minWidth:"40vw"},r.a.createElement(w,{textAlign:"left"},r.a.createElement(B,{customCols:"auto auto 1fr auto",placeSelf:"end"},r.a.createElement(Re,{bold:!0},t),r.a.createElement(We,{style:{fontSize:".65em"},disabled:!o},o?"Active":"Disabled"),r.a.createElement("div",null),r.a.createElement("span",{className:"noselect"},r.a.createElement("i",{className:"fa fa-edit pointer hoverr",onClick:i})," \xa0",r.a.createElement("i",{className:"fa fa-trash pointer",style:{color:"gray"}})," \xa0"))),r.a.createElement(Re,{color:"gray",textAlign:"left"},"\xa0 ",r.a.createElement("i",{className:"far fa-compass"})," ",n),g&&r.a.createElement(Re,{color:"gray",textAlign:"left"},"\xa0 ",r.a.createElement("i",{className:"fa fa-table"})," ",g),r.a.createElement(B,{customCols:"auto 1fr"},r.a.createElement("i",{className:"fa fa-car txt-lgx","aria-hidden":"true"}),r.a.createElement(B,{placeSelf:"stretch",placeItems:"center end",gridGap:".5em"},r.a.createElement(Gn.a,{strokeWidth:10,strokeColor:"#33B482",percent:h,style:{maxWidth:"70%",placeSelf:"center end",width:"300px",paddingRight:".5em"}}),r.a.createElement(We,{clasName:"grid",style:{placeSelf:"end",marginRight:"2em"}},r.a.createElement("div",null,(null===s||void 0===s?void 0:s.count)||"N/A"," ",r.a.createElement("span",{style:{fontSize:"1.3em"}}," / "),c))),r.a.createElement(We,{inverted:!0},"integration"===u?"Automatic":"Manual")))},Wn=n(314),zn=n.n(Wn),Bn=n(651),Yn=function(){var e={found:!1,result:"",resultLocation:{lat:32,lng:-92}},t=Object(a.useState)(!0),n=Object(l.a)(t,2),r=n[0],c=n[1],o=Object(a.useState)(e),u=Object(l.a)(o,2),s=u[0],d=u[1],m=Object(a.useState)(""),p=Object(l.a)(m,2),f=p[0],g=p[1];return{searchText:f,search:s,error:r,selectResult:function(e){g(e),c(!1)},resetSearch:function(){return d(e)},getAddress:function(e){c(!0);var t="https://maps.googleapis.com/maps/api/geocode/json?address=".concat(e,"&key=").concat("AIzaSyAeJmDi-yAmMJ2N9n7zHDjl8nUcXzDunPM");e&&e.length>0?fetch(t).then((function(e){return e.json()})).then((function(e){if(!("OK"===e.status&&e.results&&e.results.length>0))throw new Error;var t=e.results[0].formatted_address,n={lat:e.results[0].geometry.location.lat,lng:e.results[0].geometry.location.lng};d(Object(i.a)(Object(i.a)({},s),{},{result:t,resultLocation:n,found:!0}))})).catch((function(e){return d(Object(i.a)(Object(i.a)({},s),{},{result:"No Result",found:!1}))})):d(Object(i.a)(Object(i.a)({},s),{},{result:""}))},setSearchText:g}},Vn=function(e){var t=e.showText,n=e.className;return r.a.createElement("div",null,r.a.createElement("i",{className:"fa fa-map-marker txt-lg red "+n,"aria-hidden":"true"}),t&&r.a.createElement(E,{width:"5em",padding:".4em"},"Click Me to Move"))},Qn=function(e){var t=e.forward,n=e.setGeo,c={lat:32,lng:-92},o=Yn(),u=o.searchText,s=o.selectResult,d=o.error,m=o.search,p=o.setSearchText,f=o.resetSearch,g=o.getAddress,v=Object(a.useState)({location:c,pointerLocation:c,zoom:15,pointerMoved:!1}),h=Object(l.a)(v,2),b=h[0],y=h[1],O=function(e){return y(Object(i.a)(Object(i.a)({},b),e))},w={gridColumn:1,gridRowStart:1},x=function(e){e.preventDefault(),m.found&&(O({location:m.resultLocation,pointerLocation:m.resultLocation}),s(m.result)),f()};return r.a.createElement("div",{style:{display:"grid",height:"50vh",width:"100%",gridTemplateColumns:"1fr"}},r.a.createElement("form",{onSubmit:x,style:Object(i.a)(Object(i.a)({},w),{},{zIndex:10,marginTop:".3em",width:"100%",height:"4em"})},r.a.createElement(Bn.a,{suffix:r.a.createElement(Ut.a,{title:"Please enter the Full Address"},r.a.createElement("i",{className:"fa fa-".concat(d?"times-circle red":"check green"),style:{position:"relative"}})),onChange:function(e){var t=e.target;p(t.value),O({pointerMoved:!1}),g(t.value)},placeholder:"Enter your Garage Address",value:u,style:{height:"3em",width:"80%",borderRadius:"4em"}}),m.result.length>0&&r.a.createElement(E,{onClick:x,className:"pointer noselect",shadow:!0,margin:"0 .5em"},m.result)),r.a.createElement(J,{shadow:b.pointerMoved&&!d,disabled:!b.pointerMoved||d,onClick:function(){n(Object(i.a)(Object(i.a)({},b.pointerLocation),{},{address:u})),t()},style:Object(i.a)(Object(i.a)({},w),{},{zIndex:10,justifySelf:"center",height:"2.3em",position:"relative",top:"calc(100% - 4em)"})},"Next \xa0",r.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"})),r.a.createElement("div",{style:Object(i.a)(Object(i.a)({},w),{},{justifySelf:"stretch"})},r.a.createElement(zn.a,{bootstrapURLKeys:{key:"AIzaSyB4z2lv6jvxicb7dsQ-K8fFxRcjt07YxQI"},center:b.location,defaultZoom:b.zoom,onChange:function(e){var t=e.zoom,n=e.center;return O({zoom:t,location:n})},onClick:function(e){e._,e.__;var t=e.lat,n=e.lng;return O({pointerLocation:{lat:t,lng:n},pointerMoved:!0})}},r.a.createElement(Vn,{className:b.pointerMoved?"":"grow",lat:b.pointerLocation.lat,lng:b.pointerLocation.lng,showText:!b.pointerMoved}))))},qn=n(198),Jn=n.n(qn),Xn=n(57),Kn=n(100),Zn=n(654),$n=n(174),ea=n(655),ta=Xn.b({name:Xn.d().required("Required!").min(5,"Garage must contain at least 6 characters"),maxOccupancy:Xn.a().required("Required!")}),na="integration",aa="table",ra={name:"",active:!1,maxOccupancy:420,occupancyTableId:null,occupancyUpdateSource:aa},ca=function(e){var t=e.loading,n=e.tables,a=void 0===n?[]:n,c=e.garage,o=Object(Kn.a)({initialValues:c||ra,onSubmit:function(t){console.log(t),e.submit(t)},validationSchema:ta}),i=o.handleSubmit,l=o.handleChange,u=o.setFieldValue,s=o.values,d=o.handleBlur,m=s.name<6;return r.a.createElement("form",{onSubmit:i,className:"shake",style:{height:"100%",display:"grid",background:"white",padding:"2em",width:"100%",placeItems:"center stretch",gridGap:".4em"}},r.a.createElement("div",{style:{placeSelf:"stretch",display:"grid",placeItems:"stretch"}},r.a.createElement(Re,{textAlign:"left",bold:!0},"Enter the Name of your Garage",r.a.createElement("span",{className:"red"},"*")),r.a.createElement(Bn.a,{style:{placeSelf:"end"},type:"text",name:"name",onBlur:d,suffix:r.a.createElement(Ut.a,{title:"Garage must contain at least 6 characters"},r.a.createElement("i",{className:"fa fa-".concat(m?"times-circle red":"check green"),style:{position:"relative"}})),value:s.name,onChange:l,placeholder:"Example: SJSU Garage 1"})),r.a.createElement(B,{margin:".6em 0",placeSelf:"stretch",placeItems:"stretch",gridGap:"0",customCols:"1fr auto"},r.a.createElement(Re,{textAlign:"left",placeSelf:"end start",bold:!0},"Activate Garage",r.a.createElement("span",{className:"red"},"*")),r.a.createElement(Zn.a,{checked:s.active,style:{placeSelf:"end"},onChange:function(e){return u("active",e)}})),r.a.createElement(B,{margin:".6em 0",placeSelf:"stretch",placeItems:"stretch",gridGap:"0",customCols:"1fr auto"},r.a.createElement(Re,{textAlign:"left",placeSelf:"end start",bold:!0},"Automate Garage",r.a.createElement("span",{className:"red"},"*")),r.a.createElement(Zn.a,{checked:s.occupancyUpdateSource===na,style:{placeSelf:"end"},onChange:function(e){return u("occupancyUpdateSource",e?na:aa)}})),r.a.createElement(B,{margin:".6em 0",placeSelf:"stretch",placeItems:"stretch",gridGap:"0"},r.a.createElement(Re,{textAlign:"left",placeSelf:"end start",bold:!0},"Garage Occupancy Table"),r.a.createElement($n.a,{defaultValue:s.occupancyTableId,onChange:function(e){return u("occupancyTableId",e)}},a.map((function(e){var t=e.id,n=e.title;return r.a.createElement($n.a.Option,{value:t},n)})))),r.a.createElement(B,{margin:".6em 0",placeSelf:"stretch",placeItems:"stretch",gridGap:"0",customCols:"1fr auto"},r.a.createElement(Re,{textAlign:"left",placeSelf:"end start",bold:!0},"Max Garage Occupancy",r.a.createElement("span",{className:"red"},"*")),r.a.createElement(ea.a,{min:1,style:{placeSelf:"end"},value:s.maxOccupancy,onChange:function(e){return u("maxOccupancy",e)},name:"maxOccupancy"})),t?r.a.createElement(J,{loading:!0,disabled:!0,style:{fontSize:".8em"}},"Loading"):r.a.createElement(J.Normal,{style:{fontSize:".8em"},type:"submit",disabled:m,onSubmit:function(e){return i(e)}},"Confirm"))},oa=function(e){var t=e.submit,n=Object(a.useState)(0),c=Object(l.a)(n,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){var e=setInterval((function(){i((function(e){return e+5}))}),300);return function(){clearInterval(e)}}),[]),Object(a.useEffect)((function(){90===o&&t()}),[o]),r.a.createElement(B,{width:"100%",background:"white",height:"100%"},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Re,{bold:!0},"Creating your Garage"),r.a.createElement(Gn.a,{style:{width:"70%"},percent:o})))},ia=function(e){var t=e.close,n=e.refresh,c=e.eId,o=e.tables,u=Object(a.useState)({step:0,completed:!1}),s=Object(l.a)(u,2),d=s[0],m=s[1],p=_n({eId:c}).addGarage,f=Object(a.useState)({name:"",active:!1,maxOccupancy:0,geo:[0,0]}),g=Object(l.a)(f,2),v=g[0],h=g[1],b=function(){var e=Object(U.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(v);case 2:n(),t();case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){d.step<y.length&&m({step:d.step+1,completed:!1})},y=[r.a.createElement(Qn,{forward:E,setGeo:function(e){var t=e.lat,n=e.lng,a=e.address;h(Object(i.a)(Object(i.a)({},v),{},{geo:[t,n],address:a}))}}),r.a.createElement(ca,{submit:function(e){h(Object(i.a)(Object(i.a)({},v),e)),E()},tables:o}),r.a.createElement(oa,{submit:b})];return r.a.createElement(B,{customCols:"6fr 7fr",width:"100%",height:"100%",gridGap:"0"},r.a.createElement("div",{className:"grid",style:{background:"#329181",height:"100%",padding:"1em"}},r.a.createElement("img",{src:Jn.a,style:{maxWidth:"100%"}})),y[d.step])},la=function(e){var t=e.close,n=e.eId,a=e.garage,c=e.refresh,o=e.tables,i=_n({eId:n}),l=i.editGarage,u=i.loading,s=function(){var e=Object(U.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l(n);case 2:t(),c();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(B,{customCols:"4fr 5fr",width:"100%",height:"100%",gridGap:"0"},r.a.createElement("div",{style:{background:"#33B482",height:"100%",padding:"1em"}},r.a.createElement("img",{src:Jn.a,style:{maxWidth:"100%"}})),r.a.createElement(ca,{submit:s,tables:o,garage:a,loading:u}))},ua=function(e){var t=e.loading,n=void 0!==t&&t,a=e.list,c=void 0===a?[]:a,o=e.loader,i=void 0===o?r.a.createElement(I.Spinner,null):o,l=e.emptyText,u=void 0===l?"No Data":l,s=e.map;return n?i:0===(null===c||void 0===c?void 0:c.length)?r.a.createElement(Ye,{text:u,color:"white",style:{marginTop:0}}):r.a.createElement(r.a.Fragment,null,c.map(s))},sa=function(e){var t=e.eId,n=Object(a.useState)({tables:[],loading:!1,error:!1}),r=Object(l.a)(n,2),c=r[0],o=r[1],u=function(e){return o(Object(i.a)(Object(i.a)({},c),e))},s=function(){var e=Object(U.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return Rt(t)},errorMessage:"Failed: Loading Table"});case 3:n=e.sent,u({loading:!1,tables:(null===n||void 0===n?void 0:n.garageOccupancyTables)||[],error:(null===n||void 0===n||n.success,!1)});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(U.a)(P.a.mark((function e(n){var a,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return Mt(t,n)},errorMessage:"Could not Edit Table",successMessage:"Table was Edited"});case 3:a=e.sent,r=c.tables,(null===a||void 0===a?void 0:a.success)&&(r=[].concat(Object(x.a)(c.tables),[Object(i.a)(Object(i.a)({},n),{},{id:a.garageOccupancyTableId})])),u({loading:!1,tables:r,error:(null===a||void 0===a||a.success,!1)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(U.a)(P.a.mark((function e(n){var a,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return Dt(t,n)},errorMessage:"Could not Delete Table",successMessage:"Table was Deleted"});case 3:a=e.sent,r=Object(x.a)(c.tables),(null===a||void 0===a?void 0:a.success)&&(r=r.filter((function(e){return e.id!==n}))),u({loading:!1,tables:r,error:(null===a||void 0===a||a.success,!1)});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(U.a)(P.a.mark((function e(n){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un({apiCall:function(){return Pt(t,n)},errorMessage:"Failed: Loading Table"});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(U.a)(P.a.mark((function e(n){var a,r,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return Lt(t,n.id,n)},errorMessage:"Could not Edit Table",successMessage:"Table was Edited"});case 3:a=e.sent,r=Object(x.a)(c.tables),o=r.reduce((function(e,t,a){return n.id===t.id?a:e}),-1),(null===a||void 0===a?void 0:a.success)&&o>-1&&(r[o]=n),u({loading:!1,tables:r,error:(null===a||void 0===a||a.success,!1)});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){s(t)}),[t]),Object(i.a)(Object(i.a)({},c),{},{getTables:s,removeTable:m,addTable:d,editTable:f,getTableById:p})},da=function(){var e=Object(Bt.d)((function(e){return e.user.enterprise.id})),t=_n({eId:e}),n=t.garages,a=t.loading,c=t.refresh,o=sa({eId:e}),i=o.tables,l=o.getTableById,u={eId:e,tables:i,refresh:c},s=Ae({title:"Add Your Garage",message:r.a.createElement(ia,Object.assign({close:function(){return s.close()}},u)),hideCancel:!0});return r.a.createElement(B,{placeItems:"start stretch",background:d,padding:"1em",height:"100%"},r.a.createElement(B,null,r.a.createElement("div",{className:"grid"},r.a.createElement(J,{style:{placeSelf:"end"},margin:"1em",rounded:!0,disabled:a,shadow:!0,onClick:function(){return s.open()},minWidth:"4.5em"},r.a.createElement("i",{className:"fa fa-plus"})," Add"),ua({loading:a,loader:r.a.createElement(ce,{number:5,style:{maxWidth:"600px",minWidth:"40vw"}}),list:n,map:function(e){return r.a.createElement(Fn,Object.assign({},e,{edit:function(){return function(e){var t=Ae({title:"Edit Your Garage",message:r.a.createElement(la,Object.assign({close:function(){return t.close()}},u,{garage:e})),hideCancel:!0});t.open()}(e)},getTableById:l}))}}))))},ma=n(65),pa=n.n(ma),fa=[{id:"DAY",label:"1D",calc:function(e){return gn(e).add(-1,"day")}},{id:"3_DAYS",label:"3D",calc:function(e){return gn(e).add(-3,"day")}},{id:"WEEK",label:"1W",calc:function(e){return gn(e).add(-7,"day")}},{id:"MONTH",label:"1M",calc:function(e){return gn(e).add(-1,"month")}},{id:"3_MONTHS",label:"3M",calc:function(e){return gn(e).add(-3,"month")}},{id:"YEAR",label:"1Y",calc:function(e){return gn(e).add(-1,"year")}}],ga=n(656),va=n(647),ha=function(e){var t=e.interval,n=e.setTime,a=e.backgroundColor,c=e.color;return r.a.createElement("div",{style:{display:"grid",height:"100%",backgroundColor:a,color:c,gridAutoColumns:"auto auto auto auto 1fr",placeItems:"end start"}},r.a.createElement(Re,{width:"100%",textAlign:"center",size:2,bold:!0},"Filter"),r.a.createElement(Re,{color:"#33B482",textAlign:"left",margin:".5em 0 0 0",bold:!0},"Start Date"),r.a.createElement(va.a,{use12Hours:!0,showTime:{format:"hh:mm a"},format:"YYYY-MM-DD hh:mm A",minuteStep:15,style:{borderRadius:8},onChange:function(e){e&&n({startTime:e.toISOString()})},value:gn(t.startTime)}),r.a.createElement(Re,{color:"#33B482",bold:!0,margin:".5em 0 0 0"},"End Date"),r.a.createElement(va.a,{showTime:{format:"hh:mm a"},use12Hours:!0,format:"YYYY-MM-DD hh:mm A",minuteStep:15,style:{borderRadius:8},onChange:function(e){e&&n({endTime:e.toISOString()})},value:gn(t.endTime)}))},ba=function(e){var t=e.interval,n=e.setInterval,c=e.backgroundColor,o=e.color,i=e.loading,u=e.hide,s=Object(a.useState)("3_DAYS"),d=Object(l.a)(s,2),m=d[0],p=d[1],f=Object(a.useState)(t),g=Object(l.a)(f,2),v=g[0],h=g[1],b=function(e){var t=e.startTime,a=e.endTime,r=t>a,c={startTime:pa()(r?a:t).toISOString(),endTime:pa()(r?t:a).toISOString()};h(c),n(c)},E=function(){n(v),p("NONE")};return u?null:r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"hide-mobile",style:{padding:"0 .5em"}},fa.map((function(e){var t=e.id,n=e.label,a=e.calc;return r.a.createElement(Pe,{active:t===m,inverted:!0,key:t,onClick:function(){p(t);var e=pa()(),n=a(e);b({startTime:n,endTime:e})}},n)}))),r.a.createElement(ga.a,{placement:"bottom",icon:"",title:r.a.createElement(ha,{submit:E,interval:v,backgroudColor:c,color:o,setTime:b}),onConfirm:E,okText:"Generate Data",cancelText:""},r.a.createElement("a",{className:"ant-dropdown-link rounded shadow",style:{color:"#33B482",background:"white",fontSize:"1.5em"},onClick:function(e){return e.preventDefault()}},r.a.createElement("i",{className:"fa fa-".concat(i?"spinner spin":"filter")}))))},Ea=Object(a.createContext)({editMode:!1,toggleEditMode:function(){}}),ya=function(e){Object(Qt.a)(n,e);var t=Object(qt.a)(n);function n(){var e;Object(Yt.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toggleEditMode=function(){return e.setState({editMode:!e.state.editMode})},e.state={editMode:!1,toggleEditMode:e.toggleEditMode},e}return Object(Vt.a)(n,[{key:"render",value:function(){return r.a.createElement(Ea.Provider,{value:this.state},this.props.children)}}]),n}(r.a.Component),Oa=(Ea.Consumer,gn().toISOString()),wa={startTime:gn(Oa).add(-3,"day").toISOString(),endTime:Oa},xa=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wa,n=Object(a.useState)(Object(i.a)(Object(i.a)({},e),{},{interval:t})),r=Object(l.a)(n,2),c=r[0],o=r[1],u=c.interval,s=u.startTime,d=u.endTime,m=Object(a.useState)({error:!1,loading:!0,data:null}),p=Object(l.a)(m,2),f=p[0],g=p[1],v=function(e){return o(Object(i.a)(Object(i.a)({},c),{},{interval:e}))},h=function(e){o(Object(i.a)(Object(i.a)({},c),{},{interval:E(gn(s),e)}))},b=function(e){o(Object(i.a)(Object(i.a)({},c),{},{interval:E(e,gn(d))}))},E=function(e,t){var n=e>t;return{startTime:(n?t:e).toISOString(),endTime:(n?e:t).toISOString()}},y=function(){var e=Object(U.a)(P.a.mark((function e(t){var n,a,r,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g({data:null,loading:!0,error:!1}),e.next=4,Promise.all([lt(t),ft(t.metricType)]);case 4:n=e.sent,a=Object(l.a)(n,2),r=a[0].timeSeriesResult,c=a[1].metricDescriptor,g({loading:!1,error:!1,data:{timeSeriesResult:r,metricDescriptor:c}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),g({loading:!1,error:!0,data:null});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){y(Object(i.a)({},c))}),[c.interval.startTime,c.interval.endTime]),{metricDataStatus:f,interval:c.interval,setEndTime:h,setStartTime:b,setInterval:v}},ja=n(616),Sa=n(627),Ha=n(628),Ca=function(e,t){var n=e.range(),a=Object(l.a)(n,2)[1],c=e.domain(),o=Object(l.a)(c,2),i=(o[0],o[1],function(e,t,n){return n<600?5:10}(0,0,a)),u=e.ticks(i);return t=t||{},r.a.createElement(Sa.a,Object.assign({},t,{scale:e,tickValues:u}))},ka=function(e,t){var n=e.range(),a=function(e){return e<500?5:10}(Object(l.a)(n,1)[0]),c=e.ticks(a);return t=t||{},r.a.createElement(Ha.a,Object.assign({},t,{scale:e,tickValues:c}))},Na=n(629),Aa=n(636);var Ta=n(324),Ia=n(659),Ra=n(653),Ma=n(637),Da=n(658),La=n(211),Pa=n.n(La),Ua=n(638),_a=n(210),Ga=n(639),Fa=function(e){for(var t="",n=0;n<e;n++){var a=Math.floor(Math.random()*(Math.floor(123)-Math.ceil(97)))+Math.floor(97);t+=String.fromCharCode(a)}return t},Wa=function(e){var t=e.number,n=void 0===t?1:t,r=Object(a.useState)(function(e){for(var t=[],n=0;n<e;n++)t.push(Fa(10));return t}(n)),c=Object(l.a)(r,1)[0];return{randoms:c,random:c[0]}},za=n(640),Ba=["#33B482","#F7DC6F","#004FFF","#F26CA7","#00F3F3","#E71D36","#C5D86D","#2C634E"],Ya=function(e,t,n){return!e.isMissing};function Va(e){var t=e.width,n=e.height,c=e.timeSeriesResult,o=e.metricDescriptor,i=e.dateScale,l=e.yScale,u=e.backgroundColor,s=Object(Ta.a)(),d=function(e){return Ba[e%Ba.length]};function m(e){var t=Object(Ra.a)(e),n=t.x,a=t.y;var r=gn(i.invert(n)),l=function(e){return c.timeSeries.reduce((function(t,n,a){var r=n.points[e];if(!r.isMissing){var i="NONE"===c.crossSeriesReducer?n.displayLabel:o.displayName,l="%"===c.unit?(100*r.value).toFixed(2)+"%":r.value+"";t.push({label:i,value:l,color:d(a)})}return t}),[])}(function(e){for(var t=c.timeSeries[0].points,n=t.length-1;n>=0;n--){var a=t[n].at;if(e.isSameOrBefore(a))return n}return 0}(r));s.showTooltip({tooltipData:{timestamp:r,legend:l},tooltipLeft:n,tooltipTop:a})}var p=Object(a.useMemo)((function(){var e=c.alignmentPeriod;return c.timeSeries.map((function(t){return t.points.reduce((function(t,n){var a={value:n.value,isMissing:n.isMissing,at:gn(n.at).subtract(e,"minutes")};return t.push(n),t.push(a),t}),[])}))}),[c]),f=function(e){return i(gn(e.at))},g=function(e){return l(e.value)},v=Wa({}).random,h="NONE"===c.crossSeriesReducer?p.map((function(e,t){return r.a.createElement(Ma.a,{x:f,y:g,data:e,key:t,defined:Ya,strokeWidth:2,stroke:d(t),curve:Ua.a})})):r.a.createElement(r.a.Fragment,null,r.a.createElement(Ga.a,{id:"area-gradient"+v,from:"lightgray",to:"lightgray",toOpacity:.3}),r.a.createElement(Da.a,{data:p[0],x:f,y:g,yScale:l,strokeWidth:3,defined:Ya,stroke:"url(#area-gradient"+v+")",fill:"url(#area-gradient"+v+")",curve:_a.a}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{width:t,height:n},r.a.createElement("rect",{x:0,y:0,width:t,height:n,fill:u}),r.a.createElement(za.a,{scale:l,width:t,strokeDasharray:"3,3",stroke:"lightgray",strokeOpacity:.3,pointerEvents:"none"}),h,r.a.createElement("rect",{x:0,y:0,width:t,height:n,fill:"transparent",onTouchStart:m,onTouchMove:m,onMouseMove:m,onMouseLeave:function(){return s.hideTooltip()}}),s.tooltipData&&r.a.createElement("g",null,r.a.createElement(Pa.a,{from:{x:s.tooltipLeft,y:0},to:{x:s.tooltipLeft,y:n},stroke:"#33B482",strokeWidth:2,pointerEvents:"none",strokeDasharray:"5,"}))),s.tooltipOpen&&r.a.createElement(Ia.a,{top:s.tooltipTop,left:s.tooltipLeft},r.a.createElement(Qa,{data:s.tooltipData})))}function Qa(e){var t=e.data;return r.a.createElement(B,{placeItems:"start",customRows:"auto 1fr",gridGap:".4em"},r.a.createElement(Re,{bold:!0},t.timestamp.format("ddd MMM DD, YYYY hh:mm A")),t.legend.map((function(e,t){var n=e.color,a=e.label,c=e.value;return r.a.createElement("div",{key:t,style:{padding:2}},r.a.createElement("span",{className:"round",style:{background:n}}),"\xa0",r.a.createElement("b",null,a,":"),"\xa0",c)})))}function qa(e){var t=e.height,n=e.width,a=e.timeSeriesResult,c=e.metricDescriptor,o=e.backgroundColor,i=function(e){var t=e.height,n=e.width,a={left:0,top:0,height:t,width:35},r={left:a.width,top:t-30,height:30,width:n-a.width-10};return{yAxis:a,xAxis:r,drawArea:{left:a.width,top:0,height:t-r.height,width:n-a.width-10}}}({height:t,width:n}),l=function(e,t){var n=t.interval,a=n.startTime,r=n.endTime,c=Object(Na.a)({domain:[gn(a),gn(r)],range:[0,e]}),o=function(){var e=c.tickFormat();return function(t){var n=gn.tz(t.toISOString(),En()),a=new Date(n.get("year"),n.get("month"),n.get("day"),n.get("hour"),n.get("minute"));return e(a)}}();return{scale:c,tickFormat:o}}(i.drawArea.width,a),u=function(e,t){var n=function(e){if("%"===e.unit)return[0,1.25];var t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;e.timeSeries.forEach((function(e){e.points.forEach((function(e){e.isMissing||(e.value<t&&(t=e.value),e.value>n&&(n=e.value))}))}));var a=(n-t)/10;return[t-a,n+a]}(t),a=Object(Aa.a)({domain:n,range:[e,0]}),r=function(){a.tickFormat();return function(e){return"%"!==t.unit?e+"":Math.round(100*e)+"%"}}();return{scale:a,tickFormat:r}}(i.drawArea.height,a),s=Ca(l.scale,{hideAxisLine:!0,tickStroke:"#33B482",tickLength:6,tickLabelProps:function(){return{fill:"#33B482",fontSize:12,textAnchor:"middle",fontWeight:"bold"}},tickFormat:l.tickFormat}),d=ka(u.scale,function(e){return{hideAxisLine:!0,tickStroke:"#33B482",tickLength:6,tickLabelProps:function(){return{fontWeight:"bold",textAnchor:"end",fill:"#33B482",fontSize:12,dy:5,dx:-2}},tickFormat:e}}(u.tickFormat)),m=r.a.createElement(Va,{backgroundColor:o,width:i.drawArea.width,height:i.drawArea.height,timeSeriesResult:a,metricDescriptor:c,dateScale:l.scale,yScale:u.scale});return r.a.createElement("div",{style:{height:t+"px",width:n+"px",position:"relative",backgroundColor:o}},r.a.createElement("svg",{style:{position:"absolute",top:i.yAxis.top,left:i.yAxis.left},width:i.yAxis.width,height:i.yAxis.height},r.a.createElement(ja.a,{left:i.yAxis.width},d)),r.a.createElement("svg",{style:{position:"absolute",top:i.xAxis.top,left:i.xAxis.left},width:i.xAxis.width,height:i.xAxis.height},r.a.createElement(ja.a,{left:0},s)),r.a.createElement("div",{style:{position:"absolute",top:i.drawArea.top,left:i.drawArea.left}},m))}var Ja,Xa=function(e){var t=e.editable,n=e.remove,c=e.backgroundColor,o=e.title,i=e.timeSeriesQuery,u="NONE"===i.crossSeriesReducer?"ALL":i.crossSeriesReducer,s=(function(e){"white"===e||e.toLowerCase()}(c),"#33B482"),d=Object(a.useState)(300),m=Object(l.a)(d,2),p=m[0],f=m[1],g=Object(a.useContext)(Ea).editMode,v=xa(i),h=v.metricDataStatus,b=v.interval,y=v.setInterval,O=Object(a.useRef)(null),x=p<100?r.a.createElement(Za,null):h.loading?r.a.createElement($a,null):h.error?r.a.createElement(er,null):h.data.timeSeriesResult?r.a.createElement(qa,{backgroundColor:c,height:300,width:p,timeSeriesResult:h.data.timeSeriesResult,metricDescriptor:h.data.metricDescriptor}):r.a.createElement(tr,null),j=function(){var e=O.current.clientWidth;f(e)};return Object(a.useEffect)(j,[null===O||void 0===O?void 0:O.current]),Object(a.useEffect)((function(){var e;return null===(e=window)||void 0===e||e.addEventListener("resize",j),function(){return window.removeEventListener("resize",j)}}),[]),r.a.createElement(E,{placeSelf:"stretch",shadow:!0,grid:!0,customCols:"1fr auto",bgColor:c,gridGap:"0 1em",className:"slide-up noselect"},r.a.createElement(w,{className:"grid",color:s,style:{gridColumn:"1/-1",width:"100%",gridTemplateColumns:"1fr auto auto",placeItems:"center start"},bold:!0,size:4},r.a.createElement(B,{mobileLayout:!1,customCols:"auto auto",gridGap:".5em",padding:".2em .5em",style:{borderRadius:"1em",textTransform:"capitalize",placeSelf:"start"}},r.a.createElement(w,{bold:!0,size:3.75},_t(o,25)),r.a.createElement(We,{bold:!0},u)),g?r.a.createElement(B,{gridGap:"0",placeItems:"stretch",cols:"2",className:"ant-dropdown-link rounded shadow",style:{background:t?"white":"gray",fontSize:"1.35em",border:"2px solid white"}},r.a.createElement("div",{className:t?"hover-txt":"",style:{color:t?"teal":"white",borderRight:"2px solid",padding:".1em .5em"}},r.a.createElement("i",{className:"fa fa-edit"})),r.a.createElement("div",{className:t?"hover-txt":"",onClick:function(){return t?n():{}},style:{color:t?"red":"white",padding:".1em  .5em"}},r.a.createElement("i",{className:"far fa-trash-alt"}))):r.a.createElement(ba,{interval:b,backgroundColor:"white",color:s,loading:h.error,hide:g,setInterval:y})),r.a.createElement("div",{style:{width:"100%",marginTop:"1em"},ref:O},r.a.createElement("div",{style:{height:"".concat(300,"px"),width:p+"px"}},x)))},Ka={height:"100%",width:"100%",textAlign:"center",lineHeight:"100px"},Za=function(){return r.a.createElement(Ye,{text:"Screen too Small"})},$a=function(){return r.a.createElement("div",{className:"grid",style:Object(i.a)({},Ka)},r.a.createElement("div",null,r.a.createElement(I.Spinner,null),r.a.createElement(w,{bold:!0},"Loading..")))},er=function(){return r.a.createElement("div",{style:Object(i.a)({},Ka)},r.a.createElement(Ye,{text:"Error Occured",style:{marginTop:"1em"}}))},tr=function(){return r.a.createElement("div",{style:Object(i.a)({},Ka)}," ",r.a.createElement(Ye,{text:"No Data Found",style:{marginTop:"1em"}}))},nr=n(649),ar=n(325),rr=n.n(ar),cr=n(641),or=n(642),ir=n(657),lr=n(255),ur=n(643),sr=function(e){return function(t){return r.a.createElement("div",null,r.a.createElement(e,null))}},dr={top:40,left:50,right:40,bottom:20},mr=Object(i.a)(Object(i.a)({},lr.b),{},{minWidth:60,backgroundColor:"rgba(0,0,0,0.9)",color:"white"}),pr=rr.a.slice(0,30),fr=Object.keys(pr[0]).filter((function(e){return"date"!==e})),gr=pr.reduce((function(e,t){var n=fr.reduce((function(e,n){return e+=Number(t[n])}),0);return e.push(n),e}),[]),vr=Object(ir.b)("%Y%m%d"),hr=Object(ir.a)("%b %d"),br=function(e){return e.date},Er=Object(Aa.a)({domain:[0,Math.max.apply(Math,Object(x.a)(gr))],nice:!0}),yr=Object(cr.a)({domain:pr.map(br),padding:.2}),Or=Object(or.a)({domain:fr,range:["#F7DC6F","#004FFF","#F26CA7","#00F3F3","#E71D36","#C5D86D","#2C634E"]}),wr=sr(Object(ur.a)((function(e){var t,n=e.width,a=e.height,c=e.background,o=e.events,i=void 0!==o&&o,l=e.margin,u=void 0===l?dr:l,s=e.tooltipOpen,d=e.tooltipLeft,m=e.tooltipTop,p=e.tooltipData,f=e.hideTooltip,g=e.showTooltip,v=n-u.left-u.right,h=a-u.top-u.bottom;return yr.rangeRound([0,v]),Er.range([h,0]),n<10?null:r.a.createElement("div",null,r.a.createElement("svg",{width:n,height:a},r.a.createElement("rect",{width:n,height:a,fill:c,rx:14}),r.a.createElement(ja.a,{top:u.top,left:u.left},r.a.createElement(nr.a,{data:pr,keys:fr,x:br,xScale:yr,yScale:Er,color:Or},(function(e){return e.map((function(e){return e.bars.map((function(t){return r.a.createElement("rect",{key:"barstack-horizontal-".concat(e.index,"-").concat(t.index),x:t.x,y:t.y,style:{borderRadius:"10em"},width:t.width,height:t.height,fill:t.color,onClick:function(){i&&alert("clicked: ".concat(JSON.stringify(t)))},onMouseLeave:function(){Ja=window.setTimeout((function(){f()}),300)},onMouseMove:function(){Ja&&clearTimeout(Ja);var e=t.y+u.top,n=t.x+t.width+u.left;g({tooltipData:t,tooltipTop:e,tooltipLeft:n})}})}))}))})),r.a.createElement(Ha.a,{hideAxisLine:!0,hideTicks:!0,scale:Er,stroke:"#33B482",tickStroke:"#33B482",tickLabelProps:function(){return{fill:"#33B482",fontSize:12,fontWeight:"bold",textAnchor:"end",dy:"0.33em"}}}))),r.a.createElement("div",{style:{position:"absolute",top:u.top/2-10,width:"100%",display:"flex",justifyContent:"center",fontSize:"14px"}}),s&&p&&r.a.createElement(lr.a,{top:m,left:d,style:mr},r.a.createElement("div",{style:{color:Or(p.key)}},r.a.createElement("strong",null,p.key)),r.a.createElement("div",null,p.bar.data[p.key],"\u2109"),r.a.createElement("div",null,r.a.createElement("small",null,(t=br(p.bar.data),hr(vr(t)))))))}))),xr=function(e,t,n){var a=function(e){return!1!==e.editable};switch(e.type){case"lineChart":return r.a.createElement(Xa,Object.assign({},e.lineChart,{editable:a(e),remove:t}));default:return r.a.createElement(wr,Object.assign({},e,{eId:n,editable:a(e),remove:t}))}},jr=n(128),Sr=n(326),Hr=n.n(Sr),Cr=n(212);function kr(){var e=Object(u.a)(["\n  font-size: 60px;\n  color: white;"]);return kr=function(){return e},e}var Nr=function(e){return e.charAt(0).toUpperCase()+e.substring(1).replace(/ /g,"&nbsp;")},Ar=r.a.forwardRef((function(e,t){var n=e.name,c=e.bg,o=e.editMode,i=e.remove,u=e.index,s=e.flatValueQuery,d=Object(a.useState)(0),m=Object(l.a)(d,2),p=m[0],f=m[1],g=Object(Bt.d)((function(e){return e.user.enterprise.id}));return Object(a.useEffect)((function(){It(g,s).then((function(e){if(!(null===e||void 0===e?void 0:e.success))throw new Error("Failed");f(e.flatValueResult.flatValue.value||0)})).catch((function(){return f("N/A")}))}),[]),r.a.createElement(E,{shadow:!0,hover:!0,height:"100%",className:"noselect",color:"white",style:{background:c,cursor:"pointer",backgroundSize:"cover"}},r.a.createElement("div",{className:"txt-center bold",style:{fontSize:".9em",color:"white",fontWeight:"bold"}},r.a.createElement("span",{style:{textShadow:"1px 1px gray"},dangerouslySetInnerHTML:{__html:String(Nr(n))}}),o?r.a.createElement("i",{className:"fa fa-trash right txt-shadow txt-md red",onClick:function(){return i(u)}}):r.a.createElement("i",{className:"fas fa-money-bill-alt right txt-shadow txt-md"})),r.a.createElement(Ir,{className:"grid-box bold"},"number"===typeof p?r.a.createElement(Hr.a,{duration:2,start:0,end:p}):p))})),Tr=function(e){var t=e.title,n=e.bg,a=e.selected,c=e.onClick,o=e.el,i=e.color;return r.a.createElement(E,{onClick:c,hover:!0,shadow:!0,grid:!0,width:"100%",padding:".5em",className:"noselect pointer",color:"white",style:{background:n,backgroundSize:"cover",fontSize:".9em"}},r.a.createElement(B,{bold:!0,className:"txt-center",size:3,color:i,customCols:"auto 1fr"},r.a.createElement(Cr.default.Group,{value:a?1:0},r.a.createElement(Cr.default,{value:1})),r.a.createElement("span",{dangerouslySetInnerHTML:{__html:String(Nr(t))}})),o)},Ir=s.b.div(kr()),Rr=n(644),Mr=n(331),Dr=n.n(Mr),Lr=n(332),Pr=n.n(Lr),Ur=function(e){var t=e.setType,n=e.type,a=[{id:"lineChart",label:"Line Chart",img:Dr.a},{id:"multiLineChart",label:"Multi Line Chart",img:Pr.a}];return r.a.createElement(B,{mobileCols:"auto auto",customCols:"auto auto auto"},a.map((function(e){var a=e.id,c=e.label,o=e.img;return r.a.createElement(Tr,{bg:"linear-gradient(-30deg, white 10%, white 100%)",el:r.a.createElement("img",{style:{maxHeight:"150px",minHeight:"100px",maxWidth:"30vw"},src:o}),onClick:function(){return t(a)},selected:a===n,color:"#33B482",title:c})})))},_r=function(e){var t,n,c,o,i,l=e.eId,u=e.isMulti,s=e.setGarageIds,d=e.chart,m=e.setMetricType,p=e.setTitle,f=e.setArgs,g=e.setAlignment,v=_n({eId:l}),h=v.garages,b=v.loading,E=$n.a.Option,y={style:{width:"400px",maxWidth:"70vw"}};return Object(a.useEffect)((function(){return g(60)}),[]),r.a.createElement("div",{style:{padding:".3em"}},r.a.createElement("div",{style:{marginBottom:"1em"}},r.a.createElement("div",{className:"txt-shadow  txt-left"},"Pick a name for your Graph:"),r.a.createElement(Bn.a,{placeholder:"Ex: Garage 1 Occupancy",onChange:function(e){return p(e.target.value.trim())}})),r.a.createElement("div",{style:{marginBottom:"1em"}},r.a.createElement("div",{className:"txt-shadow txt-left"},"Pick Garage(s)"),r.a.createElement($n.a,Object.assign({},y,{placeholder:"Select",mode:"multiple",value:d.timeSeriesQuery.resourceIds,onChange:function(e){return s(e)},loading:b}),h.map((function(e){var t=e.name,n=e.id;return r.a.createElement(E,{value:n},t)})))),r.a.createElement("div",{style:{marginBottom:"1em"}},r.a.createElement("div",{className:"txt-shadow txt-left"},"Pick Measurement"),r.a.createElement($n.a,Object.assign({},y,{placeholder:"Select",value:d.timeSeriesQuery.metricType,onChange:function(e){return m(e)},loading:b}),[{value:"garage_occupancy_count",label:"Garage Occupancy Count"},{value:"garage_occupancy_percent",label:"Garage Occupancy Percent"}].map((function(e){var t=e.label,n=e.value;return r.a.createElement(E,{className:"capitalize",value:n},t)})))),u&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{marginBottom:"1em"}},r.a.createElement("div",{className:"txt-shadow txt-left"},"Pick Argregators"),r.a.createElement($n.a,Object.assign({onChange:function(e){return f("AVERAGE"===e?"MEAN":e)}},y,{disabled:null===(null===d||void 0===d||null===(t=d.timeSeriesQuery)||void 0===t?void 0:t.alignment),value:(null===d||void 0===d||null===(n=d.timeSeriesQuery)||void 0===n||null===(c=n.alignment)||void 0===c?void 0:c.alignmentReducer)||null}),[{value:"MEAN",label:"Average"},{value:"MAX",label:"Max"},{value:"MIN",label:"Min"}].map((function(e){var t=e.label,n=e.value;return r.a.createElement(E,{value:n},t)})))),r.a.createElement("div",{style:{marginBottom:"1em"}},r.a.createElement("div",{className:"txt-shadow txt-left"},"Pick Interval"),r.a.createElement($n.a,Object.assign({onChange:function(e){return g(e)}},y,{defaultValue:60,value:(null===d||void 0===d||null===(o=d.timeSeriesQuery)||void 0===o||null===(i=o.alignment)||void 0===i?void 0:i.alignmentPeriod)||null}),[{value:null,label:"Auto"},{value:1440,label:"Daily"},{value:60,label:"Hourly"}].map((function(e){var t=e.value,n=e.label;return r.a.createElement(E,{value:t},n)}))))))},Gr=function(e){var t=e.finish,n=Object(a.useState)(0),c=Object(l.a)(n,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){var e=setInterval((function(){return i((function(e){return e+5}))}),300);return function(){return clearInterval(e)}}),[]),Object(a.useEffect)((function(){o>=100&&(t(),Rr.a.success("Your Changes was saved"))}),[o]),r.a.createElement(B,{width:"100%"},r.a.createElement(Gn.a,{percent:o,style:{width:400,maxWidth:"80vw"}}),r.a.createElement(Re,{bold:!0,color:"white"},o<30?"Creating ":"Setting up ","your Chart"))},Fr=function(e){var t=e.submit,n=e.close,c=e.eId,o=Object(a.useState)({step:0,completed:!1,type:"",selectedType:""}),u=Object(l.a)(o,2),s=u[0],d=u[1],m=function(e){return d(Object(i.a)(Object(i.a)({},s),e))},p={title:"",timeSeriesQuery:{metricType:"garage_occupancy_count",resourceIds:[],crossSeriesReducer:"SUM"},backgroundColor:"#FFFFFF",xAxisLabel:"T",yAxisLabel:"Occupancy"},f=Object(a.useState)({type:""}),g=Object(l.a)(f,2),v=g[0],h=g[1],b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.type,n=v[t]||{},a="lineChart"===s.selectedType?"SUM":"NONE",r=Object(jr.a)({type:t},t,Object(i.a)(Object(i.a)(Object(i.a)({},n),e),{},{crossSeriesReducer:a}));h(r)},E=function(e){var t=v[v.type].timeSeriesQuery;b({timeSeriesQuery:Object(i.a)(Object(i.a)({},t),e)})},y=[r.a.createElement(Ur,{setType:function(e){var t="multiLineChart"===e,n=t?"lineChart":e;m({completed:!0,type:n,selectedType:e}),p.timeSeriesQuery.crossSeriesReducer=t?"NONE":"SUM",b(p,n)},type:s.selectedType}),r.a.createElement(_r,Object.assign({isMulti:"multiLineChart"===s.selectedType,eId:c,setMetricType:function(e){return E({metricType:e})}},{chart:v[s.type]},{setTitle:function(e){b({title:e}),m({completed:e.length>0})},setArgs:function(e){var t=v[v.type].timeSeriesQuery.alignment;E({alignment:Object(i.a)(Object(i.a)({},t),{},{alignmentReducer:e})})},setAlignment:function(e){var t=v[v.type].timeSeriesQuery.alignment,n=null!==e?Object(i.a)(Object(i.a)({},t),{},{alignmentPeriod:e}):null;E({alignment:n})},setGarageIds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return E({resourceIds:e})}})),r.a.createElement(Gr,{finish:function(){t(v),n()}})];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,y[s.step]),r.a.createElement(B,{width:"100%",placeItems:"end"},r.a.createElement(J,{onClick:function(){s.step<y.length&&m({step:s.step+1,completed:!1})},shadow:!0,disabled:!s.completed},"Next \xa0",r.a.createElement("i",{className:"fa fa-chevron-right","aria-hidden":"true"})," ")))},Wr=function(e){var t=Ae({title:"Create Your Chart",hideCancel:!0,message:r.a.createElement(Fr,Object.assign({close:function(){return t.close()}},e))});return r.a.createElement(E,{bgColor:"lightgray",style:{boxSizing:"border-box"},width:"95%",grid:!0,shadow:!1,placeSelf:"start"},r.a.createElement(J,{rounded:!0,minWidth:"1.5em",minHeight:"1.5em",padding:".7em .5em",onClick:t.open},r.a.createElement("i",{className:"fa fa-plus"})))},zr=function(e){var t=e.eId,n=e.screen,r=e.resource,c=void 0===r?"":r,o=Object(a.useState)({charts:[],scoreCards:[],scoreCardOptions:[],dId:"",loading:!1,error:!1}),u=Object(l.a)(o,2),s=u[0],d=u[1],m=function(e){return d(Object(i.a)(Object(i.a)({},s),e))},p=function(){var e=Object(U.a)(P.a.mark((function e(t){var a,r,o,i,l,u,s,d,p,f;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return Nt(t)},errorMessage:"Failed: Loading Charts"});case 3:return r=e.sent,e.next=6,Un({apiCall:function(){return Tt(t,c)},errorMessage:"Failed: Loading Score Cards"});case 6:o=e.sent,i=null===r||void 0===r||null===(a=r.dashboards)||void 0===a?void 0:a.filter((function(e){return e.screen===n})),l=i[0]||[],u=l.scoreCards,s=void 0===u?[]:u,d=l.charts,p=void 0===d?[]:d,f=l.id,m({loading:!1,error:(null===r||void 0===r||r.success,!1),scoreCards:s,scoreCardOptions:o.metricDescriptors||[],dId:f,charts:p});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(U.a)(P.a.mark((function e(n){var a,r,c,o;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.scoreCards,r=void 0===a?s.scoreCards:a,c=n.charts,o=void 0===c?s.charts:c,e.next=3,Un({apiCall:function(){return At(t,s.dId,{charts:o,scoreCards:r})},errorMessage:"Could not Edit Widgets",successMessage:"Widget was Edited"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){p(t)}),[t]),Object(i.a)(Object(i.a)({},s),{},{getWidgets:p,removeChart:function(e){var t=s.charts.filter((function(t,n){return n!==e}));m({charts:t}),f(Object(i.a)({},{charts:t}))},removeScoreCard:function(e){var t=s.scoreCards.filter((function(t,n){return n!==e}));m({scoreCards:t}),f({scoreCards:t})},addWidget:function(e){var t=[].concat(Object(x.a)(s.charts),[e]);m({charts:t}),f(Object(i.a)({},{charts:t}))},editScoreCards:function(e){e!==s.scoreCards&&(m({scoreCards:e}),f({scoreCards:e}))},saveWidgets:f})},Br=function(){var e=Object(Bt.d)((function(e){return e.user.enterprise.id})),t=zr({eId:e,screen:"garage",resource:"garage"}),n=t.charts,c=t.loading,o=t.addWidget,i=t.removeChart;return r.a.createElement(B,{placeItems:"start stretch",background:d,padding:"1em",height:"100%"},r.a.createElement(B,{cols:"2"},ua({loading:c,loader:r.a.createElement(ce,{lines:7,number:4,style:{maxWidth:"500px",minHeight:"400px",minWidth:"100%"}}),list:n,map:function(t,n){return r.a.createElement(a.Fragment,{key:n},xr(t,(function(){return i(n)}),e))}}),!c&&r.a.createElement(Wr,{eId:e,submit:function(e){return o(e)}})))},Yr=n(81),Vr=n.n(Yr),Qr=n(646),qr=[{title:"Time",dataIndex:"sun"},{title:"Sunday",dataIndex:"sun"},{title:"Monday",dataIndex:"mon"},{title:"Tuesday",dataIndex:"tue"},{title:"Wednesday",dataIndex:"wed"},{title:"Thrusday",dataIndex:"thur"},{title:"Friday",dataIndex:"fri"},{title:"Saturday",dataIndex:"sat"}],Jr=function(e){var t=Object(l.a)(e.startHour,2),n=t[0],a=t[1],r=Object(l.a)(e.endHour,2),c=r[0],o=r[1],i=n>=12?"PM":"AM";return"".concat(Kr(n),":").concat(Xr(a)+i," -\n ").concat(Kr(c),":").concat(Xr(o)+i)},Xr=function(e){return String(e<10?"0".concat(e):e)},Kr=function(e){return Xr(function(e){return Math.abs(e-12!==0?e-12:12)}(e))},Zr=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t,n){};return qr.map((function(n){var a=n.title,c=n.dataIndex;return{title:"Time"!==a?a:r.a.createElement("div",null,a," \xa0\xa0 ",r.a.createElement("i",{className:"fa fa-clock"})),dataIndex:c,key:c,render:function(n,o,l){var u=Math.floor(100*n.occupancy);return"Time"!==a?e?r.a.createElement(ea.a,{className:"".concat(c," ").concat(l),min:0,max:100,style:{placeSelf:"end",width:"60px"},defaultValue:u,onChange:function(e){return t(c,l,Object(i.a)(Object(i.a)({},n),{},{occupancy:Math.floor(e/100)}))},precision:0,name:"maxOccupancy"}):"".concat(u,"%"):r.a.createElement("b",null,Jr(n.interval))}}}))},$r=n(652),ec={title:"",table:{sun:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.2},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.1},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.1},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.1},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.1},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.1},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.1},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.1},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.1},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.1},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.1},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.1},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],mon:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.5},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.9},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.9},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.9},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.9},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.9},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.9},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.9},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.9},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.9},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.5},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],tue:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.5},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.9},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.9},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.9},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.9},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.9},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.9},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.9},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.9},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.9},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.5},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],wed:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.5},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.9},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.9},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.9},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.9},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.9},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.9},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.9},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.9},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.9},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.5},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],thur:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.5},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.9},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.9},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.9},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.9},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.9},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.9},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.9},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.9},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.9},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.5},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],fri:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.5},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.9},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.9},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.9},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.9},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.9},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.9},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.9},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.9},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.9},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.5},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}],sat:[{interval:{startHour:[0,0],endHour:[0,59]},occupancy:.1},{interval:{startHour:[1,0],endHour:[1,59]},occupancy:.1},{interval:{startHour:[2,0],endHour:[2,59]},occupancy:.1},{interval:{startHour:[3,0],endHour:[3,59]},occupancy:.1},{interval:{startHour:[4,0],endHour:[4,59]},occupancy:.1},{interval:{startHour:[5,0],endHour:[5,59]},occupancy:.1},{interval:{startHour:[6,0],endHour:[6,59]},occupancy:.1},{interval:{startHour:[7,0],endHour:[7,59]},occupancy:.1},{interval:{startHour:[8,0],endHour:[8,59]},occupancy:.1},{interval:{startHour:[9,0],endHour:[9,59]},occupancy:.1},{interval:{startHour:[10,0],endHour:[10,59]},occupancy:.1},{interval:{startHour:[11,0],endHour:[11,59]},occupancy:.1},{interval:{startHour:[12,0],endHour:[12,59]},occupancy:.1},{interval:{startHour:[13,0],endHour:[13,59]},occupancy:.1},{interval:{startHour:[14,0],endHour:[14,59]},occupancy:.1},{interval:{startHour:[15,0],endHour:[15,59]},occupancy:.1},{interval:{startHour:[16,0],endHour:[16,59]},occupancy:.1},{interval:{startHour:[17,0],endHour:[17,59]},occupancy:.1},{interval:{startHour:[18,0],endHour:[18,59]},occupancy:.1},{interval:{startHour:[19,0],endHour:[19,59]},occupancy:.1},{interval:{startHour:[20,0],endHour:[20,59]},occupancy:.1},{interval:{startHour:[21,0],endHour:[21,59]},occupancy:.1},{interval:{startHour:[22,0],endHour:[22,59]},occupancy:.1},{interval:{startHour:[23,0],endHour:[23,59]},occupancy:.1}]}},tc=function(e){if(!(null===e||void 0===e?void 0:e.table))return[];var t=new Array(24);return Object.keys(e.table).map((function(n){e.table[n].map((function(e,a){t[a]=Object(i.a)(Object(i.a)({},t[a]),Object(jr.a)({},n,e))}))})),t},nc=function(e){var t=e.action,n=e.close,c=e.initialValues,o=Object(a.useRef)(null),i=Object.keys(c.table),l=function(){var e,t;return(null===o||void 0===o||null===(e=o.current)||void 0===e||null===(t=e.state)||void 0===t?void 0:t.value)||c.title},u=function(e){return e.reduce((function(e,t){var n=s(t),a=c.table[t].map((function(e,t){return{interval:e.interval,occupancy:n[t]}}));return e[t]=a,e}),{})},s=function(e){var t=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);return t}(document.getElementsByClassName(e));return t.sort((function(e,t){return Number(e.classList[1])-Number(t.classList)})),t.map((function(e){var t,n=null===e||void 0===e?void 0:e.children[1],a=(null===n||void 0===n||null===(t=n.children[0])||void 0===t?void 0:t.value)||"0";return Number(a)/100}))};return r.a.createElement(B,{placeItems:"stretch",width:"100%",height:"100%",gridGap:"0",background:"white",padding:".5em .8em 1em .8em"},r.a.createElement("div",{style:{padding:".5em"}},r.a.createElement(Re,{textAlign:"left",bold:!0},"Enter the Name of your Table"),r.a.createElement(Bn.a,{placeholder:"Ex: New Table 1",name:"title",ref:o,defaultValue:c.title})),r.a.createElement("div",{style:{overflowY:"scroll",maxHeight:"75vh"}},r.a.createElement(Qr.a,{bordered:!0,pagination:!1,key:1e3*Math.random(),style:{color:"#33B482",maxWidth:"100%"},dataSource:tc(c),columns:Zr(!0,0)})),r.a.createElement("div",null,r.a.createElement(J,{onClick:n},"Cancel"),r.a.createElement(J,{onClick:function(){t({title:l(),id:c.id,table:u(i)}),n()}},"Submit")))},ac=function(e){var t=e.active,n=e.select,a=e.table,c=e.remove,o=e.open;return r.a.createElement("div",{style:{placeSelf:"start stretch"}},r.a.createElement($r.b.Item,{className:"pointer",onClick:n},r.a.createElement(Pe,{fullWidth:!0,active:t,style:{margin:"auto"}},r.a.createElement(B,{width:"100%",color:"inherit",customCols:"auto 1fr auto"},r.a.createElement("i",{className:"fa fa-table txt-lg",style:{padding:".35em"}}),a.title,r.a.createElement("span",null,r.a.createElement(ga.a,{style:{padding:".4em",color:t?"inherit":"white"},title:"Are you sure",onConfirm:function(){return c(a.id)}},r.a.createElement("i",{className:"fa fa-trash hoverr",style:{color:t?"inherit":"white"}})),"\xa0   \xa0",r.a.createElement("i",{className:"fa fa-edit hoverr",onClick:o,style:{color:t?"inherit":"white"}}))))))},rc=function(e){var t=e.add,n=e.remove,a=e.selected,c=e.select,o=e.edit,i=e.tables,l=e.loading,u=e.localeProps,s=(Object(Bt.d)((function(e){return e.user.enterprise.id})),Ae({title:"Add Your Occupancy Table",message:r.a.createElement(nc,{action:t,close:function(){return s.close()},initialValues:ec}),hideCancel:!0}));return r.a.createElement(E,{shadow:!0,width:"400px",grid:!0,customRows:"auto 1fr",placeItems:"stretch"},r.a.createElement(w,{bold:!0,width:"100%",size:3},"Occupancy Tables",r.a.createElement(J,{style:{placeSelf:"end",fontSize:".6em",float:"right"},rounded:!0,shadow:!0,onClick:s.open,minWidth:"4.5em"},r.a.createElement("i",{className:"fa fa-".concat("plus")})," Add")),r.a.createElement($r.b,Object.assign({},u,{bordered:!l,dataSource:i,renderItem:function(e,t){return r.a.createElement(ac,{select:function(){return c(t)},active:t===a,table:e,remove:n,open:function(){return function(e){var t=Ae({title:"Edit Your Occupancy Table",message:r.a.createElement(nc,{action:o,initialValues:e,close:function(){return t.close()}}),hideCancel:!0});t.open()}(i[t])}})}})))},cc=function(){var e=Object(Bt.d)((function(e){return e.user.enterprise.id})),t=sa({eId:e}),n=t.tables,c=t.loading,o=t.addTable,i=t.editTable,u=t.removeTable,s=Object(a.useState)(0),m=Object(l.a)(s,2),p=m[0],f=m[1],g={locale:{emptyText:r.a.createElement(Ye,{text:"No Occupancy Table"})},loading:{spinning:c,indicator:r.a.createElement(B,null,r.a.createElement(I.Spinner,{size:2,color:"#33B482"}))}};return Object(a.useEffect)((function(){return f(0)}),[n]),r.a.createElement(B,{placeItems:"start stretch",background:d,padding:"1em",height:"100%"},r.a.createElement(B,{customCols:"auto 1fr",height:"100%",placeItems:"stretch"},r.a.createElement(rc,{add:o,localeProps:g,tables:n,remove:u,loading:c,edit:i,select:f,selected:p}),r.a.createElement(E,{shadow:!0,width:"100%",style:{overflow:"scroll",maxHeight:"75vh"}},r.a.createElement(Qr.a,Object.assign({bordered:!0},g,{pagination:!1,key:1e3*Math.random(),style:{color:"#33B482",maxWidth:"90vw"},dataSource:tc(n[p]||[]),columns:Zr()})))))};function oc(){var e=Object(u.a)(["\n    font-size: 60px;\n    color: white;"]);return oc=function(){return e},e}var ic=s.b.div(oc()),lc=function(e){var t=e.currentScoreCard,n=e.setCurrent,c=e.options,o=e.close,i=Object(a.useState)([]),u=Object(l.a)(i,2),s=u[0],d=u[1],m=5-t.length-s.length,p=function(e,t){return e.reduce((function(e,n){return e||n.title===t.displayName}),!1)},f=c.filter((function(e){return!p(t,e)})),g=function(e){return{title:e.displayName,icon:"",flatValueQuery:{metricType:e.type},backgroundColor:"linear-gradient(-30deg, #1ecb7d 10%, rgba(30, 203, 180, 0.7) 100%)"}};return r.a.createElement("div",null,r.a.createElement(Re,{bold:!0,color:"#33B482",textAlign:"center"},"Select ",m," more Score Cards"),r.a.createElement(B,{customCols:"repeat(4, auto)",gridGap:".6em"},ua({emptyText:"No More Options",list:f,map:function(e){var t=e.displayName,n=e.backgroundColor,a=p(s,e);return r.a.createElement(Tr,{onClick:function(){return a?(t=e,d(s.filter((function(e){return e.title!==t.displayName})))):function(e){return d([].concat(Object(x.a)(s),[g(e)]))}(e);var t},title:t,key:t,el:r.a.createElement(ic,{className:"grid-box bold"},"10"),value:10,color:"white",bg:n||"linear-gradient(-30deg, #1ecb7d 10%, rgba(30, 203, 180, 0.7) 100%)",selected:a})}})),r.a.createElement(J,{shadow:!0,onClick:function(){return n([].concat(Object(x.a)(t),Object(x.a)(s))),void o()}},"Confirm"),r.a.createElement(J,{shadow:!0,onClick:function(){d(t),o()}},"Cancel"))},uc=n(196),sc=n(224),dc=function(e){Object(Qt.a)(n,e);var t=Object(qt.a)(n);function n(e){var a;return Object(Yt.a)(this,n),(a=t.call(this,e)).onDragEnd=a.onDragEnd.bind(Object(uc.a)(a)),a}return Object(Vt.a)(n,[{key:"onDragEnd",value:function(e){if(e.destination){var t=function(e,t,n){var a=Array.from(e),r=a.splice(t,1),c=Object(l.a)(r,1)[0];return a.splice(n,0,c),a}(this.props.items,e.source.index,e.destination.index);this.props.setItems(t)}}},{key:"render",value:function(){var e=this;return r.a.createElement(sc.a,{onDragEnd:this.onDragEnd},r.a.createElement(sc.c,{direction:"horizontal",droppableId:"droppable"},(function(t){return r.a.createElement("div",Object.assign({className:"grid mobile-panel",style:{gridTemplateColumns:"repeat(5, 1fr)",width:"100%",placeItems:"stretch",height:"100%",minHeight:"150px"}},t.droppableProps,{ref:t.innerRef}),e.props.items.map((function(t,n){if(!t)return null;var a=t.title,c=t.backgroundColor;return r.a.createElement(sc.b,{key:JSON.stringify(t),draggableId:JSON.stringify(t),index:n},(function(o,i){return r.a.createElement("div",Object.assign({ref:o.innerRef},o.draggableProps,o.dragHandleProps),r.a.createElement(Ar,{name:a,value:10,flatValueQuery:t.flatValueQuery,bg:c,editMode:e.props.editMode,remove:e.props.remove,index:n}))}))})),t.placeholder,e.props.children)})))}}]),n}(a.Component),mc=function(e){var t=e.scoreCards,n=e.editScoreCards,c=e.scoreCardOptions,o=e.loading,i=e.removeScoreCard,l=Object(a.useContext)(Ea).editMode,u=Ae({title:"Add",hideCancel:!0,message:r.a.createElement(lc,{currentScoreCard:t,close:function(){return null===u||void 0===u?void 0:u.close()},setCurrent:n,options:c||[]})});return r.a.createElement("div",{className:"slide-up",style:{background:d,width:"100%",gridColumn:"1/-1",padding:".2em .5em"}},r.a.createElement(dc,{items:t,setItems:n,remove:i,editMode:l},t.length<5&&r.a.createElement(E,{bgColor:"lightgray",grid:!0,shadow:!1},r.a.createElement(J,{rounded:!0,grid:!0,minWidth:"1.5em",minHeight:"1.5em",padding:".4em .3em",disabled:o,onClick:u.open},r.a.createElement("i",{className:o?"fa fa-spinner spin":"fa fa-plus"})))))},pc={ANALYTICS:"ANALYTICS",LISTINGS:"LISTINGS",OCCUPANCY:"OCCUPANCY"},fc=function(){var e=Object(a.useState)(pc.ANALYTICS),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useContext)(Ea),i=o.editMode,u=o.toggleEditMode,s=Object(Bt.d)((function(e){return e.user.enterprise.id})),d=zr({eId:s,screen:"garage",resource:"garage"}),m=d.loading,p=d.scoreCards,f=d.scoreCardOptions,g=d.editScoreCards,v=d.removeScoreCard,h={maxWidth:"1500px",minWidth:"85%"};return r.a.createElement(Pn,{sidebar:!0,background:Vr.a},r.a.createElement(B,{className:"left-on-desktop",style:{minHeight:"100vh"},width:"100%",placeItems:"start center",customRows:"auto 1fr"},r.a.createElement(B,{mobileLayout:!1,customCols:"auto 1fr auto",style:h},r.a.createElement("div",null),r.a.createElement(Me,{style:{placeSelf:"stretch center"},items:Object.keys(pc),onClick:function(e){return c(e)},active:n}),r.a.createElement(J,{rounded:!0,shadow:!0,onClick:u,minWidth:"4.5em"},r.a.createElement("i",{className:"fa fa-".concat(i?"check":"edit")}))),r.a.createElement(B,{placeItems:"start stretch",height:"100%",customRows:"auto 1fr",style:h},r.a.createElement(mc,{loading:m,eId:s,removeScoreCard:v,editScoreCards:g,scoreCards:p,scoreCardOptions:f}),n===pc.LISTINGS?r.a.createElement(da,null):n===pc.ANALYTICS?r.a.createElement(Br,null):r.a.createElement(cc,null))))},gc=n(343),vc=n.n(gc),hc=function(){var e=Object(U.a)(P.a.mark((function e(t){var n,a,r=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]&&r[1],e.prev=1,e.next=4,t();case 4:if((a=e.sent)&&a.success){e.next=7;break}throw new Error(a.message||"Error");case 7:return e.next=9,a;case 9:return e.abrupt("return",e.sent);case 12:e.prev=12,e.t0=e.catch(1),n&&be({title:"Error: Annoucement",message:String((null===e.t0||void 0===e.t0?void 0:e.t0.message)||e.t0)}),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),bc={title:"",body:"",status:"active",launchAt:gn().toISOString(),expiresAt:null},Ec=function(e){var t=e.add,n=e.close,c=e.initialValues,o=void 0===c?bc:c,i=Object(a.useState)(!1),u=Object(l.a)(i,2),s=u[0],d=u[1],m=Object(Kn.a)({initialValues:o,onSubmit:function(e){h(e)}}),p=m.handleSubmit,f=m.handleChange,g=m.values,v=m.setFieldValue,h=function(){var e=Object(U.a)(P.a.mark((function e(a){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,d(!0),e.next=4,t(a);case 4:n(),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:return e.prev=9,d(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[0,7,9,12]])})));return function(t){return e.apply(this,arguments)}}(),b=!g.launchAt||!g.body||!g.title;return r.a.createElement("form",{onSubmit:p,className:"grid",style:{padding:".5em 1em",height:"100%",width:"100%",placeItems:"center stretch",gridGap:".4em",background:"white"}},r.a.createElement("div",null,r.a.createElement(Re,{textAlign:"left",bold:!0},"Annoucement Title"),r.a.createElement(Bn.a,{name:"title",value:g.title,onChange:f,placeholder:"Example: SJSU Graduation Ceramony"})),r.a.createElement("div",null,r.a.createElement(Re,{textAlign:"left",bold:!0},"Annoucement Message"),r.a.createElement(Bn.a.TextArea,{name:"body",value:g.body,onChange:f,placeholder:"Example: Information on the Event"})),r.a.createElement("div",{className:"grid",style:{placeItems:"end"}},r.a.createElement(Re,{textAlign:"left",placeSelf:"stretch",bold:!0},"Message Launch Date"),r.a.createElement(va.a,{use12Hours:!0,showTime:{format:"hh:mm a"},format:"YYYY-MM-DD hh:mm A",minuteStep:15,value:gn(g.launchAt),onChange:function(e){e&&v("launchAt",e.toISOString())}})),r.a.createElement("div",{className:"grid",style:{placeItems:"end"}},r.a.createElement(Re,{textAlign:"left",placeSelf:"stretch",bold:!0},"Message Expiry Date"),r.a.createElement(va.a,{use12Hours:!0,showTime:{format:"hh:mm a"},format:"YYYY-MM-DD hh:mm A",minuteStep:15,value:g.expiresAt?gn(g.expiresAt):null,onChange:function(e){return v("expiresAt",(null===e||void 0===e?void 0:e.toISOString())||null)}})),r.a.createElement(B,{cols:"2",size:"0.7em",placeItems:"stretch"},r.a.createElement(J.Normal,{type:"submit",disabled:s,onClick:function(){return n()}},"Cancel"),s?r.a.createElement(J,{loading:!0,disabled:!0},"Loading"):r.a.createElement(J.Normal,{type:"submit",disabled:b,onSubmit:function(e){return p(e)}},"Confirm")))},yc=n(645),Oc=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return[{title:"Title",dataIndex:"title",key:"title",render:function(e){return e}},{title:"Message",dataIndex:"body",key:"body"},{title:"Status",dataIndex:"status",render:function(e){return r.a.createElement(We,{className:"shadow txt-center",style:{background:"expired"===e?"red":""}},e)}},{title:"Launch Date",key:"launchAt",dataIndex:"launchAt",render:function(e){return gn(e).format("YYYY-MM-DD hh:mm A")}},{title:"Expiry Date",key:"expiresAt",dataIndex:"expiresAt",render:function(e){return e?gn(e).format("YYYY-MM-DD hh:mm A"):"n/a"}},{title:"Action",key:"action",render:function(a,c){return r.a.createElement(yc.a,{size:"middle"},r.a.createElement(J,{shadow:!0,disabled:n,loading:n,onClick:function(){return e(c)}},r.a.createElement("i",{className:"fa fa-edit"})," \xa0Edit"),r.a.createElement(ga.a,{title:"Are you sure",onConfirm:function(){return t(c)}},r.a.createElement(J,{shadow:!0,bg:"red",disabled:n,loading:n},r.a.createElement("i",{className:"fa fa-trash"})," \xa0Delete")))}}]};function wc(){var e=Object(u.a)(["\n  @media (max-width: ",") {\n    overflow-x: scroll;\n  }\n"]);return wc=function(){return e},e}var xc={emptyText:r.a.createElement(Ye,{text:"No Annoucement"})},jc={ACTIVE:"ACTIVE",ALL:"ALL",EXPIRED:"EXPIRED",DEFAULT:"ACTIVE",states:["ACTIVE","ALL","EXPIRED"]},Sc=s.b.div(wc(),"860px"),Hc=function(e){return r.a.createElement(B,{customCols:"3fr 2fr",width:"100%",height:"100%",gridGap:"0"},r.a.createElement("div",{style:{background:"#33B482",height:"100%",padding:"1em",width:"100%"}},r.a.createElement("img",{src:vc.a,style:{maxWidth:"300px"}})),r.a.createElement(Ec,e))},Cc=function(){var e=Object(Bt.d)((function(e){return e.user.enterprise.id})),t=Object(Bt.d)((function(e){return e.announcement.announcements})),n=Object(Bt.c)(),c=Object(Bt.d)((function(e){return e.announcement.loadingAction})),o=Object(Bt.d)((function(e){return e.announcement.loadingAnnouncements})),u=Object(a.useState)({active:jc.DEFAULT}),s=Object(l.a)(u,2),m=s[0],p=s[1],f=function(t){return n((a=e,r=t,function(){var e=Object(U.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:tn}),e.next=3,hc((function(){return kt(a,r.id,r)}),!0);case 3:(n=e.sent)&&n.success?(t({type:an,payload:{announcement:r}}),ve({title:"Success",message:"Your Announcement was Edited"})):t({type:nn});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a,r},g=Ae({title:"Add Your Event",message:r.a.createElement(Hc,{add:function(t){return n((a=e,r=t,function(){var e=Object(U.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,hc((function(){return Ht(a,r)}),!0);case 2:(n=e.sent)&&n.success?(t({type:rn,payload:{announcement:Object(i.a)(Object(i.a)({},r),{},{id:n.announcementId})}}),ve({title:"Success",message:"Your Announcement was added"})):t({type:nn});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a,r},close:function(){return g.close()}}),hideCancel:!0}),v=t.filter((function(e){return e.status.toUpperCase()===m.active||m.active===jc.ALL}));return Object(a.useEffect)((function(){var t;e&&n((t=e,function(){var e=Object(U.a)(P.a.mark((function e(n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({type:on}),e.next=3,hc((function(){return St(t)}),!0);case 3:(a=e.sent)&&a.success?n({type:ln,payload:{announcements:null===a||void 0===a?void 0:a.announcements}}):n({type:un});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}),[e]),r.a.createElement(Pn,{sidebar:!0,background:Vr.a},r.a.createElement(B,{gridGap:"0",className:"left-on-desktop",placeItems:"start center"},r.a.createElement(J,{style:{placeSelf:"end"},rounded:!0,padding:".2em",shadow:!0,onClick:function(){return g.open()},minWidth:"4.5em"},r.a.createElement("i",{className:"fa fa-".concat("plus")})," Add"),r.a.createElement(B,{placeItems:"start stretch",background:d,padding:"1em",margin:"1em 0",height:"100%"},r.a.createElement(Me,{active:m.active,items:jc.states,onClick:function(e){return p(Object(i.a)(Object(i.a)({},m),{},{active:e}))}}),r.a.createElement(E,{shadow:!0,minWidth:"60vw"},r.a.createElement(Sc,null,r.a.createElement(Qr.a,{locale:xc,key:1e3*Math.random(),loading:o,style:{color:"#33B482",maxWidth:"90vw"},dataSource:v,columns:Oc((function(e){var t=Ae({title:"Edit Your Event",message:r.a.createElement(Hc,{add:f,initialValues:e,close:function(){return t.close()}}),hideCancel:!0});t.open()}),(function(t){return n((a=e,r=t,function(){var e=Object(U.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:tn}),e.next=3,hc((function(){return Ct(a,r.id)}),!0);case 3:(n=e.sent)&&n.success?(t({type:cn,payload:{announcement:r}}),ve({title:"Success",message:"Your Announcement was deleted"})):t({type:nn});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var a,r}),c),summary:function(e){return r.a.createElement(Qr.a.Summary.Row,{key:1e3*Math.random(),className:"bold",style:{color:"#33B482"}},r.a.createElement("br",null),"Total Annoucements: ",e.length)}}))))))},kc=n(248),Nc=n.n(kc),Ac=n(344),Tc=n.n(Ac),Ic=function(){return Object(a.useEffect)((function(){he({title:"Warning",message:"Page Under Construction"})}),[]),r.a.createElement(Pn,{sidebar:!0},r.a.createElement(B,{padding:"6em 2em"},r.a.createElement("img",{src:Tc.a,style:{maxWidth:"80vw"},alt:"citation"})))},Rc=n(345),Mc=n.n(Rc),Dc=function(){return r.a.createElement(Pn,{sidebar:!0},r.a.createElement(B,{padding:"6em 2em"},r.a.createElement("img",{src:Mc.a,style:{maxWidth:"80vw"}})))},Lc=n(346),Pc=n.n(Lc),Uc=function(){return r.a.createElement(Pn,{sidebar:!0},r.a.createElement(B,{padding:"6em 2em"},r.a.createElement("img",{src:Pc.a,style:{maxWidth:"80vw"},alt:"profile"})))},_c=n(347),Gc=n.n(_c),Fc=n(348),Wc=n(349),zc=n.n(Wc),Bc=function(e){e.login;var t=e.className,n=(e.ref,Object(a.useState)({})),c=Object(l.a)(n,2),o=(c[0],c[1],function(e){});return r.a.createElement("div",{className:t},r.a.createElement(zc.a,{render:function(e){return r.a.createElement(J,{invert:!0,onClick:e.onClick},r.a.createElement("i",{className:"fab fa-facebook-square"}),"\xa0 Signup With Facebook")},appId:"1088597931155576",fields:"name,email,picture",onClick:o,callback:o}))},Yc=function(e){e.login;var t=e.className,n=Object(a.useState)({}),c=Object(l.a)(n,2);c[0],c[1];return r.a.createElement("div",{className:t},r.a.createElement(Fc.GoogleLogin,{render:function(e){return r.a.createElement(J,{invert:!0,onClick:e.onClick},r.a.createElement("i",{className:"fab fa-google"}),"\xa0 Signup With Google")},clientId:"432904370571-10sna4o5st6k2aee0q3p09bt05qjgbng.apps.googleusercontent.com",buttonText:"Login with Google",onSuccess:function(e){},onFailure:console.log,cookiePolicy:"single_host_origin"}))},Vc=function(){return r.a.createElement(B,{height:"100%",padding:"3em",background:"linear-gradient(to right top, #0bc062, #00b78b, #00aba7, #009cb4, #0d8cb0);"},r.a.createElement("img",{src:Gc.a,style:{width:"500px",maxWidth:"40vw"}}),r.a.createElement(B,{cols:"2"},r.a.createElement(Bc,null),r.a.createElement(Yc,null)))},Qc=[{id:"email",label:"Your email",placeholder:"Example: John.Doe@parkstash.com",hide:!1},{id:"authSecret",label:"Your Password",placeholder:"Example: \u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",hide:!0}],qc=Xn.b({email:Xn.d().required("Required!").email(),authSecret:Xn.d().required("Required!").min(6,"Password must contain at least 6 characters")}),Jc=Object(Bt.b)((function(e){return{garages:e.garages}}),{})((function(e){var t=e.passwordForgotToggler,n=e.loading,a=Object(Bt.c)(),c=Object(Kn.a)({initialValues:{email:"",authSecret:"",authType:"password"},onSubmit:function(e){var t;a((t=e,function(){var e=Object(U.a)(P.a.mark((function e(n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Gt((function(){return mt(t)}),n,!0,1500);case 3:(a=e.sent)&&a.success&&n({type:_e.LOGIN,user:Ft(a.user),token:a.authToken});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},validationSchema:qc}),o=c.handleSubmit,i=c.handleChange,l=c.values,u=c.errors,s=Qc.reduce((function(e,t){var n=t.id;return e||Boolean(u[n])}),!1);return r.a.createElement("form",{onSubmit:o,className:"shake",style:{display:"grid",paddingTop:"2em",width:"100%",placeItems:"center stretch",gridGap:".4em"}},Qc.map((function(e){var t=e.id,a=e.placeholder,c=e.label,o=e.hide;return r.a.createElement("div",{style:{paddingTop:".5em"},key:t},r.a.createElement(Re,{textAlign:"left",bold:!0},c," ",r.a.createElement("span",{className:"red"},"*")),r.a.createElement(Bn.a,{disabled:n,type:o?"password":"text",name:t,value:l[t],onChange:i,placeholder:a}))})),n?r.a.createElement(J,{loading:!0,disabled:!0},"Loading"):r.a.createElement(J.Normal,{type:"submit",disabled:s,onSubmit:function(e){return o(e)}},"Confirm"),r.a.createElement("div",null,r.a.createElement("span",{className:"pointer hover-bold",onClick:t},"Forgot Password?")))})),Xc=[{id:"name",label:"Your Name",placeholder:"Example: John Doe",hide:!1},{id:"email",label:"Your email",placeholder:"Example: John Doe",hide:!1},{id:"authSecret",label:"Your Password",placeholder:"Example: \u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",hide:!0},{id:"confirmPassword",label:"Confirm Password",placeholder:"Example: \u25cf\u25cf\u25cf\u25cf\u25cf\u25cf\u25cf",hide:!0}],Kc=Xn.b({email:Xn.d().required("Required!").email("Must be a Valid Email"),authSecret:Xn.d().required("Required!").min(6,"Password must contain at least 6 characters"),confirmPassword:Xn.d().required("Required!").min(6,"Password must contain at least 6 characters").oneOf([Xn.c("authSecret")],"Passwords must match"),name:Xn.d().required("Required!")});var Zc=Object(Bt.b)(null,(function(e){return{signup:function(t){return e((n=t,function(){var e=Object(U.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=3,Gt(Object(U.a)(P.a.mark((function e(){return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pt(n);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),t,!0,1500);case 3:(a=e.sent)&&a.success&&t({type:_e.SIGNUP,user:Ft(a.user),token:a.authToken});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));var n}}}))((function(e){var t=e.loading,n=e.signup,a=Object(Kn.a)({initialValues:{name:"",email:"",authSecret:"",confirmPassword:"",authType:"password"},validationSchema:Kc,onSubmit:function(e){n(e)}}),c=a.handleSubmit,o=a.handleChange,i=a.errors,l=a.values,u=a.touched,s=a.handleBlur,d=Xc.reduce((function(e,t){var n=t.id;return e||Boolean(i[n])}),!1);return r.a.createElement("form",{className:"shake grid",onSubmit:c,style:{background:"white",paddingTop:"1em",width:"100%",placeItems:"center stretch",gridGap:".4em"}},Xc.map((function(e){var t=e.hide,n=e.id,a=e.placeholder,c=e.label,d=i[n];return r.a.createElement("div",{style:{paddingTop:".5em"},key:n},r.a.createElement(Re,{textAlign:"left",bold:!0},c," ",r.a.createElement("span",{className:"red"}," *")),r.a.createElement(Bn.a,{type:t?"password":"text",name:n,onBlur:s,suffix:u[n]&&r.a.createElement(Ut.a,{title:d},r.a.createElement("i",{className:"fa fa-".concat(d?"times-circle red":"check green"),style:{position:"relative"}})),value:l[n],onChange:o,placeholder:a}))})),t?r.a.createElement(J,{loading:!0,disabled:!0},"Loading"):r.a.createElement(J.Normal,{type:"submit",disabled:d,onSubmit:function(e){return c(e)}},"Confirm"))})),$c=n(173),eo=n.n($c),to=n(350),no=n.n(to),ao=function(e){var t=e.children,n=e.back,a=e.loading,c=e.action,o=e.image,i=void 0===o?eo.a:o;return r.a.createElement("div",{style:{padding:"1em 2em"},className:"shake"},r.a.createElement("div",{className:"bold pointer txt-left",onClick:n,style:{color:"#33B482",width:"100%",padding:0}},r.a.createElement("i",{className:"fa fa-chevron-left"})," \xa0Back"),r.a.createElement("img",{src:i,alt:"Select Email",style:{height:"50%",maxWidth:"40vw",width:"300px"}}),r.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},t,r.a.createElement(J,{padding:".3em",loading:a,disabled:a,margin:".8rem 0",width:"100%",onClick:c},"Confirm")))},ro=function(e){var t=e.selectEmail,n=e.back,c=e.loading,o=Object(a.useState)(""),i=Object(l.a)(o,2),u=i[0],s=i[1];return r.a.createElement(ao,{back:n,loading:c,action:function(){return t(u)}},r.a.createElement(Re,{textAlign:"left",bold:!0},"Enter Your Email ",r.a.createElement("span",{className:"red"},"*")),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement(Bn.a,{name:"email",value:u,onChange:function(e){return s(e.target.value.trim())}})))},co=function(e){var t=e.back,n=e.resetPassword,c=e.loading,o=Object(a.useState)({user_password:"",confirm_password:""}),u=Object(l.a)(o,2),s=u[0],d=u[1];return r.a.createElement(ao,{back:t,action:function(){try{if(s.user_password.length<5)throw new Error("Password Length Should be at least 6 characters");if(s.user_password!==s.confirm_password)throw new Error("Passwords do not Match");n(s.user_password)}catch(e){be({title:"Error",message:e.message})}},loading:c},r.a.createElement(Re,{textAlign:"left",bold:!0},"Enter your Password"),r.a.createElement(Bn.a,{name:"password",type:"password",onChange:function(e){var t=e.target.value;return d(Object(i.a)(Object(i.a)({},s),{},{user_password:t}))}}),r.a.createElement("br",null),r.a.createElement(Re,{textAlign:"left",bold:!0},"Confirm your Password"),r.a.createElement(Bn.a,{name:"confirm-password",type:"password",onChange:function(e){var t=e.target.value;return d(Object(i.a)(Object(i.a)({},s),{},{confirm_password:t}))}}))},oo=function(e){var t=e.back,n=e.confirmEmail,c=e.loading,o=Object(a.useState)(""),i=Object(l.a)(o,2),u=i[0],s=i[1];return r.a.createElement(ao,{image:no.a,back:t,action:function(){return n(u)},loading:c},r.a.createElement(Re,{textAlign:"left",bold:!0},"Enter your Code"),r.a.createElement(Bn.a,{value:u,onChange:function(e){return s(e.target.value.trim())}}))},io="SIGNUP",lo="LOGIN",uo="PASSWORD_SELECT_EMAIL",so="PASSWORD_CONFIRM_EMAIL",mo="PASSWORD_RESET",po=function(e){var t=e.children,n=e.state,a=e.toggler,c=function(e){return n===e};return r.a.createElement("div",{className:"noselect",style:{width:"100%",padding:"1.5em"}},r.a.createElement("div",{style:{textAlign:"right"}},r.a.createElement("span",{className:"bold pointer",onClick:c(lo)?function(){}:a,style:{color:c(lo)?"#33B482":"#A6ACAF"}},"Login")," ","\xa0",r.a.createElement("span",{className:"bold pointer",onClick:c(io)?function(){}:a,style:{color:c(io)?"#33B482":"#A6ACAF"}},"Signup")),r.a.createElement(w,{bold:!0,textAlign:"left",size:2},n),r.a.createElement(Re,{color:"#A6ACAF",textAlign:"left"},n," to Continue to ParkStash Dasboard"),t)},fo=function(){var e=Object(a.useState)(lo),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),u=Object(l.a)(o,2),s=u[0],d=u[1],m=Object(Bt.d)((function(e){return e.user.loading})),p=Object(a.useState)({user_email:"",authtoken:""}),f=Object(l.a)(p,2),g=f[0],v=f[1],h=function(){return c(n===lo?io:lo)},b=function(e){return be({title:"Error",message:String(e)})},E=function(e){return function(){return ve({title:"Success",message:String(e)})}},y=function(){return d(!1)},O=function(e){return c(e)},w=function(){return c(lo)};switch(n){case uo:return r.a.createElement(ro,{back:w,selectEmail:function(e){d(!0),gt({user_email:e}).then((function(t){if(!t.success)throw new Error(t.message);O(so),E("4 Digit Code was sent to your email"),v(Object(i.a)(Object(i.a)({},g),{},{user_email:e}))})).catch(b).finally(y)},loading:s});case mo:return r.a.createElement(co,{back:w,resetPassword:function(e){d(!0);var t=g.authtoken;ht({authtoken:t},{user_password:e}).then((function(e){if(!e.success)throw new Error(e.message);O(lo),E("Your password was Reset")})).catch(b).finally(y)},loading:s});case so:return r.a.createElement(oo,{back:w,confirmEmail:function(e){var t=g.user_email;d(!0),vt({user_email:t,otp:e}).then((function(e){if(!e.success)throw new Error(e.message);v(Object(i.a)(Object(i.a)({},g),{},{authtoken:e.token})),O(mo)})).catch(b).finally(y)},loading:s});case io:return r.a.createElement(po,{state:n,toggler:h},r.a.createElement(Zc,{loading:m}));default:return r.a.createElement(po,{state:n,toggler:h},r.a.createElement(Jc,{passwordForgotToggler:function(){return c(uo)},loading:m}))}},go=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Object(a.useState)({enterprises:[],loading:!1,error:!1}),n=Object(l.a)(t,2),r=n[0],c=n[1],o=function(){var e=Object(U.a)(P.a.mark((function e(){var t;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(Object(i.a)(Object(i.a)({},r),{},{loading:!0,error:!1})),e.prev=1,e.next=4,Et();case 4:t=e.sent,c(Object(i.a)(Object(i.a)({},r),{},{loading:!1,error:!1,enterprises:t.enterprises})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),u(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),u=function(e){console.log(e),c(Object(i.a)(Object(i.a)({},r),{},{loading:!1,error:!0,enterprises:[]}))};return Object(a.useEffect)((function(){o()}),[e]),Object(i.a)(Object(i.a)({},r),{},{getEnterpises:o,refresh:o})},vo=function(e){var t=e.children,n=Object(Bt.c)();return r.a.createElement(B,{customRows:"auto 1fr auto",style:{padding:"3em"},className:"shake"},r.a.createElement("div",{className:"bold pointer txt-right",onClick:function(){return n(zt())},style:{color:"#33B482",width:"100%",padding:"1em 2em"}},"Logout"),t)},ho=function(){var e,t=Object(Bt.d)((function(e){return e.user.user.id})),n=Object(Bt.d)((function(e){return e.user.loading})),c=Object(Bt.c)(),o=go(),i=o.enterprises,u=(o.loading,o.error,Object(a.useState)("")),s=Object(l.a)(u,2),d=s[0],m=s[1];return r.a.createElement(vo,null,r.a.createElement("img",{src:(null===(e=i[0])||void 0===e?void 0:e.imageUrl)||eo.a,style:{maxWidth:"40vw",width:"200px"}}),r.a.createElement(Re,{textAlign:"left",bold:!0},"Select your Organization"),r.a.createElement("div",{style:{width:"100%"}},r.a.createElement($n.a,{placeholder:"Select",style:{width:"95%"},value:d,onChange:function(e){return m(e)}},null===i||void 0===i?void 0:i.map((function(e){var t=e.id,n=e.title;e.imageUrl;return r.a.createElement($n.a.Option,{key:t,value:t},n)}))),r.a.createElement(B,{cols:"1",margin:"2em 0"},r.a.createElement(J,{loading:n,disabled:n,invert:!0,width:"95%",onClick:function(){return c(function(e,t){return function(){var n=Object(U.a)(P.a.mark((function n(a){var r;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return 1500,n.next=3,Gt((function(){return bt(e,t)}),a,!0,1500);case 3:(r=n.sent)&&r.success&&a({type:_e.ADD_ENTERPISE});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(d,t))}},"Confirm"))))},bo=function(){return r.a.createElement(vo,null,r.a.createElement("img",{src:eo.a,style:{height:"50%",maxWidth:"40vw",width:"300px"}}),r.a.createElement(Re,{textAlign:"left",bold:!0},"Wait till you get Approved."))},Eo=function(){switch(Object(Bt.d)((function(e){return e.user.userState}))){case Je.ENTERPISE_SELECT:return r.a.createElement(ho,null);case Je.ENTERPISE_PENDING:return r.a.createElement(bo,null);default:return r.a.createElement(fo,null)}},yo=function(){return r.a.createElement(Pn,{background:Vr.a},r.a.createElement(B,{height:"100%"},r.a.createElement(E,{padding:"0",grid:!0,shadow:!0,placeItems:"stretch",customCols:"3fr 2fr"},r.a.createElement(Vc,null),r.a.createElement(Eo,null))))},Oo=function(e){var t=e.eId,n=void 0===t?"":t,r=Object(a.useState)({enterpriseUsers:[],loading:!1,error:!1}),c=Object(l.a)(r,2),o=c[0],u=c[1],s=function(e){return u(Object(i.a)(Object(i.a)({},o),e))},d=function(){var e=Object(U.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return Ot(t)},notify:!1});case 3:n=e.sent,s({loading:!1,error:(null===n||void 0===n?void 0:n.success)||!0,enterpriseUsers:(null===n||void 0===n?void 0:n.enterpriseUsers)||[]});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(U.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return xt(n,t.id)},successMessage:"User was Rejected",errorMessage:"User was not Rejected"});case 3:a=e.sent,s({loading:!1,error:(null===a||void 0===a?void 0:a.success)||!0}),d(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(U.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return wt(n,t.id)},successMessage:"User was Rejected",errorMessage:"User was not Rejected"});case 3:a=e.sent,s({loading:!1,error:(null===a||void 0===a?void 0:a.success)||!0}),d(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(U.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({loading:!0,error:!1}),e.next=3,Un({apiCall:function(){return jt(n,t.id)},successMessage:"User was Accepted",errorMessage:"User was not Accepted"});case 3:a=e.sent,s({loading:!1,error:(null===a||void 0===a?void 0:a.success)||!0}),d(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){d(n)}),[n]),Object(i.a)(Object(i.a)({},o),{},{removeEnterpriseUser:p,rejectEnterpriseUser:m,acceptEnterpriseUser:f})},wo=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return[{title:"Name",dataIndex:"user",key:"user",render:function(e){return e.name}},{title:"Email",dataIndex:"user",key:"user",render:function(e){return e.email}},{title:"Status",dataIndex:"role",key:"role",render:function(e,t){var n,a,c="enabled"===(null===t||void 0===t||null===(n=t.user)||void 0===n||null===(a=n.apps)||void 0===a?void 0:a.enterpriseApp);return r.a.createElement("i",{className:"fas fa-".concat(c?"check":"times","-circle ").concat(!c&&"red")})}},{title:"Role",dataIndex:"role",key:"role",render:function(e){return r.a.createElement(We,{inverted:!0,className:"shadow txt-center"},e)}},{title:"Action",key:"action",render:function(c,o){var i,l,u="enabled"===(null===o||void 0===o||null===(i=o.user)||void 0===i||null===(l=i.apps)||void 0===l?void 0:l.enterpriseApp);return r.a.createElement(yc.a,{size:"middle"},r.a.createElement(J,{shadow:!a&&!u,disabled:a||u,onClick:function(){return e(o.user)}},r.a.createElement("i",{className:"fa fa-check"}),"\xa0Accept"),r.a.createElement(J,{bg:"red",shadow:!a,disabled:a,onClick:function(){return u?n(o.user):t(o.user)}},r.a.createElement("i",{className:"fa fa-".concat(u?"trash":"times")})," \xa0",u?"Remove":"Reject"))}}]};function xo(){var e=Object(u.a)(["\n  @media (max-width: ",") {\n    overflow-x: scroll;\n  }\n"]);return xo=function(){return e},e}var jo={ACCEPTED:"Enabled",ALL:"ALL",DEFAULT:"ALL",PENDING:"Onboarding",states:["Enabled","ALL","Onboarding"]},So={emptyText:r.a.createElement(Ye,{text:"No Users"})},Ho=s.b.div(xo(),"860px"),Co=function(){var e=Object(Bt.d)((function(e){return e.user.enterprise.id})),t=Object(a.useContext)(Ea),n=t.editMode,c=t.toggleEditMode,o=zr({eId:e,screen:"adminControl",resource:"enterpriseUser"}),u=o.loading,s=o.scoreCards,m=o.scoreCardOptions,p=o.editScoreCards,f=o.removeScoreCard,g=Oo({eId:e}),v=g.enterpriseUsers,h=g.loading,b=g.acceptEnterpriseUser,y=g.removeEnterpriseUser,O=g.rejectEnterpriseUser,w=Object(a.useState)({active:jo.DEFAULT}),x=Object(l.a)(w,2),j=x[0],S=x[1],H=v.filter((function(e){return e.user.apps.enterpriseApp===j.active.toLowerCase()||j.active===jo.ALL}));return r.a.createElement(Pn,{sidebar:!0,background:Vr.a},r.a.createElement(B,{gridGap:"0",className:"left-on-desktop",placeItems:"start center"},r.a.createElement(J,{rounded:!0,shadow:!0,placeSelf:"end",margin:".4em",onClick:c,minWidth:"4.5em"},r.a.createElement("i",{className:"fa fa-".concat(n?"check":"edit")})),r.a.createElement(mc,{loading:u,removeScoreCard:f,editScoreCards:p,scoreCards:s,scoreCardOptions:m}),r.a.createElement(B,{placeItems:"start stretch",background:d,padding:"1em",margin:"1em 0",height:"100%"},r.a.createElement(Me,{active:j.active,items:jo.states,onClick:function(e){return S(Object(i.a)(Object(i.a)({},j),{},{active:e}))}}),r.a.createElement(E,{shadow:!0,minWidth:"60vw"},r.a.createElement(Ho,null,r.a.createElement(Qr.a,{locale:So,rowKey:function(e){return e.user.id},loading:h,style:{color:"#33B482",maxWidth:"90vw"},dataSource:H,columns:wo(b,O,y,u)}))))))},ko=function(){var e=Object(Bt.d)((function(e){return e.user.enterprise.id})),t=Object(Bt.d)((function(e){return e.user.user.shortName})),n=zr({eId:e,screen:"overview"}),c=n.charts,o=n.loading,i=n.scoreCards,l=n.scoreCardOptions,u=n.editScoreCards,s=n.removeScoreCard,m=Object(a.useContext)(Ea),p=m.editMode,f=m.toggleEditMode,g=o?"hide":"";return r.a.createElement(Pn,{sidebar:!0,background:Vr.a},r.a.createElement(B,{className:"left-on-desktop",style:{minHeight:"100vh"},width:"100%",placeItems:"start center"},r.a.createElement(B,{placeItems:"start stretch",height:"100%",customRows:"auto auto 1fr",style:{maxWidth:"1500px",minWidth:"85%"}},r.a.createElement(B,{customCols:"1fr auto",mobileLayout:!1},r.a.createElement(w,{className:"capitalize",width:"100%",bold:!0,textAlign:"left",margin:"1em 0 0 0"},"Welcome, ",t),r.a.createElement(J,{rounded:!0,shadow:!0,onClick:f,minWidth:"4.5em"},r.a.createElement("i",{className:"fa fa-".concat(p?"check":"edit")}))),r.a.createElement(mc,{loading:o,removeScoreCard:s,editScoreCards:u,scoreCards:i,scoreCardOptions:l}),r.a.createElement(B,{placeItems:"start stretch",background:d,padding:"1em",height:"100%"},r.a.createElement(B,{cols:"2"},r.a.createElement(w,{className:g,style:{gridColumn:"1/-1"},bold:!0,width:"100%",textAlign:"left"},"\xa0 Today's Garage Occupancy Overview"),ua({list:c,loader:r.a.createElement(ce,{lines:7,number:4,style:{maxWidth:"600px",minHeight:"400px",minWidth:"100%"}}),loading:o,map:function(t){return xr(t,(function(){}),e)}}),r.a.createElement(Ve.b,{to:"/garages",className:g,style:{gridColumn:"1/-1",placeSelf:"start"}},r.a.createElement(J,{rounded:!0,bold:!0,padding:".5em",shadow:!0},"See Details \xa0 ",r.a.createElement("i",{className:"fa fa-chevron-right"}))))))))};var No=function(){var e=Object(Bt.d)((function(e){return e.user.userState})),t=Object(Bt.c)(),n=Object(a.useState)({loading:!0}),c=Object(l.a)(n,2),o=c[0],u=c[1];return Object(a.useEffect)((function(){t(function(){var e=Object(U.a)(P.a.mark((function e(t){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gt((function(){return dt()}),t);case 2:(n=e.sent)&&n.success&&(t({type:_e.AUTH,user:Ft(n.user),token:n.authToken}),Wt(n.user,t));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),setTimeout((function(){return u(Object(i.a)(Object(i.a)({},o),{},{loading:!1}))}),2e3)}),[]),o.loading?r.a.createElement(I.Parkstash,null):r.a.createElement(Nc.a,null,e===Je.APPROVED?r.a.createElement(Qe.c,null,r.a.createElement(Qe.a,{path:"/announcements",render:function(){return r.a.createElement(Cc,null)}}),r.a.createElement(Qe.a,{path:"/events",render:function(){return r.a.createElement(Dc,null)}}),r.a.createElement(Qe.a,{path:"/citations",render:function(){return r.a.createElement(Ic,null)}}),r.a.createElement(Qe.a,{path:"/profile",render:function(){return r.a.createElement(Uc,null)}}),r.a.createElement(Qe.a,{path:"/controls",render:function(){return r.a.createElement(Co,null)}}),r.a.createElement(Qe.a,{path:"/garages",render:function(){return r.a.createElement(fc,null)}}),r.a.createElement(Qe.a,{path:"/",render:function(){return r.a.createElement(ko,null)}})):r.a.createElement(Qe.a,{path:"/",render:function(){return r.a.createElement(yo,null)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ao=n(648);n(613);function To(){var e=Object(u.a)(["\n  html,body{\n    font-size: 15px;\n    font-family: 'Roboto', sans-serif;\n  }\n  .ant-btn-primary{\n    background: ",";\n  }\n  .ant-btn-primary:hover{\n    color: "," !important;\n    background: white;\n  }\n  .ant-table-cell{\n    color: "," !important;\n    max-width: 300px;\n    font-size: 15px;\n  }\n  td > a, .ant-space-item > a{\n    color: "," !important;\n  }"]);return To=function(){return e},e}var Io=Object(s.a)(To(),"#33B482","#33B482","#33B482","#33B482"),Ro=function(e){var t=e.children;return r.a.createElement(Kt,null,r.a.createElement(ya,null,r.a.createElement(Bt.a,{store:pn},r.a.createElement(Io,null),t)))};Ao.a({dsn:"https://66ec245dbeed4c95a166a788bcf4f7ae@o410541.ingest.sentry.io/5284571"}),o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ro,null,r.a.createElement(Ve.a,null,r.a.createElement(No,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},67:function(e){e.exports=JSON.parse('{"UNAUTH":"UNAUTH","ENTERPISE_PENDING":"ENTERPISE_PENDING","ENTERPISE_SELECT":"ENTERPRISE_SELECT","APPROVED":"APPROVED"}')},81:function(e,t,n){e.exports=n.p+"static/media/login-bg.c9ae724f.svg"}},[[366,1,2]]]);
//# sourceMappingURL=main.38cc0929.chunk.js.map