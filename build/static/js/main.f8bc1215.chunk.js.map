{"version":3,"sources":["assets/car.svg","assets/announ.svg","assets/email.svg","assets/loader.svg","assets/parkstash_logo.png","assets/message3.svg","assets/empty.svg","assets/parkstash_logo.svg","assets/eventss.svg","assets/login.svg","assets/otp.svg","assets/university.svg","assets/wait.svg","config.ts","style/generator.ts","style/card/index.tsx","style/heading/index.tsx","style/loader/index.tsx","style/grid/index.tsx","style/button/index.tsx","style/avatar/index.tsx","style/placeholder/index.tsx","hooks/pagination.ts","style/list.tsx","style/animation.ts","style/notification/index.tsx","style/modal/index.tsx","style/text/index.tsx","style/switch/index.tsx","style/menu-item/index.tsx","style/badge/index.tsx","style/empty/index.tsx","context/nav-context.tsx","style/sidebar/index.tsx","store/reducer/user.ts","api/header.ts","api/request.ts","api/index.ts","utils/text.tsx","utils/logger.ts","store/actions/user.ts","store/reducer/garage.ts","store/reducer/announcement.ts","store/reducer/index.ts","store/index.ts","utils/time.ts","style/topnav.tsx","hooks/tz.ts","layout.tsx","utils/index.ts","hooks/garage.ts","pages/garage/listings/garage-card.tsx","hooks/places.ts","pages/garage/listings/google-map.tsx","components/label.tsx","pages/garage/listings/garage-form.tsx","pages/garage/listings/garage-add.tsx","pages/garage/listings/garage-edit.tsx","hooks/occupancy-table.ts","pages/garage/listings/index.tsx","components/chart/components/axis.tsx","components/chart/hooks/rect.ts","components/chart/hooks/scale.ts","components/chart/hooks/data.ts","components/chart/utils/color.ts","components/chart/utils/points.ts","components/chart/hooks/tooltip.ts","components/chart/components/tooltip.tsx","components/chart/types.ts","components/chart/components/grid.tsx","components/chart/components/graph/multi-line.tsx","components/chart/components/graph/stacked-area.tsx","components/chart/components/graph/stacked-bar.tsx","components/chart/components/graph/combined.tsx","components/chart/utils/chart.tsx","components/chart/components/graph/index.tsx","components/chart/components/legend-table.tsx","components/chart/hooks/resize.ts","components/chart/components/header.tsx","components/chart/components/loading.tsx","components/chart/index.tsx","components/chart/hooks/chart-type.ts","hooks/timeseries.ts","hooks/metrics.ts","components/filter.tsx","pages/garage/analytics/filter-options.ts","pages/garage/analytics/index.tsx","pages/garage/occupancy-table/columns.tsx","pages/garage/occupancy-table/default-table.ts","pages/garage/occupancy-table/format.ts","pages/garage/occupancy-table/table-form.tsx","pages/garage/occupancy-table/table-item.tsx","pages/garage/occupancy-table/table-list.tsx","pages/garage/occupancy-table/index.tsx","components/score-card/score-card.tsx","pages/garage/header.tsx","pages/garage/index.tsx","pages/announcement/columns.tsx","pages/announcement/table.tsx","store/actions/announcement.ts","pages/announcement/form.tsx","hooks/widget.ts","components/score-card/score-cards.tsx","hooks/refresh.ts","pages/announcement/index.tsx","pages/citations/filter-options.ts","pages/citations/analytics.tsx","pages/citations/index.tsx","pages/events/listings/columns.tsx","pages/events/listings/table.tsx","pages/events/listings/header.tsx","pages/events/listings/form.tsx","hooks/events.ts","pages/events/listings/index.tsx","components/chart/components/graph/pie-chart.tsx","pages/events/analytics/header.tsx","pages/events/analytics/index.tsx","pages/events/index.tsx","pages/events/analytics/filter-options.ts","pages/events/live/header.tsx","pages/events/live/editor.tsx","pages/events/live/index.tsx","pages/login/user-select/auth.tsx","pages/login/user-select/login.tsx","pages/login/user-select/signup.tsx","pages/login/user-select/forgot-password.tsx","pages/login/user-select/index.tsx","hooks/enterprises.ts","pages/login/enterprise-select/enterprise.tsx","pages/login/user-handle.tsx","pages/login/index.tsx","hooks/control.ts","pages/controls/columns.tsx","pages/controls/index.tsx","pages/overview/index.tsx","App.tsx","serviceWorker.ts","context/components.tsx","providers.tsx","index.tsx"],"names":["module","exports","gradient","gridStyle","cols","customCols","customRows","gridGap","mobileCols","mobileLayout","placeItems","hideOnMobile","fontStyle","darkMode","color","size","bold","textAlign","placeSelf","textShadow","sizeStyle","width","height","padding","max","margin","minWidth","designStyle","shadow","rounded","background","bg","cursor","elementProps","props","style","className","onClick","ref","CardEl","styled","div","grid","hover","bgColor","invert","Card","border","children","selected","elProps","boxShadow","HeaderLayout","h1","styleProps","fontProps","Header","defaultColor","inverted","LoaderEl","Loader","src","mySvg","alt","glow","keyframes","Img","img","Parkstash","logo","Spinner","fontSize","Layout","Grid","GridItemLayout","gridRowStart","gridColumnStart","Item","Bt","button","disabled","noBorder","noHover","Button","onSubmit","loading","tooltip","faIcon","title","type","Normal","ImgBox","Avatar","url","large","medium","borderWidth","maxHeight","Placehold","Loading","Placeholder","number","lines","containerStyle","placeholders","Array","map","_","i","key","usePagination","len","useState","length","setLength","page","setPage","maxPage","Math","ceil","canGoBack","canGoForward","useEffect","needsPagination","actions","forward","backward","List","pagination","error","list","loader","emptyText","empty","text","marginTop","items","filter","gridColumn","el","slideIn","Containter","minHeight","createPopup","position","containerId","hasContainer","document","getElementById","container","createElement","root","setAttribute","classList","add","appendChild","prepend","child","Notification","message","visibilityTime","defaultVisibiltyTime","remove","removeChild","e","console","log","id","textOverflow","aria-hidden","setTimeout","ReactDOM","render","Icon","iconName","Wrapper","Modall","Body","svg","Modal","hideCancel","modal","body","getElementsByTagName","close","unmountComponentAtNode","El","React","isValidElement","open","contains","Text","Switch","active","borderRadius","item","charAt","toUpperCase","substring","toLowerCase","replace","underlined","borderBottom","MI","span","fullWidth","MenuItem","Badge","BadgeEl","Empty","maxWidth","lineHeight","initialState","sidebar","toggleSidebar","collapsed","toggleCollapsed","NavContext","createContext","NavProvider","setState","state","Provider","value","this","Component","Consumer","ActionTypes","Line","hr","MyNavLink","NavLink","LeftNav","Sidebar","useSelector","user","role","enterprise","useContext","location","useLocation","pathname","activeStyle","borderLeft","collapsedHidden","onMouseLeave","onMouseEnter","imageUrl","name","to","icon","bool","gridTemplateColumns","includes","reduce","acc","String","intialState","userState","userStates","UNAUTH","calcUserState","undefined","apps","enterpriseApp","ENTERPISE_SELECT","ENTERPISE_PENDING","APPROVED","setLoggedIn","flag","localStorage","setItem","authHeader","authtoken","getItem","Key","USER","delay","f","Promise","resolve","delayedResponse","response","a","json","res","post","useDelay","fetch","method","headers","JSON","stringify","then","authGet","authPost","route","auth","eid","eId","garage","metricType","header","customPost","enterpriseId","userId","aid","dId","widgets","resource","metrics","tId","table","overflow","txt","limit","Sentry","asyncActions","apiCall","dispatch","showError","USER_REQUEST_PENDING","payload","success","Error","USER_REQUEST_SUCCESS","logger","USER_REQUEST_FAILED","formatUser","getEnterprise","api","enterprisePayload","GET_ENTERPRISE","logout","LOGOUT","garages","loadingAnnouncements","loadingAction","announcements","combineReducers","action","removeItem","LOGIN","SIGNUP","token","AUTH","ADD_ENTERPISE","RESET_ERROR","announcement","idToFind","tempAnnouncement","index","cur","ReduxThunk","require","default","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","next","group","info","result","getState","groupEnd","moment","mo","currentTz","getTimezoneFromStore","tzChangeListeners","subscribe","tz","setDefault","forEach","l","defaultInterval","endTime","startTime","clone","set","toISOString","currentMonth","month","yearToDate","getInterval","days","getTimezone","FORMAT_DATETIME","abnormalities","date","MiniNav","TopNavBar","useDispatch","placement","content","zIndex","paddingBottom","marginBottom","format","trigger","count","useTimezone","setTz","listener","newTz","find","push","addTimezoneChangeListener","removeTimezoneChangeListener","window","scrollTo","year","toString","marginRight","Top","noBackground","Bottom","shiftUp","asyncHandler","successMessage","errorMessage","refresh","useGarages","setter","obj","getGarages","API","addGarage","editGarage","GarageCard","address","maxOccupancy","edit","occupancyUpdateSource","occupancy","getTableById","occupancyTableId","abnormality","setTable","occupancyPercent","Number","toFixed","garageOccupancyTable","borderRight","paddingRight","strokeWidth","successPercent","strokeColor","percent","clasName","updatedAt","usePlaces","defaultSearch","found","resultLocation","lat","lng","setError","search","setSearch","searchText","setSearchText","selectResult","resetSearch","getAddress","addr","status","results","formatted_address","geometry","catch","AnyReactComponent","showText","SimpleMap","setGeo","origin","pointerLocation","zoom","pointerMoved","start","selectResultLocation","preventDefault","display","suffix","onChange","target","placeholder","justifySelf","top","bootstrapURLKeys","center","defaultZoom","__","Label","label","marginLeft","sources","defaultValue","GarageInfoForm","tables","useFormik","initialValues","values","submit","handleSubmit","handleChange","setFieldValue","handleBlur","onBlur","checked","min","Option","CreateGarage","setCount","interval","setInterval","clearInterval","GarageMultiStep","step","completed","geo","setGarage","InputComponents","car","GarageEditor","useOccupanyTable","getTables","garageOccupancyTables","addTable","garageOccupancyTableId","removeTable","editTable","Listings","AddModal","g","EditGarage","XAxis","scale","tickFormat","axisStyleProps","maxTicks","range","tickValues","useMemo","dates","domain","mod","floor","AxisBottom","tickLabelProps","fontWeight","fill","textAnchor","hideTicks","YAxisLeft","ticks","AxisLeft","dx","dy","YAxisRight","AxisRight","defaultAxisStyle","hideAxisLine","tickStroke","tickLength","hideZero","useRect","right","bottom","left","calcRect","innerWidth","innerHeight","xRange","yRange","rect","setRect","useScale","points","yMax","xAxis","getXBandScale","yAxis","scaleLinear","scaleBand","d","Date","getDates","useData","timeSeriesResult","getStackedPoints","linearMax","timeSeries","reference","numPoints","numResource","point","at","totalValue","j","displayLabel","useCombinedData","timeSeriesResults","ts","getColor","colors","getKeys","Object","keys","k","points_","setSelected","units","xScale","dateFormatter","useTooltip","reverse","bandStart","bandEnd","bandwidth","getLegend","isMissing","unit","getUnit","n","toDollar","graphLocal","event","localPoint","x","y","handleTooltip","newSelected","iX","timestamp","legend","showTooltip","tooltipData","tooltipLeft","tooltipTop","Tooltip","tooltipOpen","isSelected","TooltipWithBounds","dangerouslySetInnerHTML","__html","Custom","from","stroke","pointerEvents","strokeDasharray","Charts","yScale","GridRows","strokeOpacity","MultiLine","linePathX","data","r","cx","cy","LinePath","linePathY","defined","reducer","datum","StackedArea","noneSelected","getY","AreaStack","y0","y1","stacks","path","stack","opacity","StackedBar","colorScale","scaleOrdinal","Group","BarStack","barStacks","barStack","bars","bar","Combined","y2Scale","points2","keyLine","getLineY","getLineX","getChart","chart","multiLine","stackedArea","stackedBar","combined","DrawArea","chartType","tickFormatY","getYTickFormatter","tickFormatX","getXTickFormatter","tooltipFormatter","getTooltipDateFormatter","useToolTip","hideTooltip","onTouchStart","onTouchMove","onMouseMove","chartProps","transform","SVG","o","Multi","datas","timeSeriesResult2","data1","data2","dataComb","y2Axis","tickFormatYLeft","tickFormatYRight","minusOneDay","formatter","d0","subtract","get","defaultFormatter","alignmentPeriod","tableProps","dataSource","columns","dataIndex","useResize","filterWidth","setWidth","useRef","resize","current","clientWidth","addEventListener","removeEventListener","ChartHeader","chartTypes","setChartType","isPercent","download","textTransform","charts","d100","Chart","metricDataStatus","useChartType","metricDataStatuses","isLoading","curr","hasError","useMetricData","timeseries","setMetricDataStatus","end","shouldSwap","getMetricData","query","all","metricDescriptor","setEndTime","newEndtime","setStartTime","newStartTime","getAlignment","alignment","dayFilter","period","alignmentReducer","getDefaultTimeframe","timeframes","t1","t2","intoInterval","enteries","timeframe","Filter","toggle","loadingTimeSeries","reset","options","hideTimeSelection","aggregations","resources","custom","setCustom","timeframeLabel","setTimeframeLabel","disabledDate","dividerStyle","gridProps","offset","adjustX","adjustY","handlePresetChange","parse","OptGroup","entry","clearIcon","use12Hours","minuteStep","setMetric","mode","resourceIds","setGarages","parsedValue","setDayFilter","timeSelection","setAlignment","dropdownAlign","showMinute","hours","hour","defaultTimeSeries","crossSeriesReducer","defaultDayFilter","setTimeseries","SET_METRICTYPE","SET_GARAGES","SET_INTERVAL","SET_ALIGNMENT","SET_DAY_FILTER","validateDayFilter","REFRESH","useTimeseries","useReducer","timeSeriesQuery","Analytics","setOpen","setToggle","currentTimeseries","split","chart_","getTime","startHour","hour1","min1","endHour","hour2","min2","pad","digit","abs","to12hours","precision","defaultTable","aTable","temp","OccupancyForm","input","getTitle","getTable","day","getOccupanciesByDay","newIntervals","elements","toArray","getElementsByClassName","sort","b","secondChild","overflowY","bordered","random","TableItem","tableId","select","associatedGarages","onConfirm","TableList","localeProps","garageLoading","float","renderItem","EditModal","OccupancyTable","loadingTables","locale","spinning","indicator","ScoreCard","adjacentLabel","hoverLabel","borderStyle","PercentBar","FlatValue","str","flatValueQuery","leftBorder","applicableResource","setRes","getValue","round","loadValue","flatValue","flatValueResult","getIcon","duration","activeGarages","totalOcc","currentOcc","total","activePages","Garage","ANALYTICS","activePage","setActivePage","LISTINGS","OCCUPANCY_TABLE","whiteSpace","t","record","okButtonProps","cancelButtonProps","toggler","DIV","summary","pageData","Summary","Row","defaultValues","launchAt","expiresAt","Form","setLoading","TextArea","rows","showTime","useWidgets","screen","scoreCards","scoreCardOptions","getWidgets","res2","dashboards","dashboard","metricDescriptors","saveWidgets","removeChart","removeScoreCard","addWidget","editScoreCards","useRefresh","setRefresh","needsRefresh","states","ACTIVE","ALL","EXPIRED","DEFAULT","Adder","AnnoucementEl","announcementId","currentAnnouncements","paddingTop","revenueTimeSeries","revenueTimeSeriesQuery","countTimeSeries","transactionCountTimeSeriesQuery","AdditionalFilter","selectProps","revenueMetric","countMetric","filterProps","Citations","GaragesList","show","setShow","price","staffOccupancy","nowISO","defaultGarage","gridRow","events","useEvents","getEvents","notify","enterpriseUsers","removeEvent","newEvents","addEvent","editEvent","refreshEvent","image","switches","currentEvents","defaultMargin","PieChart","radius","centerY","centerX","rx","pieValue","outerRadius","innerRadius","cornerRadius","padAngle","Pages","Editor","dynamicPricing","ms2","Events","AuthBox","loginFields","hide","validationSchema","Yup","email","required","authSecret","connect","passwordForgotToggler","authType","authToken","errors","touched","Boolean","signupFields","confirmPassword","oneOf","signup","back","selectEmail","user_email","setEmail","trim","resetPassword","user_password","confirm_password","secret","setSecret","confirmEmail","otp","setOtp","otpImg","isActive","s","UserSelectBox","passwordLoading","setResetFields","finished","changeState","finally","useEnterprises","enterprises","getEnterpises","addEnterprise","wait","UserHandleBox","Login","backgroundPosition","backgroundSize","useControl","getEnterpriseUsers","rejectEnterpriseUser","removeEnterpriseUser","acceptEnterpriseUser","accept","reject","approved","ACCEPTED","PENDING","Controls","loadingUsers","rowKey","Overview","shortName","hideOnLoading","lineChart","App","hostname","match","ComponentsContext","editMode","toggleEditMode","ComponentProvider","GlobalStyle","createGlobalStyle","Main","dsn","StrictMode","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f8bc1215.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/car.c8dd5726.svg\";","module.exports = __webpack_public_path__ + \"static/media/announ.7c05f84e.svg\";","module.exports = __webpack_public_path__ + \"static/media/email.4be984e8.svg\";","module.exports = __webpack_public_path__ + \"static/media/loader.5a306b20.svg\";","module.exports = __webpack_public_path__ + \"static/media/parkstash_logo.ab0d6bfb.png\";","module.exports = __webpack_public_path__ + \"static/media/message3.10cb2302.svg\";","module.exports = __webpack_public_path__ + \"static/media/empty.3e935ffe.svg\";","module.exports = __webpack_public_path__ + \"static/media/parkstash_logo.ab1ee9fd.svg\";","module.exports = __webpack_public_path__ + \"static/media/eventss.d3335f65.svg\";","module.exports = __webpack_public_path__ + \"static/media/login.9ab46960.svg\";","module.exports = __webpack_public_path__ + \"static/media/otp.65b29cd8.svg\";","module.exports = __webpack_public_path__ + \"static/media/university.22150a8c.svg\";","module.exports = __webpack_public_path__ + \"static/media/wait.edf991a2.svg\";","export const mobileWidth = \"860px\";\r\nexport const tabletWidth = \"1100px\";\r\n//#224035  #2a4a3e #2a394a #32325D #2a4a41\r\n\r\nexport const primaryColor = \"#33B482\"; // Lighter Bluish Green\r\nexport const secondaryColor = \"#037885\"; // Darker Bluish Green\r\nexport const gradient =\r\n  \"linear-gradient(to left, #00D69E, #00BAA4, #009CA0, #007F90, #1E6378, #2F4858)\";\r\nexport const gradient1 = \"linear-gradient(#00D69E, #00BAA4)\";\r\nexport const gradient2 = \"linear-gradient(#00BAA4, #009CA0, #007F90, #1E6378)\";\r\nexport const cardColor = \"#E8F6F3\";\r\n\r\nexport const primaryTxtColor = \"#32325D\";\r\nexport const secodaryTxtColor = \"#32325D\";\r\nexport const invertedTxtColor = \"#FFFFFF\";\r\nexport const disabledTxtColor = \"#A6ACAF\";\r\n\r\nexport const gray = \"rgba(247, 249, 249, 0.65)\";\r\nexport const primaryDarkColor = \"#8b64b7\";\r\nexport const secondaryDarkColor = \"black\";\r\n\r\nexport const API = \"https://test.findparkstash.com/api\";\r\nexport const textOverFlowLimit = 15;\r\n","\r\nimport { primaryTxtColor,   mobileWidth } from '../config';\r\nimport { Ref } from 'react';\r\n\r\nexport interface GridStyle {\r\n    cols? : number | string | undefined;\r\n    rows? : number | string;\r\n    customCols? : string;\r\n    customRows? : string;\r\n    gridGap? : number | string;\r\n    mobileCols? : string;\r\n    mobileLayout? : boolean;\r\n    placeItems? : string, \r\n    hideOnMobile? : boolean,\r\n};\r\n\r\nexport const gridStyle = ({ cols, customCols, customRows, gridGap, mobileCols, mobileLayout, placeItems, hideOnMobile }: GridStyle)=>`\r\n    display: grid;\r\n    grid-gap: ${gridGap || '1em'} ;\r\n    grid-template-columns: repeat(${cols ? cols : \"1\"}, 1fr);\r\n    ${customCols? `grid-template-columns: ${customCols};`: ``}\r\n    ${customRows? `grid-template-rows: ${customRows};` : ``}\r\n    place-items: center;\r\n    ${placeItems? `place-items: ${placeItems};` : ``}\r\n    @media(max-width: ${mobileWidth}){\r\n        ${hideOnMobile? `display: none; !important` : ''}\r\n        ${mobileLayout !== false?  `grid-template-columns: 1fr;` : ``}\r\n        ${mobileCols? `grid-template-columns: ${mobileCols};` : ``}  \r\n    }\r\n`;\r\n\r\n\r\nexport interface FontStyle {\r\n    size? : number | string | undefined;\r\n    color? : string;\r\n    bold? :boolean;\r\n    textAlign? :  number | string;\r\n    placeSelf? : string,\r\n    textShadow? : string,\r\n};\r\n\r\nexport const fontStyle = ({ color, size, bold, textAlign,  placeSelf, textShadow } : FontStyle | any, darkMode : boolean)=>`\r\n    text-align: ${textAlign || 'center'};\r\n    ${`color : ${color || primaryTxtColor}`};\r\n    font-size: ${size || '1em'};\r\n    ${textShadow? `text-shadow: 1.2px 1.2px 2px black;` : \"\"}\r\n    font-weight: ${bold ? `bolder` : 'normal'};\r\n    ${placeSelf? `place-self: ${placeSelf};` : ''}`;\r\n\r\nexport interface SizeStyle {\r\n    width? : number | string | undefined;\r\n    height? : number | string;\r\n    max? : boolean;\r\n    padding? :  number | string;\r\n    margin? :  number | string,\r\n    minWidth? :  number | string,\r\n};\r\n\r\nexport const sizeStyle = ({width, height, max, padding, margin, minWidth} : any)=>`\r\n    width: ${width || \"auto\"};\r\n    min-width : ${minWidth || \"auto\"};\r\n    height: ${height || \"auto\"};\r\n    margin: ${margin || \"0\"} ;\r\n    padding: ${padding || \"0\"};\r\n\r\n`;\r\n\r\nexport interface DesignStyle {\r\n    shadow? : boolean;\r\n    rounded? : boolean;\r\n    bg? : string;\r\n    background? : string;\r\n    cursor? :  string;\r\n    hideOnMobile? : boolean,\r\n};\r\n\r\nexport const designStyle = ({shadow, rounded, bg, background, hideOnMobile, cursor} : DesignStyle)=>`\r\n    ${shadow? `box-shadow: 0 .25em .5em rgba(0,0,0,.5);` : \"\"}\r\n    pointer : ${cursor? 'cursor': 'default'};\r\n    transition: 200ms ease-out;\r\n    border-radius: ${rounded? '1.2em' : `.25em`};\r\n    border: 0px;\r\n    ${background?  `background: ${background};` : \"\"}\r\n    background-repeat: no-repeat;\r\n    @media(max-width: ${mobileWidth}){\r\n        ${hideOnMobile? `display: none;` : ''}\r\n    }\r\n`;\r\n\r\nexport interface ElementProps {\r\n    className? : string;\r\n    onClick?: ((event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void) | undefined;\r\n    style?: React.CSSProperties;\r\n    ref? : Ref<any>\r\n};\r\n\r\n\r\nexport const elementProps = (props: ElementProps | any) => {\r\n    const {style, className, onClick, ref}  = props;\r\n    const property = {...style? { style }: {}, ...className? {className} : {}, ...onClick? {onClick} : {}, ...ref? ref: {}};\r\n    return property;\r\n}\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport { primaryColor, primaryTxtColor, invertedTxtColor } from \"../../config\";\r\nimport {\r\n  sizeStyle,\r\n  fontStyle,\r\n  designStyle,\r\n  elementProps,\r\n  gridStyle,\r\n  SizeStyle,\r\n} from \"../generator\";\r\n\r\nconst CardEl = styled.div<{ props: any }>`\r\n  ${(props: any) => `\r\n    ${props.grid ? gridStyle(props) : \"\"}\r\n    ${fontStyle(props, false)}\r\n    ${designStyle(props)}`}\r\n  ${({ hover, bgColor, invert, minWidth, padding, margin, width }: any) => `\r\n  background: ${invert ? primaryColor : bgColor || \"white\"};\r\n    ${sizeStyle({ margin, padding, minWidth, width })}\r\n    ${\r\n      hover &&\r\n      `&:hover { \r\n        transform: scale(1.1); \r\n    }\r\n    `\r\n    }`}\r\n`;\r\n\r\nexport const Card = (props: any) => {\r\n  const {\r\n    border,\r\n    children,\r\n    shadow = false,\r\n    invert = false,\r\n    selected,\r\n  } = props;\r\n\r\n  const {\r\n    margin = \"1em .5em\",\r\n    padding = \".8em 1em\",\r\n    minWidth = \"3em\",\r\n    width,\r\n  } = props as SizeStyle;\r\n\r\n  props = { ...props, ...{ margin, width, padding, minWidth } };\r\n  const elProps = elementProps(props);\r\n\r\n  const style = {\r\n    boxShadow: selected? \"0 .25em .5em dodgerblue\": shadow === false? \"\" : \"0 .25em .5em rgba(0,0,0,.5)\",\r\n    color: invert ? invertedTxtColor : primaryTxtColor,\r\n    border: border ? `${border} solid` : \"\",\r\n  };\r\n\r\n  return (\r\n    <CardEl {...props} style={style} {...elProps}>\r\n      {children}\r\n    </CardEl>\r\n  );\r\n};\r\n","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport { sizeStyle, fontStyle, FontStyle, SizeStyle, ElementProps } from '../generator';\r\nimport { primaryTxtColor, invertedTxtColor } from '../../config';\r\n\r\ninterface HeaderProps extends FontStyle, SizeStyle, ElementProps{\r\n    children? : React.ReactNode;\r\n    inverted? : boolean;\r\n}\r\n\r\nconst HeaderLayout = styled.h1<{ styleProps: SizeStyle, fontProps: FontStyle }>`\r\n${props => sizeStyle(props.styleProps)}\r\n${props=> fontStyle(props.fontProps, false)}`;\r\n\r\nexport const Header = (props: HeaderProps) => {\r\n    const { children, style, className, onClick } = props;\r\n\r\n    const { width, height, max, padding, margin, minWidth, inverted } = props;\r\n    const styleProps : SizeStyle = { \r\n        width, \r\n        height, \r\n        max, \r\n        padding, \r\n        margin, \r\n        minWidth \r\n    };\r\n    const defaultColor =  inverted? invertedTxtColor : primaryTxtColor ;\r\n    const { size, color = defaultColor, bold, textAlign, placeSelf, textShadow } = props;\r\n    const fontProps : FontStyle = {\r\n        size: typeof size === 'number'? (6 - size)/2 + \"rem\": size? size : \"1.5em\",\r\n        color, \r\n        bold, \r\n        textAlign,  \r\n        placeSelf, \r\n        textShadow\r\n    };\r\n\r\n    return (\r\n    <HeaderLayout \r\n        styleProps={styleProps}  \r\n        fontProps={fontProps} \r\n        onClick={onClick} \r\n        className={className} \r\n        style={style}\r\n    > \r\n        {children} \r\n    </HeaderLayout>\r\n    );\r\n}\r\n\r\n","import React from \"react\";\r\nimport mySvg from \"../../assets/loader.svg\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport logo from \"../../assets/parkstash_logo.png\";\r\nconst LoaderEl = styled.div`\r\n  position: absolute;\r\n  left: calc(50% - 70px);\r\n  top: calc(50% - 70px);\r\n  display: inline-block;\r\n`;\r\n\r\nexport const Loader = (): JSX.Element => (\r\n  <LoaderEl className=\"blue-txt\">\r\n    <img width=\"70\" src={mySvg} alt=\"A Loader\" />\r\n  </LoaderEl>\r\n);\r\n\r\nconst glow = keyframes`\r\n0% { \r\n  transform: scale(0.9);\r\n  filter: drop-shadow(3px 4px 6px teal); \r\n}\r\n100% {\r\n  transform: scale(1);\r\n  filter: drop-shadow(0px 0px 0px white); \r\n}`;\r\n\r\nconst Img = styled.img`\r\n  animation: ${glow} 800ms ease-out infinite;\r\n`;\r\n\r\nexport const Loader2 = ({ logo }: any): JSX.Element => (\r\n  <div className=\"grid full\">\r\n    <Img src={logo} alt=\"A Loader\" />\r\n  </div>\r\n);\r\n\r\nLoader.Parkstash = (): JSX.Element => (\r\n  <LoaderEl>\r\n    <Img width=\"70\" src={logo} alt=\"A Loader\" />\r\n  </LoaderEl>\r\n);\r\n\r\nLoader.Spinner = ({ size = 2, color = \"inherit\" }): JSX.Element => {\r\n  const fontSize = (6 - size < 0 ? 1 : 6 - size) / 2 + \"em\";\r\n  return <i className=\"fa fa-spinner spin\" style={{ fontSize, color }}></i>;\r\n};\r\n\r\nexport default Loader;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport {\r\n  sizeStyle,\r\n  fontStyle,\r\n  designStyle,\r\n  elementProps,\r\n  gridStyle,\r\n  FontStyle,\r\n  SizeStyle,\r\n  ElementProps,\r\n  GridStyle,\r\n} from \"../generator\";\r\n\r\ninterface GridProps extends FontStyle, SizeStyle, ElementProps, GridStyle {\r\n  children?: React.ReactNode;\r\n  background?: string;\r\n  max ?: boolean;\r\n}\r\n\r\nconst Layout = styled.div<{ props: any }>`\r\n  ${(props: any) => `\r\n    ${gridStyle(props)}\r\n    ${sizeStyle(props)}\r\n    ${fontStyle(props, false)}\r\n    ${props.background && `background: ${props.background};`}`}\r\n`;\r\n\r\nexport const Grid = (props: GridProps) => {\r\n  const { children } = props;\r\n  const elProps = elementProps(props);\r\n\r\n  return (\r\n    <Layout {...props} {...elProps}>\r\n      {children}\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst GridItemLayout = styled.div<{ props: any }>`\r\n  ${(props : any) => `\r\n     ${sizeStyle(props)}\r\n     ${gridStyle(props)}   \r\n     ${props.gridRowStart && `grid-row-start: ${props.gridRowStart};`}\r\n     ${props.gridColumnStart && `grid-column-start: ${props.gridColumnStart};`}\r\n     ${props.background && `background: ${props.background};`}\r\n     ${fontStyle(props, false)}\r\n     ${designStyle(props)}`}\r\n`;\r\n\r\nconst GridItem = (props: any) => {\r\n  const elProps = elementProps(props);\r\n\r\n  return (\r\n    <GridItemLayout {...props} {...elProps}>\r\n      {\" \"}\r\n      {props.children}{\" \"}\r\n    </GridItemLayout>\r\n  );\r\n};\r\n\r\nGrid.Item = GridItem;\r\n\r\nexport default Grid;\r\n","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport { primaryColor } from \"../../config\";\r\nimport { sizeStyle, fontStyle } from \"../generator\";\r\nimport { designStyle, elementProps } from \"../generator\";\r\nimport \"../main.scss\";\r\nimport Loader from \"../loader\";\r\nimport { Tooltip } from \"antd\";\r\n\r\nconst Bt = styled.button<{ props: any; fontProps: any }>`\r\n  ${(props: any) => designStyle(props)}\r\n  ${(props) => sizeStyle(props)}\r\n  ${(fontProps) => fontStyle(fontProps, false)}\r\n  ${({ bg, invert, disabled, color, noBorder, noHover }: any) => `\r\n  background:  ${bg || primaryColor};\r\n  border: 2px solid ${noBorder ? 'white' : bg || primaryColor};\r\n  color : ${ bg ? \"white\" : color || \"white\"};\r\n  cursor: pointer;\r\n  box-shadow: 0 3px 1px -2px rgba(0,0,0,0.2), 0 2px 2px 0 rgba(0,0,0,0.14), 0 1px 5px 0 rgba(0,0,0,0.12);\r\n  ${invert ? `background: white; color: ${primaryColor};` : ''}\r\n  ${bg && invert ? `background: white; color: ${bg !== \"white\" ? bg : primaryColor};` : ''}\r\n  ${!disabled ? `\r\n    &:hover {\r\n      ${!noHover ? `\r\n        border-color: ${bg || primaryColor};\r\n        background: ${!invert ? color || \"white\" : bg || primaryColor};\r\n        color: ${bg ? (invert ? \"white\" : bg) : !invert ? primaryColor : color || \"white\"};` : ''}\r\n      box-shadow: 0 0 0 0;\r\n      transform: scale(0.99);\r\n      transition: 350ms ease-out;\r\n  }`\r\n      : \"background: #F0F3F4; border-color: #F0F3F4; color: darkgray;\"\r\n    }\r\n\r\n&:focus{\r\n    outline:0;\r\n}`}`;\r\n\r\nexport const Button = (props: any) => {\r\n  let {\r\n    onSubmit,\r\n    children,\r\n    margin = '0.15em',\r\n    padding = '0.3em 0.4em',\r\n    minWidth = '6.5em',\r\n    disabled,\r\n    loading = false,\r\n    noHover = false,\r\n    tooltip\r\n  } = props;\r\n\r\n\r\n  const { color, size, bold, textAlign, placeSelf, textShadow, noBorder = false, faIcon } = props;\r\n  const fontProps = { color, size, bold, textAlign, placeSelf, textShadow };\r\n\r\n  props = { ...props, ...{ margin, padding, minWidth, noHover } }\r\n\r\n  return (\r\n    <Tooltip title={tooltip}>\r\n    <Bt\r\n      type={props.type || \"submit\"}\r\n      {...props}\r\n      fontProps={fontProps}\r\n      disabled={disabled}\r\n      onSubmit={onSubmit}\r\n      {...elementProps(props)}\r\n    >\r\n      {loading && (\r\n        <>\r\n          <Loader.Spinner size={4} />\r\n          &nbsp;\r\n        </>\r\n      )}\r\n      {faIcon && <i className={faIcon}></i>}\r\n      {children}\r\n    </Bt>\r\n    </Tooltip>\r\n  );\r\n};\r\nButton.Normal = styled.button`\r\n  padding: 0.3rem;\r\n  color: white;\r\n  cursor: pointer;\r\n  background: ${primaryColor};\r\n  border: 0.15em solid ${primaryColor};\r\n  border-radius: 0.25em;\r\n  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25), 0 3px 3px rgba(0, 0, 0, 0.22);\r\n  &:focus {\r\n    outline: 0;\r\n  }\r\n  ${(props) =>\r\n    !props.disabled\r\n      ? `&:hover {\r\n    background: white;\r\n    color: ${primaryColor};\r\n    box-shadow: 0 0 0 0;\r\n    transform: scale(0.99);\r\n    transition: 350ms ease-out;\r\n}`\r\n      : \"background: #F0F3F4; border-color: #F0F3F4; color: darkgray; box-shadow: 0 0 0 !important;\"}\r\n`;\r\nexport default Button;\r\n","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst ImgBox = styled.img`\r\n    object-fit: cover;\r\n    width: 8em;\r\n    padding: .5em;\r\n    height: 8em;\r\n`;\r\n\r\nexport const Avatar = ({ url, src, large, style, medium, className }: any) => {\r\n    style = {\r\n        ...style, ...large? {\r\n            borderWidth: '4px',\r\n            width: '15em',\r\n            maxHeight: \"90vw\",\r\n            height: '15em'\r\n        } : !medium? {\r\n            width: '3em',\r\n            height: '3em'\r\n        }: {}\r\n    };\r\n  return (<ImgBox className={className} src={url || src} style={style} />);\r\n}\r\n\r\nexport default Avatar;","import React from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\n\r\nconst Placehold = styled.div`\r\nbox-sizing: border-box;\r\nmargin: 1em 0;\r\nwidth: 100%;\r\nheight: 9vw;\r\nmin-height: 8em;\r\nbackground-color: #F8F9F9;\r\nbox-shadow: 1px 4px 23px 3px rgba(0,0,0, 0.2);\r\nborder-radius: .25em;\r\npadding: 3vw 4vw;\r\ndisplay: flex;\r\nflex-direction: column;\r\njustify-content: space-between;`;\r\n\r\nconst Loading = keyframes`{\r\nfrom {width: 0% }\r\nto {width: 100%;}}`;\r\n\r\nconst Loader = styled.div<{height: number}>`\r\n${props => `height: ${props.height}%;`}\r\nbackground: linear-gradient(90deg, rgba(210,210,210,0.5) 0%, rgba(238,238,238,0.7) 100%);\r\nborder-radius: 10px;\r\nanimation: ${Loading} 0.8s infinite;`\r\n\r\nexport const Placeholder = ({ style, number = 1, lines = 3 , containerStyle }: any) => {\r\n  const placeholders = [... new Array(number)]\r\n    .map((_, i: number) => (\r\n      <Placehold style={style} key={i}>\r\n        {[... new Array(lines)].map((_, i: number) => <Loader key={i} height={55 / (lines)} ></Loader>)}\r\n      </Placehold>))\r\n  if(containerStyle) return <div style={containerStyle}>{placeholders}</div>\r\n  \r\n  return <>{placeholders}</>;\r\n};\r\n\r\nexport default Placeholder;","import  { useState, useEffect } from 'react';\r\nconst usePagination = (len: number, max: number)=> {   \r\n    const [ length, setLength ] = useState(len) \r\n    const [ page, setPage ] = useState(0);    \r\n    const maxPage = Math.ceil(length / max);\r\n    const canGoBack = page > 0;\r\n    const canGoForward = page < (maxPage -1)\r\n    \r\n    const backward = ()=> canGoBack && setPage(page - 1)\r\n    \r\n    const forward = ()=> canGoForward && setPage(page + 1)\r\n\r\n\r\n    useEffect(()=> setLength(len), [len]);\r\n    return {\r\n        page,\r\n        needsPagination: maxPage > 1,\r\n        canGoBack,\r\n        canGoForward,\r\n        actions: {\r\n            forward, backward\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default usePagination;","import React from 'react';\r\nimport { Loader, Empty } from '.';\r\nimport usePagination from '../hooks/pagination';\r\n\r\ninterface List {\r\n    loading?: boolean;\r\n    list: any[];\r\n    loader?: JSX.Element | any;\r\n    emptyText?: string;\r\n    empty?: JSX.Element;\r\n    map?: any;\r\n    error?: boolean;\r\n    pagination?: any;\r\n}\r\n\r\nconst List = ({\r\n    loading = false,\r\n    error=false,\r\n    pagination,\r\n    list,\r\n    loader = <Loader.Spinner color='inherit' />,\r\n    emptyText = \"No Data\",\r\n    empty = <Empty text={emptyText} color=\"white\" style={{ marginTop: 0 }} />,\r\n    map }: List) => {\r\n    \r\n   const { page, canGoBack, canGoForward, actions, needsPagination } = usePagination(list.length, pagination? pagination.items : 0);\r\n    \r\n   if (loading)\r\n        return loader;\r\n    else if (list?.length === 0)\r\n        return empty\r\n\r\n    if (pagination) {\r\n        return <>\r\n            {list\r\n            .filter((_, i) => (pagination.items  * (page + 1) >= (i + 1)) &&  (i >= (pagination.items  * page)))\r\n            .map(map)}\r\n            { needsPagination && \r\n                <div style={{placeSelf: 'end', gridColumn: '1/-1', height: '100%'}}>\r\n                    <i \r\n                        onClick={actions.backward}\r\n                        style={{color: !canGoBack? 'gray': ''}}\r\n                        className={'fa fa-chevron-left'}\r\n                    >\r\n                    </i>\r\n                    &nbsp; &nbsp;\r\n                    <i \r\n                        style={{color: !canGoForward? 'gray': ''}}\r\n                        className={'fa fa-chevron-right'} \r\n                        onClick={actions.forward}\r\n                    >\r\n                    </i>\r\n                </div>\r\n            }\r\n        </>;\r\n    }\r\n    return <>{list.map(map? map: (el)=> el)}</>;\r\n}\r\n\r\nexport default List;","import { keyframes } from 'styled-components';\r\n\r\nexport const opacityAnimation = keyframes`\r\n  0% {\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n   opacity: 1;\r\n  }\r\n`;\r\nexport const slideIn = keyframes`\r\n    0% { \r\n      transform: translateX(15rem);\r\n    }\r\n    100% {\r\n      transform: translateX(0);\r\n    }`;\r\n\r\nexport const slideInLeft = keyframes`\r\n    0% { \r\n      transform: translateX(-15rem);\r\n    }\r\n    100% {\r\n      transform: translateX(0);\r\n    }`;\r\n\r\nexport const glow = keyframes`\r\n    0% { \r\n      transform: scale(0.9);\r\n      filter: drop-shadow(3px 4px 6px teal); \r\n    }\r\n    100% {\r\n      transform: scale(1);\r\n      filter: drop-shadow(0px 0px 0px white); \r\n    }`;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport styled from 'styled-components';\r\nimport { sizeStyle, designStyle } from '../generator';\r\nimport { slideIn } from '../../style/animation';\r\nimport  '../main.scss';\r\nimport { Grid } from '..';\r\n\r\ntype Position = 'top-left' | 'top-right' | 'top-center' | 'bottom-left' | 'bottom-right' | 'bottom-center';\r\n\r\ninterface Popup {\r\n    type : 'notification' | 'message' | 'modal',\r\n    position? : Position\r\n}\r\n\r\ninterface Notification {\r\n    title : string;\r\n    message : string;\r\n    position? : Position; \r\n    visibilityTime? : number;\r\n}\r\n\r\ntype NotificationType = \"warning\" | \"success\" | \"error\";\r\n\r\nconst Containter = styled.div`\r\ntransition: 200ms ease-out;\r\nanimation:  ${slideIn} 200ms ease-out;\r\n${sizeStyle({width : \"14rem\", minHeight: \"4rem\", margin: \".5em\", padding: '.6em'})}\r\n${designStyle({shadow: true, background: \"white\"})}`;\r\n\r\n\r\n\r\nexport const createPopup = ({ type, position } : Popup) => {\r\n    const defaultPosition = 'top-right';\r\n    const containerId = type + '-container-' + position || defaultPosition;  \r\n    const hasContainer = document.getElementById(containerId) !== null;\r\n    const container = document.getElementById(containerId) || document.createElement('div');\r\n    const div = document.createElement('div');\r\n    const root = document.getElementById('root');\r\n\r\n    if(!hasContainer){\r\n        container.setAttribute(\"id\", containerId);\r\n        container.classList.add(position || defaultPosition);\r\n        root?.appendChild(container);\r\n    }\r\n    container.prepend(div);\r\n    return {\r\n        container, child : div\r\n    }\r\n}\r\n\r\nconst Notification = (type : NotificationType, { title, message, position, visibilityTime } : Notification) =>{\r\n    const defaultVisibiltyTime = type ===  'error'? 4400 : 3300;\r\n    const { container, child } = createPopup({ type: \"notification\", position });\r\n    const remove = () =>{\r\n        try{\r\n        container.removeChild(child);\r\n        } catch(e){\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    const Notification = (<Containter id=\"111\">\r\n                            <Grid customCols=\"auto 1fr\" textAlign=\"left\">\r\n                                <Icon type={type}/>\r\n                                \r\n                                <div style={{placeSelf: \"stretch\"}} className={type}>\r\n                                    <header style={{textOverflow: \"ellipsis\"}}>{title}\r\n                                    <i className=\"fa fa-times right\" aria-hidden=\"true\" onClick={remove} style={{ color: \"darkgray\", placeSelf: \"start\"}}></i></header>\r\n                                    <div style={{textOverflow: \"ellipsis\"}}>{message}</div>\r\n                                </div>\r\n                               \r\n                            </Grid>\r\n                        </Containter>);\r\n    \r\n    setTimeout(()=> remove(), visibilityTime || defaultVisibiltyTime);\r\n    ReactDOM.render(Notification, child);  \r\n}\r\n\r\nconst Icon = ({ type } : { type : NotificationType}) => {\r\n   let iconName: string;\r\n\r\n   switch(type){\r\n        case 'warning':\r\n        iconName =  \"fa fa-exclamation-triangle warning\";\r\n        break;\r\n\r\n        case 'error':\r\n        iconName =  \"fa fa-exclamation-circle error\";\r\n        break;\r\n\r\n        default:\r\n        iconName = \"fa fa-check-circle success\";\r\n\r\n    }\r\n  return <i className={iconName} aria-hidden=\"true\" style={{ placeSelf: \"start\"}}></i>\r\n}\r\n\r\nexport default {\r\n    success : (props : Notification)=> Notification(\"success\", props),\r\n    warning : (props : Notification)=> Notification(\"warning\", props),\r\n    error : (props : Notification)=> Notification(\"error\", props),\r\n};\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport styled from 'styled-components';\r\nimport '../main.scss';\r\nimport { Grid } from '../';\r\nimport { createPopup } from '../notification';\r\nimport Button from '../button';\r\nimport { mobileWidth, primaryColor } from '../../config';\r\nimport svg from '../../assets/message3.svg';\r\ntype Position = 'top-left' | 'top-right' | 'top-center' | 'bottom-left' | 'bottom-right' | 'bottom-center';\r\n\r\ninterface ModalProps {\r\n    title: string;\r\n    message?: any;\r\n    className?: any;\r\n    position?: Position;\r\n    modal? : JSX.Element;\r\n    hideCancel?: boolean;\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n    position: fixed;\r\n    z-index: 20;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    transition: 200ms ease-out;\r\n    background-color: rgba(0,0,0,0.5);`;\r\n\r\nconst Modall = styled.div`\r\n    margin: 2% auto;\r\n    background: white;\r\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\r\n    border-radius: 1em;\r\n    width: 80%;\r\n    display: grid;\r\n    place-items: stretch;\r\n    grid-template-rows: auto 1fr;\r\n    text-align: center;\r\n    font-size: 1.2em;\r\n    padding: 0;\r\n    min-height: 260px;\r\n    max-width: 900px;\r\n    color: black;\r\n    @media(max-width: ${mobileWidth}){\r\n    position: absolute;\r\n    bottom: 90px;\r\n    width: 90vw;\r\n    left: 50%;\r\n    -webkit-transform: translateX(-50%);\r\n    transform: translateX(-50%)\r\n    }`;\r\n\r\n\r\nconst Header = styled.div`\r\n    color: white;\r\n    background-image: linear-gradient( ${primaryColor}, rgba(50, 150, 178, 0.8));\r\n    border-top-right-radius: .75em;\r\n    border-top-left-radius: .75em;\r\n    border: 0;\r\n    margin: 0;\r\n    height: 2.5em;`;\r\n\r\nconst Body = styled.div`\r\n    color: white;\r\n    minHeight: 5em;\r\n    padding: .0em;\r\n    display: grid;\r\n    place-items: center;\r\n    grid-template-rows: 1fr auto;\r\n    font-weight: bolder;\r\n    background-image: linear-gradient(rgba(208, 211, 212 , 0.7), rgba(32, 100, 78 , 0.6)), url(${svg});\r\n    border-bottom-right-radius: .75em;\r\n    border-bottom-left-radius: .75em;\r\n`;\r\n\r\nconst Modal = ({ title, message, hideCancel, position = 'top-center', className, modal }: ModalProps) => {\r\n    const { container, child } = createPopup({ type: \"modal\", position });\r\n    const body = document.getElementsByTagName('body')[0]\r\n    const close = () =>{ \r\n        try{\r\n            body?.classList.remove('noscroll')\r\n            container.removeChild(child);\r\n            ReactDOM.unmountComponentAtNode(child);\r\n        } catch(e){\r\n            console.log(e)\r\n        }\r\n    }\r\n\r\n    const El = (<Wrapper>\r\n        {modal? \r\n        modal :\r\n        <Modall className={\"appear \"+ className}>\r\n                <Header style={{ placeSelf: \"stretch\" }} >\r\n                <Grid customCols=\"1fr auto\" textAlign=\"left\">\r\n                    <header style={{ textOverflow: \"ellipsis\", color: \"white\" }}>{title}</header>\r\n                     <i className=\"fa fa-times\" aria-hidden=\"true\" onClick={close} style={{ color: \"white\", placeSelf: \"center\", padding: \".5em\"}}></i>\r\n                    </Grid>\r\n                </Header>\r\n            <Body>\r\n                {typeof message === 'string' || React.isValidElement(message) ? message : 'Error'}\r\n                {!hideCancel &&\r\n                    <div>\r\n                    <Button shadow onClick={close}>Cancel</Button>\r\n                </div>\r\n                }\r\n            </Body>\r\n        </Modall>\r\n        }\r\n    </Wrapper>);\r\n\r\n    return {\r\n        close,\r\n        open: ()=> {\r\n            if(!container.contains(child))\r\n                container.appendChild(child);\r\n            ReactDOM.render(El, child);\r\n            body?.classList.add('noscroll')\r\n        }\r\n    }\r\n}\r\n\r\nexport default Modal;","import styled from 'styled-components';\r\nimport React from 'react';\r\nimport { sizeStyle, fontStyle, FontStyle, SizeStyle, ElementProps } from '../generator';\r\nimport { primaryTxtColor } from '../../config';\r\n\r\ninterface TextProps extends FontStyle, SizeStyle, ElementProps{\r\n    children? : React.ReactNode;\r\n}\r\n\r\nconst HeaderLayout = styled.div<{styleProps: any, fontProps: any}>`\r\n${styleProps => sizeStyle(styleProps)}\r\n${fontProps =>fontStyle(fontProps, false)}`;\r\n\r\nexport const Text = (props: TextProps) => {\r\n    const { children, style, className, onClick } = props;\r\n\r\n    const { width, height, max, padding, margin, minWidth } = props;\r\n    const styleProps : SizeStyle = { \r\n        width, \r\n        height, \r\n        max, \r\n        padding, \r\n        margin, \r\n        minWidth \r\n    };\r\n\r\n    const { size, color = primaryTxtColor, bold, textAlign, placeSelf, textShadow } = props;\r\n    const fontProps : FontStyle = {\r\n        size: typeof size === 'number'? (6 - size)/3 + \"rem\": size? size : \"1em\",\r\n        color, \r\n        bold, \r\n        textAlign : textAlign || 'left',  \r\n        placeSelf, \r\n        textShadow\r\n    };\r\n\r\n    return (\r\n        <HeaderLayout \r\n            {...props}\r\n            styleProps={styleProps}\r\n            fontProps={fontProps}\r\n            onClick={onClick} \r\n            className={className} \r\n            style={style}\r\n        > \r\n        {children} \r\n        </HeaderLayout>\r\n    );\r\n}\r\n\r\nexport default Text;","import { Grid, MenuItem, Text } from \"..\";\r\nimport React from 'react';\r\n\r\n\r\nconst Switch = ({ onClick, active, items, style } : any)=>(\r\n    <Grid padding=\".5em\" style={style}>\r\n    <div\r\n      className=\"shadow noselect\"\r\n      style={{\r\n        background: \"#CDF7E0\",\r\n        padding: \".2em\",\r\n        borderRadius: \"1.5em\",\r\n      }}\r\n    >\r\n      {items.map((item: string) => (\r\n        <MenuItem\r\n          key={item}\r\n          style={{ borderRadius: \"1.5em\" }}\r\n          active={active === item}\r\n          onClick={() => onClick(item)}\r\n        >\r\n          {item.charAt(0).toUpperCase() +\r\n           item.substring(1).toLowerCase().replace(/_/g, \" \")}\r\n        </MenuItem>\r\n      ))}\r\n    </div>\r\n  </Grid>\r\n  );\r\n\r\n  Switch.underlined = ({ onClick, active, items, style } : any)=>(\r\n    <Grid padding=\".5em\" style={style}   className=\"noselect\" cols='3'  mobileLayout={false}>\r\n      {items.map((item: string) => (\r\n        <Text\r\n          bold\r\n          color='white'\r\n          key={item}\r\n          width='100%'\r\n          className='pointer'\r\n          style={{borderBottom: active === item? '2px solid white': '', fontSize: \"1.2em\"}}\r\n          onClick={() => onClick(item)}\r\n        >\r\n          {item.charAt(0).toUpperCase() +\r\n           item.substring(1).toLowerCase().replace(/_/g, \" \")}\r\n        </Text>\r\n      ))}\r\n  </Grid>\r\n  );\r\n\r\n\r\n  export default Switch;","import styled from \"styled-components\";\r\nimport React from \"react\";\r\nimport { primaryColor } from \"../../config\";\r\nimport { elementProps } from \"../generator\";\r\n\r\nconst MI = styled.span<{ active: boolean, inverted: boolean | undefined, fullWidth: boolean | undefined  }>`\r\n  ${(props) => `\r\n    cursor : pointer;\r\n    padding: .3em .5em;\r\n    font-size: 1.05em;\r\n    text-transform: capitalize;\r\n    transition: 400ms ease-out;\r\n    color: ${primaryColor};\r\n    ${props.fullWidth? 'width: 100%;' : ''}\r\n    border-radius: ${props.fullWidth? 0 : '1.5em'}; \r\n    font-weight: bold;\r\n    ${props.active &&`\r\n        border-radius: ${props.fullWidth? 0 :'.6em'};\r\n        box-shadow: 0 .13em .2em rgba(0,0,0,.5);\r\n        background: ${props.inverted ? \"white\" : primaryColor}; color: ${\r\n            props.inverted ? primaryColor : \"white\"\r\n        }`\r\n    }`}\r\n`;\r\n\r\nexport const MenuItem = (props: any) => {\r\n  return (\r\n    <MI {...elementProps(props)} {...props}>\r\n      {props.children}\r\n    </MI>\r\n  );\r\n};\r\n\r\nexport default MenuItem;\r\n","import React from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { primaryColor  } from \"../../config\";\r\n\r\nexport const Badge = ({\r\n  disabled = false,\r\n  inverted = false,\r\n  children,\r\n  bold = false,\r\n  onClick,\r\n  style,\r\n  className\r\n} : any) => {\r\n  return (\r\n    <BadgeEl  \r\n    className={className + \" noselect\"} \r\n    style={style}\r\n    bold={bold}\r\n    onClick={onClick} \r\n    disabled={disabled} \r\n    inverted={inverted}>\r\n      {children}\r\n    </BadgeEl>\r\n  );\r\n};\r\nexport const BadgeEl = styled.span<{ disabled: boolean; inverted: boolean; bold : boolean}>`\r\n    border-radius: .5em;\r\n    background: ${primaryColor};\r\n    font-size: .8em;\r\n    color: white;\r\n    margin: .2em;\r\n    text-transform: capitalize;\r\n    padding .3em .6em;\r\n    ${(props) => `\r\n    ${props.bold? `font-weight: bolder;` : ''}\r\n    ${ \r\n      props.inverted\r\n        ? `background: white !important;\r\n        color: ${primaryColor};\r\n        padding .1em .4em;\r\n        border: .2em solid ${primaryColor};\r\n         color: ${primaryColor};`\r\n        : props.disabled\r\n        ? `background: ${\"gray\"}; \r\n        color: white;`\r\n        : \"\"\r\n    }   \r\n    `}`;\r\n\r\n\r\nexport default Badge;\r\n","import React from 'react';\r\nimport empty from \"../../assets/empty.svg\";\r\nimport { Grid, Header } from '../';\r\n\r\nconst Empty = ({ text = 'No Data', style = {}, color =\"inherit\"})=>{\r\nreturn(\r\n      <Grid customRows={'auto auto'} placeItems='center' width='100%'>\r\n          <img src={empty} style={{ maxWidth: \"200px\", width: \"100%\", marginTop: \"10vh\" , ...style}} />\r\n          <Header bold color={color} style={{lineHeight: \"1em\"}}>{text}</Header>\r\n      </Grid>\r\n  )\r\n};\r\n\r\nexport default Empty;","  \r\nimport React, { createContext } from 'react';\r\n\r\nconst initialState = {\r\n  sidebar: false,\r\n  toggleSidebar: ()=>{},\r\n  collapsed: true,\r\n  toggleCollapsed : (b = false)=>{}\r\n}\r\nexport const NavContext = createContext(initialState);\r\n\r\nexport class NavProvider extends React.Component {\r\n\r\n  toggleSidebar = ()=> {this.setState({ sidebar : !this.state.sidebar})};\r\n  \r\n  toggleCollapsed = (collapsed = false)=> this.setState({ collapsed });\r\n  state = {\r\n    ...initialState,\r\n    toggleSidebar : this.toggleSidebar,\r\n    toggleCollapsed: this.toggleCollapsed\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <NavContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </NavContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const NavConsumer = NavContext.Consumer;","import React, { useContext , useEffect} from 'react';\r\nimport styled, { keyframes } from 'styled-components';\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Avatar, Grid } from '..';\r\nimport { useLocation } from \"react-router\";\r\nimport { mobileWidth, primaryColor,  primaryTxtColor } from '../../config';\r\nimport { Badge } from '../badge';\r\nimport { useSelector} from 'react-redux';\r\nimport { NavContext } from '../../context/nav-context';\r\nimport { Enterprise } from '../../model/domain/enterprise';\r\n\r\nconst Sidebar = () => {\r\n  const { user , role} = useSelector((state: any) => state.user);\r\n  const enterprise : Enterprise = useSelector((state: any) => state.user.enterprise);\r\n  const { collapsed, toggleCollapsed } = useContext(NavContext)\r\n  const location = useLocation().pathname;\r\n\r\n  const makeStr = (bool: boolean): string => String(bool)\r\n  const routes = [\r\n    { to: [`/`, \"/overview\"], name: \"Overview\", icon: \"fa fa-heartbeat\" },\r\n    { to: [`/garages`], name: \"Garages\", icon: \"fas fa-warehouse\" },\r\n    { to: [\"/announcements\"], name: \"Announcements\", icon: \"fas fa-bullhorn\" },\r\n    { to: [`/citations`], name: \"Citation\", icon: \"fas fa-money-check-alt\" },\r\n    { to: [\"/controls\"], name: \"Controls\", icon: \"fas fa-cog\" },\r\n    { to: [\"/events\"], name: \"Events\", icon: \"fa fa-calendar\" },\r\n  ];\r\n\r\n  const activeStyle = {\r\n    borderLeft : \".3em solid \"+ primaryColor,\r\n    color: primaryColor\r\n  }\r\n\r\n  const collapsedHidden = collapsed ? \"hide\" : \"\";\r\n  return (\r\n  <div onMouseLeave={() => toggleCollapsed(true)} onMouseEnter={() =>toggleCollapsed(false)}>\r\n    <LeftNav background={\"\"} collapsed={collapsed}>\r\n      <Grid.Item hideOnMobile>\r\n        <Avatar\r\n          medium={!collapsed}\r\n          src={enterprise.imageUrl}\r\n        />\r\n        <span className={\"txt-md txt-center grid \" + collapsedHidden}>\r\n          <div className=\"capitalize\"> {user.name}</div>\r\n          <Badge\r\n            style={{fontSize: \".7em\", padding: \".1em .4em\", borderWidth: 2}}\r\n            inverted\r\n            className={\"shadow capitalize \" + collapsedHidden}>\r\n            {role || \"member\"}\r\n          </Badge>\r\n        </span>\r\n      </Grid.Item>\r\n\r\n      {routes.map(({ to, name, icon }: any, i) => {\r\n        return (\r\n          <MyNavLink\r\n            className={i > 4? 'hide-mobile': ''}\r\n            key={name}\r\n            collapsed={collapsed}\r\n            style={{\r\n              gridTemplateColumns: collapsed ? '1fr' : 'auto 1fr',\r\n               ...to.includes(location)? activeStyle: {}\r\n            }}\r\n            to={to[0] || \"/\"}\r\n            active={makeStr(to.reduce((acc: boolean, _: any) => (acc || false), false))}\r\n          >\r\n            <i style={{ fontSize: \"1.6em\", padding: \"0 .3em\" }} className={icon}></i>\r\n            <div className={\"txt-center hide-mobile \" + collapsedHidden}>\r\n              {name}\r\n            </div>\r\n            <div style={{ height: \"2px\" }}></div>\r\n            <div style={{ width: \"100%\", height: \"2px\" }} ><Line /></div>\r\n          </MyNavLink>)\r\n      })\r\n      }\r\n    </LeftNav>\r\n  </div>\r\n  )\r\n};\r\n\r\nconst Line = styled.hr`transform: scaleX(0);`;\r\nconst border = keyframes`from { transform: scaleX(0); } to { transform: scaleX(1);}`;\r\n\r\nconst MyNavLink = styled(NavLink) <{ active: string; collapsed: boolean }>`\r\n  display: grid;\r\n  text-decoration: none;\r\n  place-items: center;\r\n  color: ${primaryTxtColor};\r\n  font-size: 1.35em;\r\n  cursor: pointer;\r\n  padding: .8em .4em;\r\n\r\n  @media(max-width: ${mobileWidth}){\r\n    border-left: 0 !important;\r\n    grid-template-columns: 1fr;\r\n    padding-left: .3em;\r\n  }\r\n\r\n  @media(min-width: ${mobileWidth}){\r\n    &:hover ${Line} {\r\n      color: ${primaryColor};\r\n      animation : ${border} 300ms ease-out;\r\n      transform: scaleX(1);\r\n    }\r\n  }\r\n\r\n`;\r\n\r\nconst LeftNav = styled.div<{ background: string; collapsed: boolean }>`\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n  font-size: .8em;\r\n  display: grid;\r\n  padding: .3em;\r\n  position: fixed;\r\n  z-index: 100;\r\n  left: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  color: ${primaryColor};\r\n  ${({ collapsed }: any) => `width: ${collapsed ? '6em' : '17em'};`}\r\n  grid-template-rows: repeat(16, auto);\r\n  align-items: center;\r\n  justify-items: stretch;\r\n  transition: 100ms ease-out;\r\n  background-color: white;\r\n  background-image: url(${(props) => props.background});\r\n  background-attachment: fixed;\r\n  @media (max-width: ${mobileWidth}) {\r\n    height: 55px;\r\n    width: 100vw;\r\n    top: inherit;\r\n    bottom: 0;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\r\n    grid-template-rows: 1fr;\r\n  }\r\n`;\r\n\r\nexport default Sidebar;","import { User } from \"../../model/domain/user\";\r\nimport Key from \"../../json/keys.json\";\r\nimport userStates from \"../../json/user-state.json\";\r\n\r\ninterface UserActions {\r\n  type: ActionTypes;\r\n  user?: User;\r\n  enterprise?: any,\r\n  token?: string;\r\n  loading: boolean;\r\n  error: boolean;\r\n  userState: \"APPROVED\" | \"UNAUTH\" | \"ENTERPISE_SELECT\" | \"ENTERPISE_PENDING\";\r\n}\r\n\r\nconst intialState = {\r\n  user: {},\r\n  enterprise: {},\r\n  error: false,\r\n  loading: false,\r\n  userState: userStates.UNAUTH\r\n};\r\n\r\nexport enum ActionTypes {\r\n  LOGIN = \"LOGIN\",\r\n  AUTH = \"AUTH\",\r\n  LOGOUT = \"LOGOUT\",\r\n  SIGNUP = \"SIGNUP\",\r\n  ADD_ENTERPISE = \"ADD_ENTERPISE\",\r\n  PASSWORD_RESET = \"PASSWORD_RESET\",\r\n  FORGOT_PASSWORD = \"FORGOT_PASSWORD\",\r\n  GET_ENTERPRISE = \"GET_ENTERPRISE\",\r\n  USER_REQUEST_FAILED = \"USER_REQUEST_FAILED\",\r\n  USER_REQUEST_PENDING = \"USER_REQUEST_PENDING\",\r\n  USER_REQUEST_SUCCESS = \"USER_REQUEST_SUCCESS\",\r\n  RESET_ERROR = \"RESET_ERROR\"\r\n};\r\n\r\nconst calcUserState = (user: User | undefined) => {\r\n  if (!user || user === undefined||  user.apps === undefined) return userStates.UNAUTH;\r\n  else if (user.apps.enterpriseApp === \"onboardRequestRequired\")\r\n    return userStates.ENTERPISE_SELECT;\r\n  else if (user.apps.enterpriseApp === \"onboarding\")\r\n    return userStates.ENTERPISE_PENDING;\r\n  return userStates.APPROVED;\r\n};\r\n\r\nconst setLoggedIn = (flag: boolean)=> localStorage.setItem('LOGGED_IN', String(flag))\r\n\r\nexport default function rootReducer(\r\n  state = intialState,\r\n  action: UserActions\r\n): any {\r\n  switch (action.type) {\r\n    case ActionTypes.LOGOUT:\r\n      setLoggedIn(false)\r\n      localStorage.removeItem(Key.USER);\r\n      return { ...state, user: undefined, userState: userStates.UNAUTH , loading: false};\r\n\r\n    case ActionTypes.LOGIN:\r\n    case ActionTypes.SIGNUP:\r\n      const { user, token } = action;\r\n      setLoggedIn(true)\r\n      localStorage.setItem(Key.USER, token || \"\");\r\n      return { ...state, user, userState: calcUserState(user), loading: false };\r\n\r\n    case ActionTypes.AUTH:\r\n      setLoggedIn(true)\r\n      return { ...state, user: action.user, userState: calcUserState(action.user), loading: false };\r\n\r\n    case ActionTypes.ADD_ENTERPISE:\r\n      return { ...state, userState: userStates.ENTERPISE_PENDING };\r\n    \r\n      case ActionTypes.GET_ENTERPRISE:\r\n        return { ...state, enterprise: action.enterprise };\r\n      \r\n    case ActionTypes.USER_REQUEST_PENDING:\r\n      return { ...state, loading: true, error: false };\r\n\r\n    case ActionTypes.USER_REQUEST_FAILED:\r\n      return { ...state, error: true, loading: false };\r\n\r\n    case ActionTypes.USER_REQUEST_SUCCESS:\r\n      return { ...state, loading: false };\r\n\r\n    case ActionTypes.RESET_ERROR:\r\n      return { ...state, error: false };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","\r\nimport Key from '../json/keys.json'\r\n\r\nfunction header() {\r\n    return { \"Content-Type\": \"application/json\" };\r\n  }\r\n  \r\n  function authHeader() {\r\n    let authtoken = localStorage.getItem(Key.USER) || \"\";\r\n    return { \"Content-Type\": \"application/json\", authtoken };\r\n  }\r\n  \r\n  \r\n  function authUploadHeader() {\r\n    let authtoken = localStorage.getItem(Key.USER) || \"\";\r\n    return {  'content-type': 'multipart/form-data', token: authtoken };\r\n  }\r\n  \r\n  export { header , authHeader, authUploadHeader };","import { authHeader , header, authUploadHeader } from './header';\r\nconst delay = (f: any) => new Promise(resolve => setTimeout(resolve, f));\r\n\r\nconst DELAY = 800; \r\n\r\nconst delayedResponse = async (response: any) => {\r\n  await delay(DELAY)\r\n  return response.json()\r\n};\r\n\r\nconst response = (res: any) => res.json()\r\n\r\nfunction post(url: string, body: object, useDelay = true) {\r\n  return fetch(url, { method: 'POST', headers: header(), body: JSON.stringify(body) })\r\n    .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction get(url: string, useDelay = true) {\r\n  return fetch(url, { method: 'GET', headers: header() })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authGet(url: string, useDelay = true){\r\n  return fetch(url, { method: 'GET', headers: authHeader() })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authCustom(url: string, header: any, useDelay = true){\r\n  return fetch(url, { method: 'GET', headers: header} )\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authDelete(url: string, params : string, useDelay = true){\r\n  return fetch(`${url}/${params}`, { method: 'DELETE', headers: authHeader()} )\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction customPost(url: string, header: any, body: object, useDelay = true) {\r\n  return fetch(url, { method: 'POST', headers: {\"Content-Type\": \"application/json\", ...header} , body: JSON.stringify(body) })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authPost(url : string, body : any, useDelay = true) {\r\n  return fetch(url, { method: 'POST', headers: authHeader(), body: JSON.stringify(body) })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authPut(url : string, body : any, useDelay = true) {\r\n  return fetch(url, { method: 'PUT', headers: authHeader(), body: JSON.stringify(body) })\r\n  .then(response);\r\n}\r\n\r\nfunction authGetQuery(url: string, query : string){\r\n  return fetch(`${url}/?${query}`, { method: 'GET', headers: authHeader() })\r\n    .then((response : any) => response.json());\r\n}\r\n\r\nfunction authGetParams(url: string, param : string){\r\n  return fetch(`${url}/${param}`, { method: 'GET', headers: authHeader() })\r\n    .then((response : any) => response.json());\r\n}\r\n\r\nfunction authUpload(url : string, file : any) {\r\n  return fetch(url, { method: 'POST', body: file })\r\n  .then((response : any) => response.json());\r\n}\r\n\r\n\r\nexport { get, authGet, post, authPost, authPut, customPost, authCustom, authGetParams, authGetQuery, authUpload, authDelete };","import { post, authGet, authPost, customPost } from './request';\r\nimport { API  } from '../config'\r\nimport { Announcement } from '../model/domain/announcements';\r\n\r\nconst route = (route : string )=> API + route;\r\n\r\n //User\r\n const auth = ()=> authGet(route(\"/v1/users/me\"), false);\r\n const getUser = auth;\r\n\r\n //Password Forget\r\n const forgotPassword = (props: any) => post(route(\"/users/password/forgot\"), props);\r\n const confirmEmail = (props: any) => post(route(\"/users/password/verify-forgot\"), props);\r\n const resetPassword = (header: any, props: any) => customPost( route(\"/users/password/change\"), header, props);\r\n\r\n const login = (props : any)=> post(route(\"/v1/login\"), props);\r\n const signup = (props: any)=> authPost(route(\"/v1/signup\"), props); \r\n \r\n//Enterpises\r\nconst selectEnterpise = (enterpriseId: string, userId: string)=> authPost(route(`/v1/enterprises/${enterpriseId}/users/${userId}/onboard/request`), {role: \"member\"}); \r\nconst getEnterprises = ()=> authGet(route(\"/v1/enterprises\"), false);\r\nconst getEnterpriseByUserId = (userId : string)=> authGet(route(`/v1/enterprises/search/by-user?userId=${userId}`), false);\r\nconst getEnterpriseUsers = (eId : string)=> authGet(route(`/v1/enterprises/${eId}/users`));\r\nconst removeEnterpriseUser = (eid: string, userId : string)=> authPost(route(`/v1/enterprises/${eid}/users/${userId}/remove`),{});\r\nconst rejectEnterpriseUser = (eid: string, userId : string)=> authPost(route(`/v1/enterprises/${eid}/users/${userId}/onboard/reject`),{});\r\nconst acceptEnterpriseUser = (eid: string, userId : string)=> authPost(route(`/v1/enterprises/${eid}/users/${userId}/onboard/approve`), {});\r\n\r\n //Metrics\r\n const getTimeSeries = (eId: string, props:  any)=> authGet(route(`/v1/enterprises/${eId}/metrics/timeSeries?timeSeriesQuery=`+ JSON.stringify(props)));\r\n const getTimeSeriesMetricDescriptor = (eId: string, metricType:  string)=> authGet(route(`/v1/enterprises/${eId}/metrics/timeSeriesMetricDescriptors/${metricType}`));\r\n\r\n \r\n //Garages\r\n const getGarages = (eid: string)=> authGet(route(`/v1/enterprises/${eid}/garages`));\r\n const addGarage = (eid : string, garage: any)=> authPost(route(`/v1/enterprises/${eid}/garages`), garage);\r\n const editGarage = (eid : string, garage: any)=> authPost(route(`/v1/enterprises/${eid}/garages/${garage.id}/edit`), garage);\r\n\r\n //Occupancy Table\r\n const getOccupancyTables = (eId: string)=> authGet(route(`/v1/enterprises/${eId}/garageOccupancyTables`));\r\n const getOccupancyTableById = (eId: string, tId: string)=> authGet(route(`/v1/enterprises/${eId}/garageOccupancyTables/${tId}`), false);\r\n const addOccupancyTable = (eId: string, props: any)=> authPost(route(`/v1/enterprises/${eId}/garageOccupancyTables`), props);\r\n const removeOccupancyTable = (eId: string,tId: string)=> authPost(route(`/v1/enterprises/${eId}/garageOccupancyTables/${tId}/remove`), {});\r\n const editOccupancyTable = (eId: string,tId: string, table: any)=> authPost(route(`/v1/enterprises/${eId}/garageOccupancyTables/${tId}/edit`), table)\r\n\r\n //announcement\r\nconst getAnnoucements = (eid: string) => authGet(route(`/v1/enterprises/${eid}/announcements`));\r\nconst addAnnoucement = (eid: string, props : Announcement) => authPost(route(`/v1/enterprises/${eid}/announcements`), props);\r\nconst deleteAnnoucement = (eid : string, aid : string) => authPost(route(`/v1/enterprises/${eid}/announcements/${aid}/remove`), {});\r\nconst editAnnoucement = (eid : string, aid : string, props : any) => authPost(route(`/v1/enterprises/${eid}/announcements/${aid}/edit`), props);\r\n\r\n//Widgets\r\nconst getWidgets = (eId : string)=>authGet(route(`/v1/enterprises/${eId}/dashboards`), true);\r\nconst editWidgets = (eId : string, dId: string, widgets: any)=>authPost(route(`/v1/enterprises/${eId}/dashboards/${dId}/edit`), widgets);\r\nconst getScoreCardOptions = (eId : string, resource = undefined)=> authGet(route(`/v1/enterprises/${eId}/metrics/flatValueMetricDescriptors/${resource? `search/by-resourceType?resourceType=${resource}`: \"\"}`), false);\r\nconst getFlatValue = (eId: string, metrics: any)=>authGet(route(`/v1/enterprises/${eId}/metrics/flatValue?flatValueQuery=` + JSON.stringify(metrics)), false)\r\nconst getFlatValueMetricDes = (eId: string, metrics: any)=>authGet(route(`/v1/enterprises/${eId}/metrics/flatValueMetricDescriptors/` + metrics), false)\r\n  // \r\nexport default {\r\n  getGarages, getTimeSeries, addGarage, editGarage,\r\n  auth, getUser, login, signup, getTimeSeriesMetricDescriptor,\r\n  forgotPassword,confirmEmail, resetPassword, \r\n  selectEnterpise, getEnterprises, getEnterpriseByUserId, getEnterpriseUsers,\r\n  removeEnterpriseUser, rejectEnterpriseUser, acceptEnterpriseUser,\r\n  getAnnoucements, addAnnoucement, deleteAnnoucement, editAnnoucement,\r\n  getWidgets, editWidgets, getScoreCardOptions,\r\n  getFlatValue,  getFlatValueMetricDes,\r\n  getOccupancyTables, addOccupancyTable, removeOccupancyTable, editOccupancyTable, getOccupancyTableById\r\n }","\r\nimport React from 'react';\r\nimport { Tooltip } from \"antd\";\r\nconst LIMIT = 20;\r\n\r\nexport const overflowTxt = (txt: string) => `${txt?.substring(0, LIMIT)}${txt?.length > LIMIT ? '...' : ''}`;\r\n\r\nexport const overflow = (txt: string, limit = LIMIT) =>{\r\nif(txt?.length <= limit) return txt;\r\nreturn(\r\n<Tooltip title={txt}>\r\n  <span className=\"cursor capitalize\">\r\n      { `${txt?.substring(0, limit)}${txt?.length > limit ? '...' : ''}`}\r\n </span>\r\n</Tooltip>)\r\n}","import * as Sentry from '@sentry/browser';\r\n\r\nexport default {\r\n    log: (error: any) => {\r\n        console.log(error)\r\n        Sentry.captureException(error)\r\n    }\r\n}","import { ActionTypes } from '../reducer/user';\r\nimport api from '../../api';\r\nimport { Notification } from '../../style';\r\nimport { User } from '../../model/domain/user';\r\nimport { overflow } from '../../utils/text';\r\nimport logger from '../../utils/logger';\r\n\r\nexport const asyncActions = async (apiCall: () => Promise<any>, dispatch: any, showError = false) => {\r\n    try {\r\n        dispatch({ type: ActionTypes.USER_REQUEST_PENDING });\r\n        let payload = await apiCall();\r\n        if (!payload || !payload.success)\r\n            throw new Error(payload.message || \"Error\");\r\n\r\n        dispatch({ type: ActionTypes.USER_REQUEST_SUCCESS })\r\n        return await payload;\r\n    } catch (e) {\r\n        logger.log(e)\r\n        if (showError) {\r\n            Notification.error({ title: \"Error\", message: String(e?.message || e) });\r\n        }\r\n        dispatch({ type: ActionTypes.USER_REQUEST_FAILED })\r\n    }\r\n}\r\n\r\nconst formatUser = (user: User) => ({ ...user, name: overflow(user.name) });\r\nconst isLoggedIn = () => Boolean(localStorage.getItem('LOGGED_IN'));\r\n\r\nexport const auth = () => {\r\n    return async (dispatch: any) => {\r\n        if (isLoggedIn()) {\r\n            const payload = (await asyncActions(() => api.auth(), dispatch));\r\n            if (payload && payload.success) {\r\n                await getEnterprise(payload.user, dispatch)\r\n                dispatch({ type: ActionTypes.AUTH, user: formatUser(payload.user), token: payload.authToken });           \r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst getEnterprise = async (user: User, dispatch: any) => {\r\n    if (user?.apps?.enterpriseApp === 'enabled') {\r\n        const { id } = user;\r\n        const enterprisePayload = (await asyncActions(() => api.getEnterpriseByUserId(id), dispatch));\r\n\r\n        if (enterprisePayload?.success)\r\n            dispatch({ type: ActionTypes.GET_ENTERPRISE, enterprise: enterprisePayload.enterprise });\r\n    }\r\n}\r\n\r\nexport const login = (props: any) => {\r\n    return async (dispatch: any) => {\r\n        const delay = 1500;\r\n        const payload = await asyncActions(() => api.login(props), dispatch, true);\r\n        if (payload && payload.success) {\r\n            await getEnterprise(payload.user, dispatch);\r\n            dispatch({ type: ActionTypes.LOGIN, user: formatUser(payload.user), token: payload.authToken });       \r\n        }\r\n    }\r\n}\r\n\r\nexport const signup = (props: any) => {\r\n    return async (dispatch: any) => {\r\n        const payload = await asyncActions(async () => await api.signup(props), dispatch, true);\r\n\r\n        if (payload && payload.success) {\r\n            await getEnterprise(payload.user, dispatch)\r\n            dispatch({ type: ActionTypes.SIGNUP, user: formatUser(payload.user), token: payload.authToken })           \r\n        }\r\n    }\r\n}\r\n\r\nexport const addEnterprise = (enterpriseId: string, userId: string) => {\r\n    return async (dispatch: any) => {\r\n        const payload = (await asyncActions(() => api.selectEnterpise(enterpriseId, userId), dispatch, true));\r\n        if (payload && payload.success) {\r\n            dispatch({ type: ActionTypes.ADD_ENTERPISE })\r\n        }\r\n    }\r\n}\r\n\r\nexport const logout = () => (dispatch: any) => dispatch({ type: ActionTypes.LOGOUT });","const intialState = {\r\n    garages : []\r\n}\r\n\r\nexport default function rootReducer(state = intialState, action : any) : any{\r\n    switch( action.type){\r\n        case 'GET_GARAGES':\r\n            return {\r\n                ...intialState, garages : [action.garages]\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    };\r\n}","import { Announcement } from \"../../model/domain/announcements\";\r\nimport announcement from \"../../pages/announcement\";\r\n\r\ninterface State {\r\n    announcements: Announcement[];\r\n    loading: boolean;\r\n    error: boolean;\r\n}\r\n\r\ninterface Action {\r\n    type: string;\r\n    payload: {\r\n        announcement?: Announcement;\r\n        announcements?: Announcement[];\r\n        index? : number;\r\n    };\r\n    loadingAction: boolean;\r\n    loadingAnnouncements?: boolean;\r\n    error?: boolean;\r\n}\r\n\r\nconst intialState = {\r\n    error: false,\r\n    loadingAnnouncements: false,\r\n    loadingAction: false,\r\n    announcements: [] as Announcement[],\r\n};\r\n\r\nexport const actions = {\r\n    ACTION_ANNOUNCEMENT_PENDING: \" ACTION_ANNOUNCEMENT_PENDING\", //Includes Edit, Add, Delete\r\n    ACTION_ANNOUNCEMENT_ERROR: \"ACTION_ANNOUNCEMENT_ERROR\", //Includes Edit, Add, Delete\r\n\r\n    EDIT_ANNOUNCEMENT_SUCCESS: \"EDIT_ANNOUNCEMENT_SUCCESS\",\r\n    ADD_ANNOUNCEMENT_SUCCESS: \"ADD_ANNOUNCEMENT_SUCCESS\",\r\n    DELETE_ANNOUNCEMENT_SUCCESS: \"DELETE_ANNOUNCEMENT_SUCCESS\",\r\n\r\n    GET_ANNOUNCEMENTS_PENDING: \"GET_ANNOUNCEMENTS_PENDING\",\r\n    GET_ANNOUNCEMENTS_SUCCESS: \"GET_ANNOUNCEMENTS_SUCCESS\",\r\n    GET_ANNOUNCEMENTS_ERROR: \"GET_ANNOUNCEMENTS_ERROR\",\r\n};\r\n\r\nexport default function rootReducer(state = intialState, action: Action): any {\r\n\r\n    const { payload, type } = action;\r\n\r\n    switch (type) {\r\n        case actions.ACTION_ANNOUNCEMENT_PENDING:\r\n            return { ...state, loadingAction: true };\r\n\r\n        case actions.GET_ANNOUNCEMENTS_PENDING:\r\n            return { ...state, loadingAnnouncements: true };\r\n\r\n        case actions.ADD_ANNOUNCEMENT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loadingAction: false,\r\n                announcements: [...state.announcements, payload.announcement],\r\n            };\r\n\r\n        case actions.DELETE_ANNOUNCEMENT_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loadingAction: false,\r\n                announcements: state.announcements.filter(\r\n                    (item: Announcement) => item !== payload.announcement\r\n                ),\r\n            };\r\n\r\n        case actions.EDIT_ANNOUNCEMENT_SUCCESS:\r\n            const { id: idToFind } = payload.announcement as Announcement;\r\n            const tempAnnouncement = [ ...state.announcements ];\r\n            const index = state.announcements.reduce((acc, cur, i)=> cur.id === idToFind? i : acc, -1)\r\n            tempAnnouncement[index as number]  = payload.announcement as Announcement\r\n            return {\r\n                ...state,\r\n                loadingAction: false,\r\n                announcements: tempAnnouncement\r\n            };\r\n\r\n        case actions.GET_ANNOUNCEMENTS_SUCCESS:\r\n            return {\r\n                ...state,\r\n                loadingAnnouncements: false,\r\n                announcements: payload?.announcements || []\r\n            };\r\n\r\n        case actions.GET_ANNOUNCEMENTS_ERROR:\r\n            return {\r\n                ...state,\r\n                error: true,\r\n                loadingAnnouncements: false,\r\n                announcements: [],\r\n            };\r\n\r\n\r\n        case actions.ACTION_ANNOUNCEMENT_ERROR:\r\n            return {\r\n                ...state,\r\n                error: true,\r\n                loadingAction: false,\r\n                loadingAnnouncements: false\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport garage from './garage'\r\nimport user from './user'\r\nimport announcement from './announcement'\r\n\r\nexport default combineReducers({\r\n  garage,\r\n  user,\r\n  announcement\r\n})","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport  rootReducer  from './reducer';\r\n\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\n\r\nconst logger = (store : any) =>( next : any) => (action : any) => {\r\n   console.group(action.type)\r\n   console.info('dispatching', action)\r\n   let result = next(action)\r\n   console.log('next state', store.getState())\r\n   console.groupEnd()\r\n   return result\r\n }\r\n\r\n \r\nconst ReduxThunk = require('redux-thunk').default\r\nconst store = createStore(rootReducer, composeWithDevTools(\r\n   \r\n applyMiddleware(ReduxThunk, logger)));\r\n\r\nexport default store;","import store from '../store';\r\nimport mo, { Moment as MomentType} from 'moment-timezone';\r\n\r\nexport const moment = mo;\r\n\r\nlet currentTz = getTimezoneFromStore();\r\nlet tzChangeListeners : any[] = [];\r\n\r\nstore.subscribe(() => {\r\n  const tz = getTimezoneFromStore();\r\n  if (currentTz !== tz) {\r\n    currentTz = tz;\r\n    moment.tz.setDefault(tz);\r\n    tzChangeListeners.forEach(l => l(currentTz));\r\n  }\r\n});\r\n\r\nexport const defaultInterval = () => {\r\n  const endTime = moment();\r\n  const startTime = endTime.clone()\r\n    .set('hours', 0)\r\n    .set('minute', 0)\r\n    .set('second', 0)\r\n    .set('millisecond', 0);\r\n  return { endTime: endTime.toISOString(), startTime: startTime.toISOString() };\r\n};\r\n\r\nexport const currentMonth = (month = 0) => {\r\n  const endTime = moment();\r\n  const startTime = endTime.clone()\r\n    .set('month', endTime.month() + month)\r\n    .set('date', 1)\r\n    .set('hours', 0)\r\n    .set('minute', 0)\r\n    .set('second', 0)\r\n    .set('millisecond', 0);\r\n  return { endTime: endTime.toISOString(), startTime: startTime.toISOString() };\r\n};\r\n\r\n\r\n\r\nexport const yearToDate = () => {\r\n  const endTime = moment();\r\n  const startTime = endTime.clone()\r\n    .set('month', 0)\r\n    .set('date', 1)\r\n    .set('hours', 0)\r\n    .set('minute', 0)\r\n    .set('second', 0)\r\n    .set('millisecond', 0);\r\n  return { endTime: endTime.toISOString(), startTime: startTime.toISOString() };\r\n};\r\n\r\nexport const getInterval = (days: number)=>{\r\n  const endTime = moment();\r\n  const startTime = endTime.clone().add(-days, 'day');\r\n  return { endTime : endTime.toISOString(), startTime : startTime.toISOString() }\r\n}\r\n\r\nfunction getTimezoneFromStore() {\r\n  //NOTE: since number of files reference timezone before even \r\n  //timezone of the enterprise is loaded, and never update themselves\r\n  //e.g. filter-options.ts, this was necessary.\r\n  //TODO: fix those files later and have this back to utc\r\n  return store.getState().user?.enterprise?.tz || 'America/Los_Angeles';\r\n}\r\n\r\ninterface TimezoneChangeListener {\r\n  (tz: string): void;\r\n}\r\nexport function addTimezoneChangeListener(listener: TimezoneChangeListener) {\r\n  const exists = !!tzChangeListeners.find(l => l === listener);\r\n  if (!exists) {\r\n    tzChangeListeners.push(listener);\r\n  }\r\n}\r\nexport function removeTimezoneChangeListener(listener: TimezoneChangeListener) {\r\n  tzChangeListeners = tzChangeListeners.filter(l => l === listener);\r\n}\r\n\r\nexport function getTimezone() {\r\n  return currentTz;\r\n}\r\n\r\nexport const FORMAT_DATETIME = 'YYYY-MM-DD hh:mm A';\r\nexport const FORMAT_TIME = 'hh:mm A';\r\nexport const FORMAT_DATETIME_2 = 'ddd MMM DD, YYYY hh:mm A';\r\n\r\nmoment.tz.setDefault(currentTz);\r\n\r\nexport type Moment = MomentType;","\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Avatar, Text as Txt , Header} from '.'\r\nimport { mobileWidth,  gradient, disabledTxtColor } from '../config';\r\nimport { useLocation } from \"react-router\";\r\nimport logo from '../assets/parkstash_logo.svg';\r\nimport { Popover, Menu, Badge } from 'antd';\r\nimport Grid from './grid';\r\nimport { logout } from '../store/actions/user';\r\nimport { useDispatch } from 'react-redux';\r\nimport { moment } from '../utils/time'\r\nconst TopNavBar = () => {\r\n  const dispatch = useDispatch();\r\n  const location = useLocation().pathname;\r\n  return (\r\n    <MiniNav>\r\n      <Text className=\"capitalize bold txt-md txt-left\" style={{ minWidth: \"100px\", width: \"100%\" }}>\r\n        {location === \"/\" || location === \"/overview\" ? \"Overview\" : location.replace(\"/\", \"\")}\r\n      </Text>\r\n    \r\n      <Popover\r\n        placement=\"bottomRight\"\r\n        content={\r\n          <div style={{ zIndex: 1000, maxWidth: '300px'}}>\r\n            <Grid customCols='1fr auto' placeItems='start stretch'>\r\n              <Header bold padding='0 0 .5em 0' textAlign='left'>Abnormality</Header>\r\n              <i className='fas fa-bell txt-md'></i>\r\n            </Grid>\r\n            {abnormalities.map(({ garage, date }, i) => {\r\n              const style = i < (abnormalities.length - 1)? { \r\n                paddingBottom: '1em',  \r\n                marginBottom: '.5em', \r\n                borderBottom: \"1px solid \"+ disabledTxtColor\r\n              } : {};\r\n            return  (      \r\n                <Grid customCols='auto 1fr' placeItems='start stretch' style={style}>\r\n                  <i className='fas fa-car txt-md' style={{placeSelf: \"center\"}}></i>\r\n                  <Header bold textAlign='left' size={4}>{garage}</Header>\r\n                  <Txt style={{gridColumn: \"1/-1\"}} textAlign='right' >\r\n                    Abnormality Detected at 50% Occupancy.\r\n                  </Txt>\r\n                  <Txt style={{gridColumn: \"1/-1\"}} color={disabledTxtColor} textAlign='right'>\r\n                    {date.format('hh:mm A')}\r\n                  </Txt>\r\n                </Grid>\r\n             )})}\r\n          </div>\r\n        }\r\n        trigger=\"hover\"\r\n      >\r\n        <Badge count={3}>\r\n          <i className='fa fa-bell txt-shadow pointer txt-lg'></i>\r\n        </Badge>\r\n      </Popover>\r\n\r\n      <Popover\r\n        placement=\"bottomRight\"\r\n        content={\r\n          <Menu style={{ zIndex: 1000 }}>\r\n            <Menu.Item key=\"0\" className=\"noselect\">\r\n              <Grid customCols='auto 1fr' onClick={() => dispatch(logout())}>\r\n                <i className='fas fa-sign-in-alt txt-md'></i>\r\n                <span>Logout</span>\r\n              </Grid>\r\n            </Menu.Item>\r\n          </Menu>\r\n        }\r\n        trigger=\"hover\"\r\n      >\r\n        <div>\r\n          <Avatar className='shadow' style={{ background: \"white\", borderRadius: \"50%\", margin: \"0 1em\" }} url={logo} />\r\n        </div>\r\n      </Popover>\r\n    </MiniNav>)\r\n}\r\n\r\nconst abnormalities = [{\r\n  garage: \"North 10th Street Garage\",\r\n  date: moment(),\r\n}, {\r\n  garage: \"North 10th Street Garage\",\r\n  date: moment(),\r\n},\r\n{\r\n  garage: \"North 10th Street Garage\",\r\n  date: moment(),\r\n}]\r\n\r\n\r\nconst Text = styled.div`\r\n    padding-left: 9.5em;\r\n    @media(max-width: ${mobileWidth}){\r\n       padding-left: 0;\r\n       font-size: 1.2em;\r\n    } \r\n  `;\r\n\r\nconst MiniNav = styled.div`\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n  position: fixed;\r\n  font-size: 15px;\r\n  top: 0;\r\n  right : 0;\r\n  left: 0;\r\n  padding: 0 1.5em 0 0;\r\n  z-index: 9;\r\n  width: 100vw;\r\n  height: 4em; \r\n  background: ${gradient};  \r\n  color: white;\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  grid-template-columns: 1fr auto auto;\r\n  grid-template-rows: 1fr;\r\n  place-items: center end;\r\n    @media(max-width: ${mobileWidth}){\r\n      top : inherit;\r\n      padding-left: 0\r\n      grid-gap: .5em;\r\n    } `;\r\n\r\nexport default TopNavBar;","import { addTimezoneChangeListener, removeTimezoneChangeListener, getTimezone  } from '../utils/time';\r\nimport { useEffect, useState } from 'react';\r\n\r\nconst useTimezone = () => {\r\n  const [tz, setTz] = useState(getTimezone());\r\n\r\n  useEffect(() => {\r\n    const listener = (newTz: string) => {\r\n      setTz(newTz);\r\n    }\r\n\r\n    addTimezoneChangeListener(listener);\r\n\r\n    return () => removeTimezoneChangeListener(listener);\r\n  },[]);\r\n\r\n  return tz;\r\n}\r\n\r\nexport default useTimezone;","import React, { useEffect } from 'react';\r\nimport Sidebar from './style/sidebar';\r\nimport styled from 'styled-components';\r\nimport { mobileWidth, gradient, disabledTxtColor } from './config';\r\nimport TopNavBar from './style/topnav';\r\nimport useTimezone from './hooks/tz';\r\nimport { Grid, Text } from './style';\r\nimport { moment } from './utils/time'\r\n\r\nconst Layout = ({ children, style, sidebar, background }: any) => {\r\n    const tz = useTimezone();\r\n    useEffect(() =>\r\n        window.scrollTo(0, 0), [])\r\n    return (<>\r\n        <div>\r\n            {sidebar && <>\r\n                <Sidebar />\r\n                <TopNavBar />\r\n            </>}\r\n        </div>\r\n        <Wrapper background={background} style={style} sidebar={sidebar}>\r\n            <div\r\n                className=\"left-on-desktop\"\r\n                style={{ width: '100%', height: '100%' }}\r\n            >\r\n                {children}\r\n            </div>\r\n            <Grid customCols='auto 1fr auto' placeSelf=\"end stretch\" padding='0 0 .75em 0'>\r\n                <div></div>\r\n                <Text color={disabledTxtColor} style={{ placeSelf: \"end center\" }} className=\"left-on-desktop\">\r\n                     2018-{moment().year().toString()} ParkStash, All Rights Reserved\r\n                </Text>\r\n                <div className=\"capitalize txt-xsm\" style={{ marginRight: \"1.5em\" }}>Timezone: {tz}</div>\r\n            </Grid>\r\n        </Wrapper>\r\n    </>\r\n    );\r\n};\r\n\r\nLayout.Top = ({ className, children, customCols = \"auto 1fr auto\", noBackground = false, maxWidth = '1500px', style = {} }: any) => {\r\n    style = { ...style, maxWidth, minWidth: '85%' };\r\n    return (\r\n        <div className={className} style={{ paddingBottom: '10em', background: noBackground ? '' : gradient, width: '100%' }}>\r\n            <Grid mobileLayout={false} customCols={customCols} style={style} margin='auto'>\r\n                {children}\r\n            </Grid>\r\n        </div>\r\n    )\r\n};\r\n\r\nLayout.Bottom = ({ className, shiftUp = true, children, maxWidth = '1500px', style = {} }: any) => {\r\n    return (\r\n        <Grid\r\n            margin='auto'\r\n            className={className}\r\n            placeItems=\"start stretch\"\r\n            style={{ ...style, marginTop: shiftUp ? '-10em' : '1em', maxWidth, minWidth: \"85%\", }}\r\n        >\r\n            {children}\r\n        </Grid>\r\n    )\r\n};\r\n\r\n\r\nconst Wrapper = styled.div<{ background: string | any, sidebar: any }>`\r\n${(props) => `\r\n    padding-top: ${props.sidebar ? '4em' : 0};\r\n    background: ${props.background ? `linear-gradient(rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.95)), url(${props.background}), white` : '#F0F3F4'};`}\r\n    margin: auto;\r\n    min-height: 100vh;\r\n    display: grid;\r\n    place-items: start stretch;\r\n    transition: all 0.5s ease-out;\r\n    background-attachment: fixed;\r\n    background-repeat: no-repeat;\r\n    background-position:  center;\r\n    background-size: cover;\r\n    grid-template-rows: 1fr auto;\r\n    @media(max-width: ${mobileWidth}){ \r\n        width: 100vw;\r\n        padding-bottom: 5em;\r\n    }`;\r\n\r\nexport default Layout;","import { Notification } from \"../style\";\r\nimport logger from \"./logger\";\r\n\r\nexport const asyncHandler = async ({\r\n  apiCall,\r\n  successMessage,\r\n  errorMessage,\r\n  refresh = ()=>{}\r\n}: any) => {\r\n  try {\r\n    const res = await apiCall();\r\n    if (!res.success) throw new Error(res.message);\r\n    if (successMessage) {\r\n      Notification.success({ title: \"Succcess\", message: successMessage });\r\n    }\r\n    refresh()\r\n    return res;\r\n  } catch (e) {\r\n    if (errorMessage) {\r\n      Notification.error({ title: \"Error\", message: errorMessage });\r\n    }\r\n    logger.log(e)\r\n    return { success: false }\r\n  }\r\n};","import { useState, useEffect } from 'react';\r\nimport API from '../api'\r\nimport { Garage } from '../model/domain/garage';\r\nimport { asyncHandler } from \"../utils\";\r\n\r\nexport const useGarages = ({ eId } : any) => {\r\n  const [state, setter] = useState({\r\n    garages: [] as Garage[],\r\n    loading: false,\r\n    error: false,\r\n  });\r\n\r\n  const setState = (obj: any) => setter({ ...state, ...obj });\r\n\r\n  const getGarages = async (eId: string) => {\r\n    setState({ loading: true, error: false });\r\n    const { garages = [], success = false } = await asyncHandler({\r\n      apiCall: () => API.getGarages(eId),\r\n    });\r\n    setState({ loading: false, error: !success, garages });\r\n  };\r\n\r\n  const addGarage = async (garage: Garage) => {\r\n    setState({ loading: true, error: false });\r\n    const res = await asyncHandler({\r\n      apiCall: () => API.addGarage(eId, garage),\r\n      successMessage: \"Garage was Added\",\r\n      errorMessage: \"Garage was not Added\",\r\n    });\r\n    setState({ loading: false, error: res?.success || false });\r\n    getGarages(eId)\r\n  };\r\n\r\n  const editGarage = async (garage: Garage) => {\r\n    setState({ loading: true, error: false });\r\n    const res = await asyncHandler({\r\n      apiCall: () =>API.editGarage(eId, garage),\r\n      successMessage: \"Garage was Edited\",\r\n      errorMessage: \"Garage was not Edited\",\r\n    });\r\n    setState({ loading: false, error: res?.success || false });\r\n    getGarages(eId)\r\n  };\r\n\r\n\r\n  const refresh = () => getGarages(eId);\r\n\r\n  useEffect(() => {\r\n      getGarages(eId);\r\n  }, [eId]);\r\n\r\n  return {\r\n    ...state,\r\n    addGarage,\r\n    editGarage,\r\n    refresh\r\n  };\r\n};\r\n\r\nexport default useGarages;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Garage } from \"../../../model/domain/garage\";\r\nimport { Card, Header, Text, Grid, Badge } from \"../../../style\";\r\nimport { Progress, Tooltip } from \"antd\";\r\nimport { primaryColor, disabledTxtColor } from \"../../../config\";\r\nimport { moment } from '../../../utils/time';\r\n\r\nconst GarageCard = (props: Garage & any) => {\r\n  const { name, address, maxOccupancy, active, edit, style, occupancyUpdateSource, occupancy, getTableById, occupancyTableId, imageUrl, abnormality} = props;\r\n  const [table, setTable] = useState(\"\");\r\n  const occupancyPercent = Number((((occupancy?.count || 0) / maxOccupancy) * 100).toFixed(2));\r\n\r\n  useEffect(() => {\r\n    if (occupancyTableId)\r\n      getTableById(occupancyTableId)\r\n        .then((res: any) => {\r\n          if (res?.success)\r\n            setTable(res?.garageOccupancyTable?.title || \"\");\r\n        })\r\n  }, [])\r\n  return (\r\n    <Card shadow style={{maxWidth: \"80vw\", width: '800px', ...style}}>\r\n      <Grid customCols='auto 1fr' placeItems='start stretch'>\r\n        <Grid placeSelf='stretch' style={{borderRight: '2px solid ' + disabledTxtColor, paddingRight: '1em'}}>\r\n        {imageUrl && imageUrl[0]? \r\n        <img src={imageUrl[0]} style={{maxWidth: \"8em\"}}/> :\r\n          <i style={{fontSize: '9em', color: disabledTxtColor}} className='fas fa-parking'></i>\r\n        }\r\n        </Grid>\r\n        <Grid placeItems='stretch'>\r\n          <Grid gridGap='0' placeItems='stretch'>\r\n            <Header textAlign=\"left\">\r\n              <Grid customCols=\"auto auto 1fr auto\" placeSelf=\"end\" gridGap='0'>\r\n                <Text bold>{name} &nbsp;</Text>\r\n                <span className=\"noselect\">\r\n                  <i className=\"fa fa-edit pointer hoverr txt-sm\" onClick={edit}></i> &nbsp;\r\n                  <Tooltip title='Please contact us to delete a garage'>\r\n                    <i className=\"fa fa-trash pointer txt-sm\" style={{ color: \"gray\" }}></i> \r\n                  </Tooltip>&nbsp;\r\n            </span>\r\n                <div></div>\r\n                <Badge\r\n                  style={{ fontSize: \".65em\" }}\r\n                  disabled={!active}\r\n                >\r\n                  {active ? \"Active\" : \"Disabled\"}\r\n                </Badge>\r\n\r\n              </Grid>\r\n            </Header>\r\n\r\n            <Text color=\"gray\" textAlign=\"left\">\r\n              <i className=\"far fa-compass\" ></i> {address}\r\n            </Text>\r\n            {\r\n              table &&\r\n              <Text color=\"gray\" textAlign=\"left\">\r\n                <i className=\"fa fa-table\" ></i> {table}\r\n              </Text>\r\n            }\r\n          </Grid>\r\n\r\n          <Grid placeSelf=\"stretch\" cols=\"2\" placeItems=\"start\" gridGap=\".5em\">\r\n            <Progress\r\n              strokeWidth={15}\r\n              successPercent={0}\r\n              strokeColor={primaryColor}\r\n              percent={occupancyPercent}\r\n              format={() => <div className='bold'>{occupancyPercent}%</div>}\r\n              style={{\r\n                gridColumn: '1/-1',\r\n                width: \"100%\",\r\n                placeSelf: \"center stretch\",\r\n                paddingRight: '.5em'\r\n              }}\r\n            />\r\n            <Badge\r\n              inverted={occupancy?.count}\r\n              disabled={!occupancy?.count}\r\n              clasName={\"grid\"}\r\n            >\r\n                <Text bold color='inherit'>\r\n                  {occupancy?.count || \"N/A\"} \r\n                  <span style={{ fontSize: \"1.3em\" }}> / </span>\r\n                  {maxOccupancy}\r\n                </Text>\r\n            </Badge>\r\n\r\n     \r\n            <Badge disabled={!abnormality?.active}  style={{placeSelf :'center end'}}>\r\n                <i className='fa fa-bell'></i>&nbsp;\r\n                Abnormality{abnormality?.active? `: ${abnormality.percent * 100}%` : ''}\r\n            </Badge>\r\n\r\n          </Grid>\r\n          <Grid cols='2'>\r\n            <Text placeSelf=\"center start\" color={disabledTxtColor}>\r\n              &nbsp;{occupancyUpdateSource === 'integration' ? \"Automatic\" : \"Manual\"}\r\n            </Text>\r\n            {\r\n              occupancy?.updatedAt &&\r\n              <div style={{ color: \"grey\", fontSize: \".75em\", placeSelf: \"center end\" }}>\r\n                Last Updated: {moment(occupancy.updatedAt).toString().substring(4, 24)}\r\n              </div>\r\n            }\r\n          </Grid>\r\n        </Grid>\r\n      </Grid>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default GarageCard;\r\n","import { useState  } from \"react\";\r\nimport logger from \"../utils/logger\";\r\n\r\ntype Cood = {\r\n    lat: number,\r\n    lng: number\r\n}\r\n\r\nexport const usePlaces = () => {\r\n    const origin = { lat: 32, lng: -92 };\r\n    const defaultSearch = {\r\n        found: false,\r\n        result: \"\",\r\n        resultLocation: origin,\r\n    }\r\n    const [ error, setError] = useState(true);\r\n    const [search, setSearch] = useState(defaultSearch);\r\n    const [ searchText, setSearchText] = useState(\"\");\r\n\r\n    const getAddress = (addr: string) => {\r\n        setError(true)\r\n        const KEY = `AIzaSyAeJmDi-yAmMJ2N9n7zHDjl8nUcXzDunPM`;\r\n        const url = `https://maps.googleapis.com/maps/api/geocode/json?address=${addr}&key=${KEY}`;\r\n        if (addr && addr.length > 0)\r\n            fetch(url)\r\n                .then((res) => res.json())\r\n                .then((res) => {\r\n                    if (res.status === \"OK\" && res.results && res.results.length > 0) {\r\n                        const result = res.results[0].formatted_address;\r\n                        const resultLocation = {\r\n                            lat: res.results[0].geometry.location.lat,\r\n                            lng: res.results[0].geometry.location.lng,\r\n                        } as Cood;\r\n                        setSearch({ ...search, result, resultLocation, found: true });\r\n                    } else throw new Error();\r\n                })\r\n                .catch((e) => {\r\n                    logger.log(e)\r\n                    setSearch({ ...search, result: \"No Result\", found: false })\r\n                });\r\n        else setSearch({ ...search, result: \"\" });\r\n    };\r\n\r\n    const resetSearch = () => setSearch(defaultSearch);\r\n    const selectResult = (result : string)=>{\r\n        setSearchText(result);\r\n        setError(false)\r\n    }\r\n\r\n    return {\r\n        searchText,\r\n        search,\r\n        error,\r\n        selectResult,     \r\n        resetSearch,\r\n        getAddress,\r\n        setSearchText\r\n    };\r\n};\r\n\r\nexport default {\r\n    usePlaces\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport GoogleMapReact from \"google-map-react\";\r\nimport { Input, Tooltip } from \"antd\";\r\nimport { Card, Button } from \"../../../style\";\r\nimport { usePlaces } from \"../../../hooks/places\";\r\n\r\nconst AnyReactComponent = ({ showText, className }: any) => (\r\n  <div>\r\n    <i\r\n      className={\"fa fa-map-marker txt-lg red \" + className}\r\n      aria-hidden=\"true\"\r\n    ></i>\r\n    {showText && (\r\n      <Card width=\"5em\" padding=\".4em\">\r\n        Click Me to Move\r\n      </Card>\r\n    )}\r\n  </div>\r\n);\r\n\r\nconst SimpleMap = ({ forward, setGeo }: any) => {\r\n  const origin = { lat: 32, lng: -92 };\r\n  const {\r\n    searchText,\r\n    selectResult,\r\n    error,\r\n    search,\r\n    setSearchText,\r\n    resetSearch,\r\n    getAddress,\r\n  } = usePlaces();\r\n\r\n  const [state, setter] = useState({\r\n    location: origin,\r\n    pointerLocation: origin,\r\n    zoom: 17,\r\n    pointerMoved: false,\r\n  });\r\n  const setState = (obj: any) => setter({ ...state, ...obj });\r\n\r\n  const start = { gridColumn: 1, gridRowStart: 1 };\r\n  const selectResultLocation = (e: any) => {\r\n    e.preventDefault();\r\n    if (search.found) {\r\n      setState({\r\n        location: search.resultLocation,\r\n        pointerLocation: search.resultLocation,\r\n      });\r\n      selectResult(search.result);\r\n    }\r\n    resetSearch();\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"grid\",\r\n        height: \"50vh\",\r\n        width: \"100%\",\r\n        gridTemplateColumns: \"1fr\",\r\n      }}\r\n    >\r\n      <form\r\n        onSubmit={selectResultLocation}\r\n        style={{\r\n          ...start,\r\n          zIndex: 10,\r\n          marginTop: \".3em\",\r\n          width: \"100%\",\r\n          height: \"4em\",\r\n        }}\r\n      >\r\n        <Input\r\n          suffix={\r\n            <Tooltip title={\"Please enter the Full Address\"}>\r\n              <i className={`fa fa-${error ? 'times-circle red' : 'check green'}`} style={{ position: \"relative\" }}></i>\r\n            </Tooltip>\r\n          }\r\n          onChange={({ target }: any) => {\r\n            setSearchText(target.value);\r\n            setState({ pointerMoved: false });\r\n            getAddress(target.value);\r\n          }}\r\n          placeholder=\"Enter your Garage Address\"\r\n          value={searchText}\r\n          style={{ height: \"3em\", width: \"80%\", borderRadius: \"4em\" }}\r\n        />\r\n        {search.result.length > 0 && (\r\n          <Card\r\n            onClick={selectResultLocation}\r\n            className=\"pointer noselect\"\r\n            shadow\r\n            margin=\"0 .5em\"\r\n          >\r\n            {search.result}\r\n          </Card>\r\n        )}\r\n      </form>\r\n      <Button\r\n        shadow={state.pointerMoved && !error}\r\n        disabled={!state.pointerMoved || error}\r\n        onClick={() => {\r\n          setGeo({ ...state.pointerLocation, address: searchText });\r\n          forward();\r\n        }}\r\n        style={{\r\n          ...start,\r\n          zIndex: 10,\r\n          justifySelf: \"center\",\r\n          height: \"2.3em\",\r\n          position: \"relative\",\r\n          top: \"calc(100% - 4em)\",\r\n        }}\r\n      >\r\n        Next &nbsp;\r\n        <i className=\"fa fa-chevron-right\" aria-hidden=\"true\"></i>\r\n      </Button>\r\n      <div style={{ ...start, justifySelf: \"stretch\" }}>\r\n        <GoogleMapReact\r\n          bootstrapURLKeys={{ key: \"AIzaSyB4z2lv6jvxicb7dsQ-K8fFxRcjt07YxQI\" }}\r\n          center={state.location}\r\n          defaultZoom={state.zoom}\r\n          onChange={({ zoom, center: location }: any) =>\r\n            setState({ zoom, location })\r\n          }\r\n          onClick={({ _, __, lat, lng }: any) =>\r\n            setState({ pointerLocation: { lat, lng }, pointerMoved: true })\r\n          }\r\n        >\r\n          <AnyReactComponent\r\n            className={!state.pointerMoved ? \"grow\" : \"\"}\r\n            lat={state.pointerLocation.lat}\r\n            lng={state.pointerLocation.lng}\r\n            showText={!state.pointerMoved}\r\n          />\r\n        </GoogleMapReact>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SimpleMap;\r\n","import { Tooltip } from \"antd\";\r\nimport React from 'react';\r\n\r\nexport const Label = ({ label = 'placeholder' , icon = 'fa fa-info-circle'}) =>(\r\n<Tooltip title={label}>\r\n    <i className='fa fa-info-circle' style={{marginLeft: '7px'}}></i>\r\n</Tooltip>)\r\n\r\nexport default Label;","import React from 'react';\r\nimport { Grid, Text, Button } from '../../../style';\r\nimport * as  Yup from 'yup';\r\nimport { useFormik } from 'formik';\r\nimport { Switch, InputNumber, Input, Select } from 'antd';\r\nimport { Tooltip } from 'antd';\r\nimport { Garage, GarageOccupancyTable } from '../../../model/domain/garage';\r\nimport Label from '../../../components/label';\r\n\r\n\r\nconst sources = {\r\n    integration: 'integration',\r\n    table: 'table'\r\n}\r\nconst defaultValue = {\r\n    name: \"\", \r\n    status: 'active', \r\n    maxOccupancy: 420, \r\n    occupancyTableId: null, \r\n    occupancyUpdateSource: 'table',\r\n    abnormality: {\r\n        active: false,\r\n        percent: 0\r\n    }\r\n};\r\n\r\nconst GarageInfoForm = (props: any) => {\r\n    const { loading, tables = [], garage } = props;\r\n\r\n    const { handleSubmit, handleChange, setFieldValue, values, handleBlur } = useFormik({\r\n        initialValues: (garage || defaultValue) as Garage,\r\n        onSubmit(values) {\r\n            props.submit(values);\r\n        },\r\n    })\r\n\r\n    const error = values.name.length < 6;\r\n    return (\r\n        <form\r\n            onSubmit={handleSubmit}\r\n            className=\"shake\"\r\n            style={{\r\n                height: \"100%\",\r\n                display: \"grid\",\r\n                background: \"white\",\r\n                padding: \"2em\",\r\n                width: \"100%\",\r\n                placeItems: \"center stretch\",\r\n                gridGap: \".4em\"\r\n            }}>\r\n\r\n            <div style={{ placeSelf: \"stretch\", display: \"grid\", placeItems: \"stretch\" }} >\r\n                <Text textAlign=\"left\" bold>Enter the Name of your Garage<span className=\"red\">*</span></Text>\r\n                <Input\r\n                    style={{ placeSelf: \"end\" }}\r\n                    type={'text'}\r\n                    name={'name'}\r\n                    onBlur={handleBlur}\r\n                    suffix={\r\n                        <Tooltip title={\"Garage must contain at least 6 characters\"}>\r\n                            <i className={`fa fa-${error ? 'times-circle red' : 'check green'}`} style={{ position: \"relative\" }}></i>\r\n                        </Tooltip>\r\n                    }\r\n                    value={values.name}\r\n                    onChange={handleChange}\r\n                    placeholder={\"Example: SJSU Garage 1\"} />\r\n            </div>\r\n\r\n            <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\" customCols=\"1fr auto\">\r\n                <Text textAlign=\"left\" placeSelf=\"end start\" bold>\r\n                    Activate Garage\r\n                        <span className=\"red\">*</span>\r\n                        <Label label={'Activated garage can be used for parking'}/>\r\n                </Text>\r\n                <Switch\r\n                    checked={values.status === 'active'}\r\n                    style={{ placeSelf: \"end\" }}\r\n                    onChange={(checked: boolean) => setFieldValue(\"status\", checked? 'active': 'inactive')}\r\n                />\r\n            </Grid>\r\n\r\n            <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\" customCols=\"1fr auto\">\r\n                <Text textAlign=\"left\" placeSelf=\"end start\" bold>\r\n                    Automate Garage \r\n                    <span className=\"red\">*</span>\r\n                    <Label label={'Automatic Garages needs to be integrated with the thirdparty APIs(Eg: Genetec)'}/>\r\n                </Text>\r\n                <Switch\r\n                    checked={values.occupancyUpdateSource === sources.integration}\r\n                    style={{ placeSelf: \"end\" }}\r\n                    onChange={(checked: boolean) => \r\n                        setFieldValue(\"occupancyUpdateSource\", checked? sources.integration: sources.table)\r\n                    }\r\n                />\r\n            </Grid>\r\n\r\n            <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\" customCols=\"1fr auto\">\r\n                <Text textAlign=\"left\" placeSelf=\"end start\" bold>\r\n                    Abnormality \r\n                    <Label label={'Abnomality allows to get garage alert when a cetrain threshold is reached'}/>\r\n                </Text>\r\n                <Switch\r\n                    checked={values.abnormality?.active}\r\n                    style={{ placeSelf: \"end\" }}\r\n                    onChange={(checked: boolean) => \r\n                        setFieldValue(\"abnormality\", {\r\n                            active : checked,\r\n                            percent: 0\r\n                        })\r\n                    }\r\n                />\r\n            </Grid>\r\n\r\n            {\r\n                values.abnormality?.active && \r\n                <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\" customCols=\"1fr auto\">\r\n                <Text textAlign=\"left\" placeSelf=\"end start\" bold>\r\n                        Abnormality Percent\r\n                            <span className=\"red\">*</span>\r\n                    </Text>\r\n                    <InputNumber\r\n                        min={0}\r\n                        max={100}\r\n                        style={{ placeSelf: \"end\" }}\r\n                        value={Number((values.abnormality?.percent * 100).toFixed(0))}\r\n                        onChange={(e) => setFieldValue(\"abnormality\", {\r\n                            active : true,\r\n                            percent: Number((Number(e)/100).toFixed(2))\r\n                        })}\r\n                        name={\"abnormality\"}\r\n                    />\r\n            </Grid>\r\n            }\r\n\r\n            <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\">\r\n                <Text textAlign=\"left\" placeSelf=\"end start\" bold>\r\n                    Garage Occupancy Table\r\n                    <Label label={'Occupancy table is the  manual fallback occupancy data for the garage'}/>\r\n                </Text>\r\n                <Select\r\n                    defaultValue={values.occupancyTableId as any}\r\n                    onChange={(id: string) => setFieldValue(\"occupancyTableId\", id === 'null'? null: id)}\r\n                >   \r\n                    <Select.Option value={'null'}>{\"None\"}</Select.Option>\r\n                    {tables.map(({ id, title }: GarageOccupancyTable) => <Select.Option value={id}>{title}</Select.Option>)}\r\n                </Select>\r\n            </Grid>\r\n\r\n            <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\" customCols=\"1fr auto\">\r\n                <Text textAlign=\"left\" placeSelf=\"end start\" bold>\r\n                    Max Garage Occupancy\r\n                        <span className=\"red\">*</span>\r\n                </Text>\r\n                <InputNumber\r\n                    min={1}\r\n                    style={{ placeSelf: \"end\" }}\r\n                    value={values.maxOccupancy}\r\n                    onChange={(e) => setFieldValue(\"maxOccupancy\", e)}\r\n                    name={\"maxOccupancy\"}\r\n                />\r\n            </Grid>\r\n            {loading ? <Button loading disabled style={{ fontSize: \".8em\" }}>Loading</Button> :\r\n                <Button.Normal\r\n                    style={{ fontSize: \".8em\" }}\r\n                    type=\"submit\"\r\n                    disabled={error}\r\n                    onSubmit={(e: any) => handleSubmit(e)}>\r\n                    Confirm\r\n                </Button.Normal>}\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default GarageInfoForm;","import React, { useState, useEffect } from 'react';\r\nimport { Grid, Text } from '../../../style';\r\nimport SimpleMap from './google-map';\r\nimport car from \"../../../assets/car.svg\";\r\nimport useGarages from '../../../hooks/garage';\r\nimport { Progress } from 'antd';\r\nimport GarageInfoForm from './garage-form';\r\n\r\nconst CreateGarage = ({ submit }: any) => {\r\n    const [count, setCount] = useState(0);\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            setCount(count => count + 5);\r\n        }, 300);\r\n\r\n        return () => {\r\n            clearInterval(interval);\r\n        };\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (count === 90) {\r\n            submit();\r\n        }\r\n    }, [count]);\r\n\r\n    return (\r\n        <Grid\r\n            width=\"100%\"\r\n            background=\"white\"\r\n            height=\"100%\"\r\n        >\r\n            <div style={{ width: \"100%\" }}>\r\n                <Text bold>Creating your Garage</Text>\r\n                <Progress style={{ width: \"70%\" }} percent={count} />\r\n            </div>\r\n        </Grid>);\r\n}\r\nexport const GarageMultiStep = ({ close, refresh, eId, tables }: any) => {\r\n    const [state, setState] = useState({\r\n        step: 0,\r\n        completed: false\r\n    });\r\n\r\n    const { addGarage } = useGarages({ eId });\r\n\r\n    const [garage, setGarage] = useState<any>({\r\n        name: \"\",\r\n        active: false,\r\n        maxOccupancy: 0,\r\n        geo: [0, 0]\r\n    });\r\n\r\n    const setGeo = ({ lat, lng, address }: any) => {\r\n        setGarage({ ...garage, geo: [lat, lng], address });\r\n    }\r\n\r\n    const setInfo = (info: any) => {\r\n        setGarage({ ...garage, ...info });\r\n        forward()\r\n    }\r\n\r\n    const submit = async () => {\r\n        await addGarage(garage);\r\n        refresh();\r\n        close();\r\n    }\r\n    const forward = () => {\r\n        if (state.step < InputComponents.length) {\r\n            setState({ step: state.step + 1, completed: false });\r\n        }\r\n    }\r\n\r\n    const InputComponents = [\r\n        <SimpleMap forward={forward} setGeo={setGeo} />,\r\n        <GarageInfoForm submit={setInfo} tables={tables} />,\r\n        <CreateGarage submit={submit} />\r\n    ]\r\n\r\n    return (\r\n        <Grid customCols=\"6fr 7fr\" width=\"100%\" height=\"100%\" gridGap=\"0\">\r\n            <div className=\"grid\" style={{ background: \"#329181\", height: \"100%\", padding: \"1em\" }}>\r\n                <img src={car} style={{ maxWidth: \"100%\" }} />\r\n            </div>\r\n            {InputComponents[state.step]}\r\n        </Grid>);\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Grid } from '../../../style';\r\nimport { primaryColor } from '../../../config';\r\nimport car from \"../../../assets/car.svg\";\r\nimport useGarages from '../../../hooks/garage';\r\nimport { Garage } from '../../../model/domain/garage';\r\nimport GarageInfoForm from './garage-form';\r\n\r\nexport const GarageEditor = ({ close, eId, garage, refresh, tables }: any) => {\r\n    const { editGarage, loading } = useGarages({ eId });\r\n    const submit = async (garage: Garage) => {\r\n        await editGarage(garage);\r\n        close();\r\n        refresh();\r\n    }\r\n\r\n    return (\r\n        <Grid customCols=\"4fr 5fr\" width=\"100%\" height=\"100%\" gridGap=\"0\">\r\n            <div style={{ background: primaryColor, height: \"100%\", padding: \"1em\" }}>\r\n                <img src={car} style={{ maxWidth: \"100%\" }} />\r\n            </div>\r\n            <GarageInfoForm submit={submit} tables={tables} garage={garage} loading={loading} />\r\n        </Grid>);\r\n}","import { useState, useEffect } from \"react\";\r\nimport API from \"../api\";\r\nimport { asyncHandler } from \"../utils\";\r\nimport { GarageOccupancyTable } from \"../model/domain/garage\";\r\n\r\ninterface State {\r\n    tables?: GarageOccupancyTable[] | any;\r\n    loading?: boolean;\r\n    error?: boolean;\r\n}\r\n\r\nexport const useOccupanyTable = ({ eId }: any) => {\r\n    const [state, setter] = useState<State>({\r\n        tables: [],\r\n        loading: false,\r\n        error: false,\r\n    });\r\n\r\n    const setState = (obj: State) => setter({ ...state, ...obj });\r\n\r\n    const getTables = async (eId: string) => {\r\n        setState({ loading: true, error: false });\r\n        const res = await asyncHandler({\r\n            apiCall: () => API.getOccupancyTables(eId),\r\n            errorMessage: \"Failed: Loading Table\",\r\n        });\r\n\r\n        setState({\r\n            loading: false,\r\n            tables: res?.garageOccupancyTables || [],\r\n            error: !(res?.success || true)\r\n        });\r\n    };\r\n\r\n    const addTable = async (table : any) => {\r\n        setState({ loading: true, error: false });\r\n        const res = await asyncHandler({\r\n            apiCall: () => API.addOccupancyTable(eId, table),\r\n            errorMessage: \"Could not Edit Table\",\r\n            successMessage: \"Table was Edited\",\r\n        });\r\n        let tables : GarageOccupancyTable[] = state.tables;\r\n\r\n        if(res?.success)\r\n            tables = [...state.tables, {...table, id: res.garageOccupancyTableId}];\r\n\r\n        setState({\r\n            loading: false,\r\n            tables,\r\n            error: !(res?.success || true),\r\n        });\r\n    }\r\n\r\n\r\n    const removeTable = async (tId: string) => {\r\n        setState({ loading: true, error: false });\r\n        const res = await asyncHandler({\r\n            apiCall: () => API.removeOccupancyTable(eId, tId),\r\n            errorMessage: \"Could not Delete Table\",\r\n            successMessage: \"Table was Deleted\",\r\n        });\r\n        let tables = [...state.tables];\r\n\r\n        if(res?.success)\r\n            tables = tables.filter((table : any)=> table.id !== tId)\r\n\r\n        setState({\r\n            loading: false,\r\n            tables,\r\n            error: !(res?.success || true),\r\n\r\n        });\r\n    }\r\n    const getTableById = async (id : string) =>{\r\n        return await asyncHandler({\r\n            apiCall: () => API.getOccupancyTableById(eId, id),\r\n            errorMessage: \"Failed: Loading Table\",\r\n        });\r\n    }\r\n\r\n    const editTable = async (table: GarageOccupancyTable) => {\r\n        setState({ loading: true, error: false });\r\n        const res = await asyncHandler({\r\n            apiCall: () => API.editOccupancyTable(eId, table.id, table),\r\n            errorMessage: \"Could not Edit Table\",\r\n            successMessage: \"Table was Edited\",\r\n        });\r\n        let tables : GarageOccupancyTable[] = [...state.tables];\r\n\r\n        const index = tables.reduce((acc: number, item: GarageOccupancyTable, i: number)=> table.id === item.id? i : acc, -1)\r\n\r\n        if(res?.success && index > -1){\r\n            tables[index] = table;\r\n        }\r\n           \r\n        setState({\r\n            loading: false,\r\n            tables,\r\n            error: !(res?.success || true),\r\n        });\r\n    }\r\n\r\n    useEffect(() => {getTables(eId)}, [eId]);\r\n    return {\r\n        ...state,\r\n        getTables,\r\n        removeTable,\r\n        addTable,\r\n        editTable,\r\n        getTableById\r\n    };\r\n};\r\n\r\nexport default {\r\n    useOccupanyTable\r\n};\r\n","import React from \"react\";\r\nimport { Garage } from \"../../../model/domain/garage\";\r\nimport { Grid, Button, Modal, Placeholder, List } from \"../../../style\";\r\nimport useGarages from \"../../../hooks/garage\";\r\nimport { useSelector } from \"react-redux\";\r\nimport GarageCard from \"./garage-card\";\r\nimport { GarageMultiStep } from \"./garage-add\";\r\nimport { GarageEditor } from \"./garage-edit\";\r\nimport { useOccupanyTable } from \"../../../hooks/occupancy-table\";\r\n\r\nconst Listings = () => {\r\n  const eId = useSelector((state: any) => state.user.enterprise.id);\r\n  const { garages, loading, refresh } = useGarages({ eId });\r\n  const { tables, getTableById } = useOccupanyTable({ eId });\r\n\r\n  const props = { eId, tables, refresh };\r\n\r\n  const AddModal = Modal({\r\n    title: \"Add Your Garage\",\r\n    message: <GarageMultiStep close={() => AddModal.close()} {...props} />,\r\n    hideCancel: true,\r\n  });\r\n\r\n  const edit = (garage: Garage) => {\r\n    const EditGarage = Modal({\r\n      title: \"Edit Your Garage\",\r\n      message: <GarageEditor close={() => EditGarage.close()}  {...props} garage={garage} />,\r\n      hideCancel: true,\r\n    });\r\n    EditGarage.open();\r\n  }\r\n\r\n  return (\r\n    <Grid placeItems=\"start stretch\" padding=\"1em\" height=\"100%\">\r\n      <Grid>\r\n        <div className=\"grid\" style={{ placeSelf: \"center\", width: 'auto' }}>\r\n\r\n            <Button     \r\n              margin=\"1em\"\r\n              rounded\r\n              invert\r\n              placeSelf='end'\r\n\r\n              disabled={loading}\r\n              shadow\r\n              onClick={AddModal.open}\r\n              minWidth=\"4.5em\"\r\n              faIcon=\"fa  fa-plus\"\r\n            > Add\r\n          </Button>\r\n          <List\r\n            loading={loading}\r\n            loader={<Placeholder number={5} style={{ maxWidth: \"80vw\", width: '800px' }}  /> as any}\r\n            list={garages}\r\n            map={(g: Garage, i: number) => <GarageCard key={i} {...g} edit={() => edit(g)} getTableById={getTableById} />}\r\n          />\r\n        </div>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Listings;\r\n","import React, { useMemo } from 'react';\r\nimport { AxisBottom, AxisLeft, AxisRight } from '@vx/axis';\r\nimport {  ScaleBand } from 'd3-scale';\r\n\r\nexport const XAxis = ({ scale,  tickFormat, axisStyleProps}: { scale:  ScaleBand<string>, tickFormat: any, axisStyleProps: any}) => {\r\n  const width = (() => {\r\n    const range = scale.range();\r\n    return range[1] - range[0]\r\n  })();\r\n\r\n  const maxTicks = width < 600? 5: 10;\r\n\r\n  const tickValues = useMemo(() => {\r\n    const dates = scale.domain();\r\n    \r\n    const mod = Math.floor(dates.length / maxTicks);\r\n    const tickFilter = ((_: any, index: number)=> dates.length < 10 || index % mod == 0);\r\n\r\n    return dates.filter(tickFilter);\r\n  }, [maxTicks]);\r\n\r\n  const  tickLabelProps = () => ({\r\n    fontWeight: 'bold',\r\n    fill: 'gray',\r\n    fontSize: 11,\r\n    textAnchor: 'middle'\r\n  })\r\n\r\n  return (\r\n      <AxisBottom\r\n        tickFormat={tickFormat}\r\n        tickLabelProps={tickLabelProps}\r\n        scale={scale}\r\n        tickValues={tickValues} {...axisStyleProps}\r\n        hideTicks={false}\r\n      />\r\n  );\r\n};\r\n\r\nexport const YAxisLeft = ({ scale, tickFormat, axisStyleProps }: any) => {\r\n  const tickValues = scale.ticks(10);\r\n  axisStyleProps = axisStyleProps || {};\r\n  const  tickLabelProps = () => ({\r\n    fontWeight: 'bold',\r\n    fill: 'gray',\r\n    fontSize: 11,\r\n    dx: -18,\r\n    dy: 5\r\n  })\r\n  return (\r\n      <AxisLeft\r\n        scale={scale}\r\n        tickLabelProps={tickLabelProps}\r\n        tickFormat={tickFormat}\r\n        tickValues={tickValues} \r\n        {...axisStyleProps}\r\n      />\r\n  );\r\n};\r\n\r\nexport const YAxisRight = ({ scale, tickFormat, axisStyleProps }: any) => {\r\n  const tickValues = scale.ticks(10);\r\n  const  tickLabelProps = () => ({\r\n    fontWeight: 'bold',\r\n    fill: 'gray',\r\n    fontSize: 11,\r\n    dx: 12,\r\n    dy: 5\r\n  })\r\n  return (\r\n      <AxisRight\r\n        scale={scale}\r\n        tickFormat={tickFormat}\r\n        tickLabelProps={tickLabelProps}\r\n        tickValues={tickValues} {...axisStyleProps}/>\r\n  );\r\n};\r\n\r\nexport const defaultAxisStyle = {\r\n  hideAxisLine: true,\r\n  tickStroke: 'gray',\r\n  tickLength: 6,\r\n  hideTicks: true,\r\n  hideZero: false\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport const useRect = ({ height, width }: { height: number; width: number; }): DrawAreaRect => {\r\n  //if axis ticks get cutoff, increase the margin of appropriate direction\r\n  const margin = {\r\n    top: 10,\r\n    right: 35,\r\n    bottom: 40,\r\n    left: 35\r\n  };\r\n\r\n  const calcRect = (width: any) =>({\r\n    width,\r\n    height,\r\n    innerWidth: width - margin.left - margin.right,\r\n    innerHeight: height - margin.top - margin.bottom,\r\n    margin,\r\n    xRange: [margin.left, width - margin.right],\r\n    yRange: [height - margin.bottom, margin.top]\r\n  })\r\n  const [ rect, setRect ] = useState(calcRect(width));\r\n  useEffect(()=>setRect(calcRect(width)), [width]);\r\n  return rect as any;\r\n}\r\n\r\n//given the height and width of the graph i.e. the drawArea + axis, computes margins\r\nexport interface DrawAreaRect {\r\n  readonly width: number;\r\n  readonly height: number;\r\n  readonly innerWidth: number;\r\n  readonly innerHeight: number;\r\n  readonly margin: {\r\n    readonly left: number;\r\n    readonly top: number;\r\n    readonly right: number;\r\n    readonly bottom: number;\r\n  }\r\n  readonly xRange: [number, number];\r\n  readonly yRange: [number, number];\r\n}","import { scaleLinear, scaleBand } from '@vx/scale';\r\nimport { DrawAreaRect } from './rect';\r\n\r\ntype Scale = { yMax: number, rect: DrawAreaRect, points: any, zoom? : number };\r\n\r\nexport const useScale = ({ rect,  points, yMax, zoom = 1.15 }: Scale) => ({\r\n  xAxis: getXBandScale({rect, points}),\r\n  yAxis: {\r\n    scale: scaleLinear({\r\n      domain: [0, zoom * yMax],\r\n      range: rect.yRange\r\n    })\r\n  }\r\n});\r\n\r\nfunction getXBandScale({ rect, points }: { rect: DrawAreaRect, points: any }) {\r\n  const getDate = (d: any) => (new Date(d?.date || '2010')).toISOString();;\r\n  const getDates = (points: any[]) => {\r\n    const dates = []\r\n    for (let i = points.length - 1; i >= 0; i--) {\r\n      dates.push(getDate(points[i]))\r\n    }\r\n    return dates;\r\n  }\r\n\r\n  return {\r\n    scale: scaleBand<string>({\r\n      domain: getDates(points),\r\n      range: rect.xRange,\r\n      padding: 0.2,\r\n    })\r\n  }\r\n}","import { useMemo } from \"react\";\r\nimport { TimeSeries } from \"../../../model/domain/metrics\";\r\nimport logger from \"../../../utils/logger\";\r\n\r\nexport const useData = (timeSeriesResult: any) => useMemo(() => getStackedPoints(timeSeriesResult), [timeSeriesResult]);\r\n\r\nconst getStackedPoints = (timeSeriesResult: TimeSeries.Result) => {\r\n  const points: any[] = [];\r\n  let max = 0;\r\n  let linearMax = 0;\r\n\r\n  try {\r\n    if (!timeSeriesResult) return { points, max, linearMax };\r\n    const { timeSeries } = timeSeriesResult\r\n    const reference = timeSeries[0]\r\n    const numPoints = reference.points.length;\r\n    const numResource = timeSeries.length\r\n\r\n    for (let i = 0; i < numPoints; i++) {\r\n      let point = { date: reference.points[i].at };\r\n      let totalValue = 0;\r\n\r\n      for (let j = 0; j < numResource; j++) {\r\n        const resource = timeSeries[j].displayLabel;\r\n        const value = timeSeries[j].points[i].value;\r\n        totalValue += value > 0 ? value : 0;\r\n        linearMax = Math.max(linearMax, value)\r\n        point = {\r\n          ...point,\r\n          [resource]: String(value)\r\n        }\r\n      }\r\n      points.push(point);\r\n      max = max < totalValue ? totalValue : max;\r\n    }\r\n  } catch (e) {\r\n    logger.log(e)\r\n  }\r\n  return { points, max, linearMax };\r\n}\r\n\r\nexport const useCombinedData = (timeSeriesResults: TimeSeries.Result[]) => useMemo(() => {\r\n  const points: any = [];\r\n  let max = 0;\r\n  const hasError = timeSeriesResults.reduce((acc, ts: TimeSeries.Result) => !ts?.timeSeries || acc, false);\r\n  if (hasError) return { points, max };\r\n\r\n  const reference = timeSeriesResults[0].timeSeries[0]\r\n  const numPoints = reference.points.length;\r\n  const numResource = timeSeriesResults.length\r\n\r\n  const formatLabel = (s: string) => s.replace(/_/g, ' ')\r\n  for (let i = 0; i < numPoints; i++) {\r\n    let point = { date: reference.points[i].at };\r\n\r\n    for (let j = 0; j < numResource; j++) {\r\n      const resource = formatLabel(timeSeriesResults[j].metricType);\r\n      const value = timeSeriesResults[j].timeSeries[0].points[i].value;\r\n      point = {\r\n        ...point,\r\n        [resource]: String(value),\r\n      }\r\n    }\r\n\r\n    points.push(point);\r\n  }\r\n\r\n  return { points, max };\r\n}, [timeSeriesResults]);","import { colors } from '../json/colors.json';\r\n\r\nexport const getColor = (index: number) => colors[index % colors.length];","export const getKeys = (points: any[]) => {\r\n    if(points?.length < 1) return [];\r\n    return Object.keys(points[0]).filter(k => k !== 'date')\r\n}\r\n","import { getColor } from \"../utils/color\";\r\nimport { localPoint } from '@vx/event';\r\nimport { useTooltip } from '@vx/tooltip';\r\nimport { getKeys } from \"../utils/points\";\r\nimport {  ScaleBand } from 'd3-scale';\r\nimport { useMemo } from 'react';\r\ninterface TooltipData {\r\n    timestamp: string;\r\n    legend: { label: string, value: string, color: string }[];\r\n}\r\n\r\ninterface TooltipProps {\r\n   points: {[key: string]: string | number; date: string;}[],\r\n   setSelected? : any;\r\n   units?: string[];\r\n   xScale: ScaleBand<string>;\r\n   dateFormatter: {(d: string): string;}\r\n}\r\n/*\r\n      |                            |\r\n      |                            |\r\n      |                            |\r\n      |         |||          |||   |  \r\n      |         |||          |||   |  \r\n      |   |||   |||    |||   |||   |  \r\n      |   |||   |||    |||   |||   |  \r\n      |   |||   |||    |||   |||   |   \r\n      |   |||   |||    |||   |||   |  \r\n    ---------------------------------------------\r\n                *      *     *     *\r\n                a      b     c     d\r\n                \r\n      let x be the X position of the cursor then,\r\n      if (x <= a) {\r\n        show tooltip at middle of first bar\r\n      } else if (x <= b) {\r\n        show tooltip at middle of second bar\r\n      } else if (x <= c) {\r\n        show tooltip at middle of third bar\r\n      } else {\r\n        show tooltip at middle of last bar\r\n      }\r\n*/\r\nexport default ({points: points_, setSelected, units, xScale, dateFormatter }: TooltipProps) => {\r\n    const tooltip = useTooltip<TooltipData>();\r\n\r\n    //[tuesday, monday, sunday] -> [sunday, monday, tuesday]\r\n    //[sunday, monday, tuesday] -> [sunday, monday, tuesday]\r\n    const points = useMemo(() => {\r\n      return points_[0].date > points_[points_.length - 1].date\r\n        ? [...points_].reverse()\r\n        : points_;\r\n    }, [points_]);\r\n\r\n    /*\r\n      |                                       |\r\n      |                                       |\r\n      |                                       |\r\n      |         |||    |||   |||         |||  |  \r\n      |         |||    |||   |||         |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |   \r\n    ---------------------------------------------\r\n          ^                                ^\r\n          |                                | \r\n        (band start)                    (band end)\r\n    */\r\n    const bandStart = xScale(points[0].date) || 0;\r\n    const bandEnd = xScale(points[points.length - 1].date) || 0 + xScale.bandwidth();\r\n\r\n    const getUnit = (i: number) => units? units[i % units.length] : '';\r\n\r\n    const getLegend = (i: number) => {\r\n        const keys = getKeys(points);\r\n        const toPercent = (n: number) => (n * 100).toFixed(2) + '%';\r\n        const toDollar = (n: number) => '$'+ (n / 100).toFixed(0) ;\r\n        const point = points[i] || {};\r\n\r\n        return keys.map((label: string, index: number) => {\r\n            let value = point[label] as any;\r\n            const isMissing = value == -1;\r\n            const unit = getUnit(index);\r\n            value = unit === '%'\r\n              ? toPercent(value)\r\n              : unit === 'cents'\r\n              ? toDollar(value)\r\n              : value + ''; \r\n\r\n            return { label, value, color: getColor(index), isMissing }\r\n        })\r\n    }\r\n\r\n    //offsetting local point x, y so as to have `bandStart` as effective start\r\n    //helps calculation below.\r\n    const graphLocal = (event: any) => {\r\n      const { x, y } = localPoint(event) || { x: 0, y: 0};\r\n\r\n      return { x: x - bandStart, y };\r\n    }\r\n\r\n    return {\r\n        ...tooltip,\r\n        handleTooltip: (event: any, newSelected = -1) => {\r\n          let { x, y } = graphLocal(event) || {};\r\n          setSelected(newSelected);\r\n          \r\n          const i = x > bandEnd\r\n            ? points.length - 1\r\n            : x < 0\r\n            ? 0\r\n            : Math.floor(x! / xScale.step());\r\n\r\n          /*\r\n              |                                       |\r\n              |                                       |\r\n              |                                       |\r\n              |         |||    |||   |||         |||  |  \r\n              |         |||    |||   |||         |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |   \r\n            ---------------------------------------------\r\n                                *\r\n                                ^\r\n                                |\r\n                                iX for i = 2 (mid point of the third bar line)\r\n          */\r\n          const iX = bandStart + i * xScale.step() + xScale.bandwidth() / 2;          \r\n\r\n          const timestamp = xScale.domain()[i];\r\n\r\n            //const i = bisect(timestamp);\r\n            const legend = getLegend(i);\r\n\r\n            // try replacing iX with x + bandStart, and if thats\r\n            // better then replce this\r\n            tooltip.showTooltip({\r\n                tooltipData: { timestamp: dateFormatter(timestamp), legend },\r\n                tooltipLeft: iX,\r\n                tooltipTop: y,\r\n            });\r\n\r\n        }\r\n    }\r\n}","import React from 'react'\r\nimport { TooltipWithBounds } from '@vx/tooltip';\r\nimport { Text, Grid } from '../../../style';\r\nimport { primaryColor } from '../../../config';\r\nimport { Line } from '@vx/shape';\r\n\r\nconst Tooltip = ({ tooltipOpen, tooltipLeft, tooltipTop, tooltipData, isSelected}: any) => {\r\n    if (!tooltipOpen && !tooltipData) return null;\r\n\r\n    return (\r\n        <TooltipWithBounds top={tooltipTop} left={tooltipLeft}>\r\n            <Grid placeItems=\"start\" customRows=\"auto 1fr\" gridGap=\".4em\" style={{zIndex: 10000}}>\r\n                <Text>{tooltipData.timestamp}</Text>\r\n                {tooltipData.legend\r\n                    .map(({ color, label, value, isMissing }: any, index: number) => (\r\n                        isMissing || value === 'undefined'? null :\r\n                            <div key={index} style={{ padding: 2, fontWeight: isSelected && isSelected(index)? 'bold': 'normal' }}>\r\n                                <span className='round' style={{ background: color }}></span>&nbsp;\r\n                                <span className='capitalize'><span dangerouslySetInnerHTML={{__html : label}}/>: &nbsp;{value}</span>\r\n                            </div>\r\n                    ))}\r\n            </Grid>\r\n        </TooltipWithBounds>\r\n    );\r\n}\r\n\r\nTooltip.Custom = ({ top, left, children}: any) => {\r\n    return (\r\n        <TooltipWithBounds top={top} left={left}>\r\n            {children}\r\n        </TooltipWithBounds>\r\n    );\r\n}\r\n\r\n\r\nTooltip.Line = ({ tooltipData, height, tooltipLeft: x }: any) => {\r\n    if (!tooltipData) return null;\r\n    return (\r\n        <g>\r\n            <Line\r\n                from={{ x, y: 0 }}\r\n                to={{ x, y: height }}\r\n                stroke={primaryColor}\r\n                strokeWidth={2}\r\n                pointerEvents=\"none\"\r\n                strokeDasharray=\"5,\"\r\n            />\r\n        </g>\r\n    )\r\n}\r\n\r\nexport default Tooltip;","import { TimeSeries } from \"../../model/domain/metrics\";\r\nimport {  ScaleLinear, ScaleBand } from 'd3-scale';\r\nimport { MetricDataStatus } from \"../../hooks/metrics\";\r\nimport { LineChart } from \"../../model/domain/dashboard\";\r\n\r\nexport enum Charts {\r\n    stackedArea = \"stackedArea\",\r\n    multiLine = \"multiLine\",\r\n    stackedBar = \"stackedBar\",\r\n    combined = \"combined\"\r\n}\r\n\r\nexport interface AdditionalChartProps {\r\n    filter?: boolean | React.ReactElement | null;\r\n    filterWidth?: number;\r\n    metricDataStatus: MetricDataStatus;\r\n    className?: string;\r\n    loading? : boolean;\r\n    legend?: false | { label : string};\r\n    isPercent?: boolean;\r\n    download? : boolean; \r\n    chartTypes?: Charts[] | string[];\r\n}\r\n\r\nexport interface AdditionalMultiChartProps {\r\n  filter?: boolean | React.ReactElement | null;\r\n  filterWidth?: number;\r\n  loading? : boolean;\r\n  metricDataStatuses: MetricDataStatus[];\r\n  className?: string;\r\n  legend?:  false | { label : string };\r\n}\r\n\r\nexport type ChartProps = AdditionalChartProps & LineChart;\r\nexport type MultiMetricsChartProps = AdditionalMultiChartProps & LineChart;\r\n\r\nexport interface DrawAreaProps {\r\n  size: { height: number, width: number };\r\n  data: {\r\n    timeSeriesResult: TimeSeries.Result;\r\n  };\r\n  chartType: Charts | string;\r\n}\r\n\r\nexport interface MultiDrawAreaProps {\r\n  size: { height: number, width: number };\r\n  datas: {\r\n    timeSeriesResult: TimeSeries.Result;\r\n  } [];\r\n  chartType: Charts | string;\r\n}\r\n\r\ntype EventHandler = (e :React.SyntheticEvent) => void;\r\n\r\nexport interface GraphEvent {\r\n    onTouchStart : EventHandler;\r\n    onTouchMove : EventHandler;\r\n    onMouseMove : EventHandler;\r\n    onMouseLeave : EventHandler;\r\n};\r\n\r\nexport type Graph = {\r\n    yScale: ScaleLinear<number, number>;\r\n    isSelected?: (i : number) => boolean;\r\n    noneSelected?: boolean;\r\n    points: any;\r\n    xScale: ScaleBand<string>;\r\n    event? : (i: number ) => GraphEvent\r\n};\r\n\r\nexport interface Points {\r\n  [key: string]: string | number;\r\n  date: string;\r\n};\r\n\r\nexport type CombinedGraph = Graph & { y2Scale: ScaleLinear<number, number>; points2: any }","import React from 'react'\r\nimport { GridRows } from '@vx/grid';\r\n const accentColor = \"lightgray\";\r\n\r\nexport default function Grid({yScale, width} : any){\r\nreturn (\r\n    <GridRows<number>\r\n        scale={yScale}\r\n        width={width}\r\n        stroke={accentColor}\r\n        strokeOpacity={0.5}\r\n        pointerEvents=\"none\"\r\n    />\r\n);}","import React, { useEffect } from 'react'\r\nimport { LinePath } from '@vx/shape';\r\nimport { getColor } from '../../utils/color';\r\nimport { Graph } from '../../types';\r\nimport { getKeys } from '../../utils/points';\r\n\r\nexport default function MultiLine({ points, isSelected, event, xScale, yScale }: Graph) {\r\n  const keys = getKeys(points);\r\n  const linePathX = (d: any) => xScale(d.date) || 0;\r\n  const linePathY = (d: any, key: string) => yScale(d[key]);\r\n  const reducer = (datum: any): boolean => datum !== \"-1\";\r\n  useEffect(() => console.log(points), [points])\r\n  return (\r\n    <>\r\n    {points.map((data: any, i: number) => {\r\n      const left = xScale(data.date);\r\n      return keys.map((key, i) => {\r\n        const top = yScale(data[key]);\r\n        if (data[key] === '-1') return null;\r\n        return (\r\n          <g key={`circle-${i}`}>\r\n            <circle\r\n              r={7 - points.length / 40}\r\n              cx={left}\r\n              cy={top}\r\n              {...(event ? event(i) : {})}\r\n              stroke={isSelected && isSelected(i) ? getColor(i) : ''}\r\n              fill={getColor(i) + (isSelected && isSelected(i) ? '66' : 'BB')}\r\n            />\r\n          </g>\r\n        );\r\n      })\r\n\r\n    })}\r\n      {keys?.map((key, index) => (\r\n        <LinePath\r\n          x={linePathX}\r\n          y={(d) => linePathY(d, key)}\r\n          {...(event ? event(index) : {})}\r\n          data={points}\r\n          key={index}\r\n          defined={(d: any) => reducer(d[key])}\r\n          strokeWidth={isSelected && isSelected(index) ? 4 : 2}\r\n          stroke={getColor(index)}\r\n        />\r\n      )\r\n      )}\r\n    </>);\r\n}","import React from 'react'\r\nimport { AreaStack } from '@vx/shape';\r\nimport { getColor } from '../../utils/color';\r\nimport { Graph } from '../../types';\r\nimport { getKeys } from '../../utils/points';\r\nconst reducer = (datum: any): boolean => {\r\n return datum.data;\r\n}\r\nexport function StackedArea({ xScale, yScale, points, isSelected, noneSelected, event}: Graph) {\r\n  const keys = getKeys(points);\r\n  const getY = (d: any, index: number) => d[index];\r\n  const getAreaStackX = (d: any) => xScale(d.data.date)!;\r\n  return (\r\n    <AreaStack\r\n      keys={keys}\r\n      data={points}\r\n      defined={reducer}\r\n      x={getAreaStackX}\r\n      y0={d => yScale(getY(d, 0))}\r\n      y1={d => yScale(getY(d, 1))}\r\n    >\r\n      {({ stacks, path }) =>\r\n        stacks.map((stack, index) => {\r\n          const opacity = isSelected && isSelected(index)? '70' : noneSelected ? '50': '25';\r\n          const color = getColor(index) + opacity;\r\n            return (\r\n            <path\r\n              key={`stack-${index}`}\r\n              d={path(stack) || ''}\r\n              stroke={color}\r\n              strokeWidth={2}\r\n              {...event && event(index)}\r\n              fill={color}\r\n            />\r\n          )\r\n        })\r\n      }\r\n    </AreaStack>);\r\n}\r\n\r\nexport default StackedArea;","import React from 'react'\r\nimport { BarStack } from '@vx/shape';\r\nimport { scaleOrdinal } from '@vx/scale';\r\nimport { colors } from '../../json/colors.json';\r\nimport { Group } from '@vx/group';\r\nimport { getColor } from '../../utils/color';\r\nimport { Graph } from '../../types';\r\nimport { getKeys } from '../../utils/points';\r\n\r\nexport function StackedBar({ yScale, points, xScale, event}: Graph) {\r\n  const keys = getKeys(points);\r\n  const getDate = (d: any) => (new Date(d?.date)).toISOString();\r\n\r\n  const colorScale = scaleOrdinal<string, string>({\r\n    domain: keys,\r\n    range: colors,\r\n  });\r\n\r\n  return (\r\n    <Group >\r\n      <BarStack<any, string>\r\n        keys={keys}\r\n        data={points}\r\n        xScale={xScale}\r\n        yScale={yScale}\r\n        color={colorScale}\r\n        x={getDate}\r\n      >\r\n        {barStacks =>\r\n          barStacks.map(barStack => {\r\n            const index = barStack.index;\r\n            return barStack.bars.map((bar) => {\r\n              if (bar.bar.data[bar.key] === '-1') return null;\r\n              return (\r\n                <rect\r\n                  key={`bar-stack-${barStack.index}-${bar.index}`}\r\n                  x={bar.x}\r\n                  {...(event && event(-1))}\r\n                  y={bar.y}\r\n                  opacity={0.6}\r\n                  height={bar.height}\r\n                  width={bar.width}\r\n                  fill={getColor(index)}\r\n                />\r\n              )\r\n            })\r\n          }\r\n          )}\r\n      </BarStack>\r\n    </Group>);\r\n};\r\n\r\nexport default StackedBar;","import React from 'react'\r\nimport { BarStack, LinePath } from '@vx/shape';\r\nimport { getColor } from '../../utils/color';\r\nimport { CombinedGraph } from '../../types';\r\nimport { scaleOrdinal } from '@vx/scale';\r\nimport { colors } from '../../json/colors.json';\r\nimport { Group } from '@vx/group';\r\nimport { getKeys } from '../../utils/points';\r\n\r\nexport function Combined({ y2Scale, yScale, points, points2, xScale , event}: CombinedGraph) {\r\n  const colorScale = scaleOrdinal<string, string>({\r\n    domain: getKeys(points),\r\n    range: colors,\r\n  });\r\n  const getBarStackX = (d: any) => (new Date(d?.date)).toISOString();\r\n  const keyLine = getKeys(points2)[0] || '';\r\n  const getLineY = (d: any) => y2Scale(d[keyLine]);\r\n  const getLineX = (d: any) => xScale(d.date)! + xScale.bandwidth() / 2;\r\n  const lineReducer = (datum: any): boolean => datum !== \"-1\";\r\n\r\n  return (\r\n    <>\r\n      <Group >\r\n        <BarStack<any, string>\r\n          keys={getKeys(points)}\r\n          data={points}\r\n          xScale={xScale}\r\n          yScale={yScale}\r\n          color={colorScale}\r\n          x={getBarStackX}\r\n        >\r\n          {barStacks =>\r\n            barStacks.map(barStack => {\r\n              const index = barStack.index;\r\n              return barStack.bars.map((bar) => {\r\n                if (bar.bar.data[bar.key] === '-1') return null;\r\n                return (\r\n                  <rect\r\n                    key={`bar-stack-${barStack.index}-${bar.index}`}\r\n                    x={bar.x}\r\n                    y={bar.y}\r\n                    {...(event && event(-1))}\r\n                    opacity={0.6}\r\n                    height={bar.height}\r\n                    width={bar.width}\r\n                    fill={getColor(index)}\r\n                  />\r\n                )\r\n              })\r\n            }\r\n            )}\r\n        </BarStack>\r\n      </Group>\r\n\r\n      <LinePath<any>\r\n        x={getLineX}\r\n        y={getLineY}\r\n        data={points2}\r\n        defined={(d: any) => lineReducer(d[keyLine])}\r\n        strokeWidth={3}\r\n        {...(event && event(-1))}\r\n        stroke={getColor(1) + 'A0'}\r\n      />\r\n\r\n      {points2.map((d: any, i: number) => {\r\n        const left = getLineX(d);\r\n        const top = getLineY(d);\r\n        if(d[keyLine] === '-1') return null;\r\n        return (\r\n          <g key={`circle-${i}`}>\r\n            <circle\r\n              r={7 - points2.length/40}\r\n              cx={left}\r\n              cy={top}\r\n              fill={getColor(1) +  'BB'}\r\n            />\r\n          </g>\r\n        );\r\n      })}\r\n    </>);\r\n}\r\n\r\nexport default Combined;","import React from 'react';\r\nimport { Charts } from \"../types\";\r\nimport MultiLine from \"../components/graph/multi-line\";\r\nimport StackedArea from \"../components/graph/stacked-area\";\r\nimport StackedBar from \"../components/graph/stacked-bar\";\r\nimport Combined from '../components/graph/combined';\r\n\r\nexport const getChart = (chart:Charts | string, props: any) => {\r\n    switch (chart) {\r\n      case Charts.multiLine:\r\n        return <MultiLine {...props} />;\r\n  \r\n      case Charts.stackedArea:\r\n        return <StackedArea {...props} />;\r\n  \r\n      case Charts.stackedBar:\r\n        return <StackedBar {...props} />;\r\n      case Charts.combined:\r\n        return <Combined {...props}/>;\r\n      default:\r\n        return \"Error\";\r\n    }\r\n  }","import React, { useState } from 'react'\r\nimport { XAxis, YAxisLeft, YAxisRight, defaultAxisStyle } from '../axis';\r\nimport { useRect } from '../../hooks/rect';\r\nimport { useScale } from '../../hooks/scale';\r\nimport { useData, useCombinedData } from '../../hooks/data';\r\nimport useToolTip from '../../hooks/tooltip';\r\nimport Tooltip from '../tooltip';\r\nimport { DrawAreaProps, Graph, MultiDrawAreaProps, CombinedGraph, Charts } from '../../types';\r\nimport Grid from '../grid';\r\nimport { getChart } from '../../utils/chart';\r\nimport { TimeSeries } from '../../../../model/domain/metrics';\r\nimport { moment, getTimezone } from '../../../../utils/time';\r\n\r\nconst DrawArea = (props: DrawAreaProps) => {\r\n  const { size, chartType, data } = props;\r\n  const { timeSeriesResult } = data as any;\r\n  const { height, width } = size;\r\n  const rect = useRect({ height, width });\r\n  const { max, points, linearMax } = useData(timeSeriesResult);\r\n  const [selected, setSelected] = useState(0);\r\n  const isSelected = (index: number) => selected === index;\r\n\r\n  const { xAxis, yAxis } = useScale({ rect: rect, yMax: chartType === Charts.multiLine ? linearMax : max, points });\r\n  const tickFormatY = getYTickFormatter(timeSeriesResult);\r\n  const tickFormatX = getXTickFormatter(timeSeriesResult);\r\n  const tooltipFormatter = getTooltipDateFormatter(timeSeriesResult);\r\n\r\n  const { tooltipData, hideTooltip, handleTooltip, tooltipLeft, tooltipTop, tooltipOpen } = useToolTip({\r\n    points,\r\n    setSelected,\r\n    units: [timeSeriesResult.unit],\r\n    xScale: xAxis.scale,\r\n    dateFormatter: tooltipFormatter\r\n  });\r\n\r\n  const event = (index = -1) => ({\r\n    onTouchStart: (e: any) => handleTooltip(e, index),\r\n    onTouchMove: (e: any) => handleTooltip(e, index),\r\n    onMouseMove: (e: any) => handleTooltip(e, index),\r\n    onMouseLeave: () => {\r\n      setSelected(-1);\r\n      hideTooltip();\r\n    }\r\n  })\r\n\r\n  const chartProps: Graph = {\r\n    yScale: yAxis.scale,\r\n    points,\r\n    xScale: xAxis.scale,\r\n    isSelected,\r\n    noneSelected: selected === -1,\r\n    event\r\n  };\r\n\r\n  return (\r\n    <div style={{ height: height + 'px', width: '100%', position: 'relative' }}>\r\n      <SVG height={height} width={'100%'} {...event(-1)}>\r\n        <Tooltip.Line\r\n          height={height}\r\n          tooltipData={tooltipData}\r\n          tooltipLeft={tooltipLeft}\r\n        />\r\n\r\n        <g transform={`translate(0,${rect.height - rect.margin.bottom})`}>\r\n          <XAxis\r\n            scale={xAxis.scale}\r\n            tickFormat={tickFormatX}\r\n            axisStyleProps={defaultAxisStyle} />\r\n        </g>\r\n\r\n        <g transform={`translate(${rect.margin.left},0)`}>\r\n          <Grid yScale={yAxis.scale} width={rect.innerWidth} />\r\n          <YAxisLeft\r\n            scale={yAxis.scale}\r\n            tickFormat={tickFormatY}\r\n            axisStyleProps={defaultAxisStyle} />\r\n        </g>\r\n        {/*always have this below the <Grid />*/}\r\n        {getChart(chartType, chartProps)}\r\n\r\n      </SVG>\r\n      <Tooltip\r\n        tooltipOpen={tooltipOpen}\r\n        tooltipLeft={tooltipLeft}\r\n        tooltipTop={tooltipTop}\r\n        tooltipData={tooltipData}\r\n        isSelected={isSelected}\r\n        noneSelected={selected === -1}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst MultiDrawArea = (props: MultiDrawAreaProps) => {\r\n  const { size, chartType, datas } = props;\r\n  const [{ timeSeriesResult }, { timeSeriesResult: timeSeriesResult2 }] = datas;\r\n  const { height, width } = size;\r\n  const rect = useRect({ height, width });\r\n  const data1 = useData(timeSeriesResult);\r\n  const data2 = useData(timeSeriesResult2);\r\n  const dataComb = useCombinedData([timeSeriesResult, timeSeriesResult2]);\r\n\r\n  const { xAxis, yAxis } = useScale({\r\n    rect,\r\n    yMax: data1.max,\r\n    points: data1.points\r\n  });\r\n\r\n  const { yAxis: y2Axis } = useScale({\r\n    rect,\r\n    yMax: data2.max,\r\n    points: data2.points\r\n  });\r\n\r\n  const tickFormatYLeft = getYTickFormatter(timeSeriesResult);\r\n  const tickFormatYRight = getYTickFormatter(timeSeriesResult2);\r\n  const tickFormatX = getXTickFormatter(timeSeriesResult);\r\n  const tooltipFormatter = getTooltipDateFormatter(timeSeriesResult);\r\n\r\n  const { tooltipData, hideTooltip, handleTooltip, tooltipLeft, tooltipTop, tooltipOpen } = useToolTip({\r\n    points: dataComb.points,\r\n    units: [timeSeriesResult.unit, ''],\r\n    setSelected: () => { },\r\n    xScale: xAxis.scale,\r\n    dateFormatter: tooltipFormatter\r\n  });\r\n\r\n\r\n  const event = (index = -1) => ({\r\n    onTouchStart: (e: any) => handleTooltip(e, index),\r\n    onTouchMove: (e: any) => handleTooltip(e, index),\r\n    onMouseMove: (e: any) => handleTooltip(e, index),\r\n    onMouseLeave: () => {\r\n      hideTooltip();\r\n    }\r\n  })\r\n  const chartProps: CombinedGraph = {\r\n    yScale: yAxis.scale,\r\n    points: data1.points,\r\n    points2: data2.points,\r\n    y2Scale: y2Axis.scale,\r\n    xScale: xAxis.scale,\r\n    event\r\n  };\r\n\r\n  return (\r\n    <div style={{ height: height + 'px', width: '100%', position: 'relative' }}>\r\n      <SVG height={height} width={'100%'} {...event(-1)}>\r\n        <Tooltip.Line\r\n          height={height}\r\n          tooltipData={tooltipData}\r\n          tooltipLeft={tooltipLeft} />\r\n\r\n        <g transform={`translate(0,${rect.height - rect.margin.bottom})`}>\r\n          <XAxis\r\n            scale={xAxis.scale}\r\n            tickFormat={tickFormatX}\r\n            axisStyleProps={defaultAxisStyle} />\r\n        </g>\r\n\r\n        <g transform={`translate(${rect.margin.left},0)`}>\r\n          <Grid yScale={yAxis.scale} width={rect.innerWidth} />\r\n          <YAxisLeft\r\n            scale={yAxis.scale}\r\n            tickFormat={tickFormatYLeft}\r\n            axisStyleProps={defaultAxisStyle} />\r\n        </g>\r\n\r\n        <g transform={`translate(${rect.width - rect.margin.right},0)`}>\r\n          <YAxisRight\r\n            scale={y2Axis.scale}\r\n            tickFormat={tickFormatYRight}\r\n            axisStyleProps={defaultAxisStyle} />\r\n        </g>\r\n\r\n        {/*always have this below the <Grid />*/}\r\n        {getChart(chartType, chartProps)}\r\n\r\n      </SVG>\r\n      <Tooltip\r\n        tooltipOpen={tooltipOpen}\r\n        tooltipLeft={tooltipLeft}\r\n        tooltipTop={tooltipTop}\r\n        tooltipData={tooltipData} />\r\n    </div>\r\n  );\r\n}\r\ninterface SVGProps {\r\n  height: number | string,\r\n  width: number | string,\r\n  children: any,\r\n  onTouchStart: { (e: any): void };\r\n  onTouchMove: { (e: any): void };\r\n  onMouseMove: { (e: any): void };\r\n  onMouseLeave: { (e: any): void };\r\n}\r\n\r\nconst SVG = (o: SVGProps) => (\r\n  <svg width={o.width} height={o.height}>\r\n    <rect\r\n      x={0}\r\n      y={0}\r\n      width={o.width}\r\n      height={o.height}\r\n      fill={'transparent'}\r\n      onTouchStart={o.onTouchStart}\r\n      onTouchMove={o.onTouchMove}\r\n      onMouseMove={o.onMouseMove}\r\n      onMouseLeave={o.onMouseLeave} />\r\n    {o.children}\r\n  </svg>\r\n);\r\n\r\nDrawArea.Multi = MultiDrawArea;\r\nexport default DrawArea;\r\n\r\nfunction getYTickFormatter(ts: TimeSeries.Result) {\r\n  const identity = (n: any) => n;\r\n  const centsFormatter = (n: number) => '$' + (n / 100).toFixed(0);\r\n  const percentFormatter = (n: number) => (n * 100).toFixed(1) + '%';\r\n\r\n  return ts.unit === '%'\r\n    ? percentFormatter\r\n    : ts.unit === 'cents'\r\n      ? centsFormatter\r\n      : identity;\r\n}\r\n\r\n/*\r\n  How TimeSeries Dates should be interpreted:\r\n\r\n  Data points are returned in descending order w.r.t \r\n  `at` field in time series points i.e. data at position 0 is\r\n  greater than data at position 1. Say following 2 successive data points:\r\n\r\n  [\r\n    { at: x, value: v1 isMissing: false },\r\n    { at: y, value: v2, isMissing: false }\r\n  ]\r\n\r\n  then,\r\n  \r\n  x is always greater than y.\r\n\r\n  Moreover, every time series result has `alignmentPeriod` field,\r\n  and according to that, successive data points differ w.r.t `at` field.\r\n\r\n  Following table shows the difference between x and y field for various\r\n  alignmentPeriods.\r\n\r\n  alignmentPeriod  |   x - y\r\n  =============================\r\n      1h           |   1 hours\r\n      1d           |   1 day\r\n      1w           |   1 week\r\n      1m           |   1 month\r\n\r\n  Another thing is that, the value associated with a\r\n  time series point whose `at` field is t1, is some aggregation of data points\r\n  that was collected between (t1, t2], and t2 - t1 is the alignmentPeriod.\r\n\r\n  Thus, for above, v1 is the aggregation of data points between x and y i.e. \r\n  including x but not y.\r\n\r\n  Similarly, v2 is the aggregation of data points between y and z i.e. including\r\n  y and not z; and y - z is the alignment period.\r\n\r\n  This brings to the point of how it affects label. \r\n\r\n  Say our alignmentPeriod was 1w, and the data points were marked at following:\r\n  [ \r\n    { at: 2020-01-14T00:00:00Z, value: v1, isMissing: false },\r\n    { at: 2020-01-07T00:00:00Z, value: v2, isMissing: false }\r\n  ]\r\n\r\n  then v1 is the accumulation of data between (07T00, 14T00].\r\n\r\n  What that means is, datapoints between Jan 7 00:01 AM and Jan 14 00:00 AM\r\n  are being considered. So, infact what we ought to show in the user friendly\r\n  label is not Jan 7 to Jan 14 but rather Jan 7 to Jan 13.\r\n\r\n  So, the display label math turns out to be [d - 1 - 1 week, d - 1].\r\n  \r\n  We do this math for 1m, 1w and 1d. Others aren't necessary, since the\r\n  time difference is already very small\r\n\r\n*/\r\n\r\nconst minusOneDay = (d: string) => moment(d).add(-1, 'day').toISOString();\r\n\r\nconst getXTickFormatter = (() => {\r\n  const f = (date: string, formatter: string) => moment.tz(date, getTimezone()).format(formatter);\r\n\r\n  const map: { [key in TimeSeries.AlignmentPeriod]: { (d: string): string } } = {\r\n    '1m': (d: string) => f(minusOneDay(d), 'MMM'),\r\n    '1w': (d: string) => {\r\n      d = minusOneDay(d);\r\n      const d0 = moment(d).subtract(6, 'day').toISOString();\r\n      return `${f(d0, 'MMM DD')} - ${f(d, 'MMM DD')}`;\r\n    },\r\n    '1d': (d: string) => {\r\n      d = minusOneDay(d);\r\n      return moment.tz(d, getTimezone()).get('month') === 0 ? f(d, 'MMM, YYYY') : f(d, 'MMM DD');\r\n    },\r\n    '4h': (d: string) => f(d, 'MMM DD'),\r\n    '1h': (d: string) => f(d, 'MMM DD'),\r\n    '30m': (d: string) => f(d, 'ddd h A'),\r\n    '5m': (d: string) => f(d, 'h:mm A')\r\n  };\r\n\r\n  const defaultFormatter = map['30m'];\r\n\r\n  return (ts: TimeSeries.Result) => {\r\n    return map[ts.alignmentPeriod] || defaultFormatter;\r\n  }\r\n})();\r\n\r\nconst getTooltipDateFormatter = (() => {\r\n  const f = (date: string, formatter: string) => moment.tz(date, getTimezone()).format(formatter);\r\n\r\n  const map: { [key in TimeSeries.AlignmentPeriod]: { (d: string): string } } = {\r\n    '1m': (d: string) => f(minusOneDay(d), 'MMM, YYYY'),\r\n    '1w': (d: string) => {\r\n      d = minusOneDay(d);\r\n      const d0 = moment(d).subtract(6, 'day').toISOString();\r\n      return `${f(d0, 'MMM DD, YYYY')} - ${f(d, 'MMM DD, YYYY')}`;\r\n    },\r\n    '1d': (d: string) => f(minusOneDay(d), 'MMM DD, YYYY'),\r\n    '4h': (d: string) => f(d, 'MMM DD, YYYY, ddd h A'),\r\n    '1h': (d: string) => f(d, 'MMM DD, YYYY, ddd h A'),\r\n    '30m': (d: string) => f(d, 'MMM DD, ddd h A'),\r\n    '5m': (d: string) => f(d, 'MMM DD, h:mm A')\r\n  };\r\n\r\n  const defaultFormatter = map['30m'];\r\n\r\n  return (ts: TimeSeries.Result) => {\r\n    return map[ts.alignmentPeriod] || defaultFormatter;\r\n  }\r\n})();","import React from \"react\";\r\nimport { Card } from \"../../../style\";\r\nimport { Table } from \"antd\";\r\nimport { getColor } from \"../utils/color\";\r\nimport { getKeys } from \"../utils/points\";\r\n\r\nexport default ({ points, legend }: { points: any, legend?: { label: string } }) => {\r\n  const tableProps = {\r\n    loading: points && points.length > 0 ? false : true,\r\n    style: { width: '100%' },\r\n    dataSource: getKeys(points).map((key: string, i: number) => ({ label: key, key: i, color: getColor(i) })),\r\n    columns: [\r\n      {\r\n        title: legend?.label,\r\n        dataIndex: 'label',\r\n        key: 'label',\r\n        render: (item: string) => <span className='capitalize'>{item}</span>\r\n      },\r\n      {\r\n        title: 'Color',\r\n        dataIndex: 'color',\r\n        key: 'color',\r\n        render: (color: string) => <span className='round' style={{ background: color }}></span>\r\n      }\r\n    ]\r\n  }\r\n\r\n  if (!legend) return null;\r\n  return (\r\n    <Card shadow width=\"100%\" >\r\n      <Table\r\n        pagination={false}\r\n        {...tableProps}\r\n      />\r\n    </Card>\r\n  )\r\n};","import { useState, useRef, useEffect } from \"react\";\r\n\r\nexport const useResize = ({ filterWidth } : { filterWidth?: number}) =>{\r\n    const [width, setWidth] = useState(300);\r\n    const container = useRef<any>(null);\r\n    const resize = () => setWidth(container?.current?.clientWidth);\r\n    useEffect(resize, [container?.current?.clientWidth, filterWidth]);\r\n    useEffect(() => {\r\n      window?.addEventListener(\"resize\", resize);\r\n      return () => window.removeEventListener(\"resize\", resize);\r\n    }, []);\r\n  \r\n    return {\r\n       container,\r\n       width\r\n    };\r\n  };","import React from \"react\";\r\nimport { Header, Grid, Button, Notification } from \"../../../style\";\r\nimport { primaryColor } from \"../../../config\";\r\nimport { overflow } from \"../../../utils/text\";\r\nimport {  Charts } from \"../types\";\r\nimport charts from '../json/charts.json'\r\n\r\nconst ChartHeader = ({ chartType, chartTypes, setChartType, title, filter, isPercent, download = true, loading = false }: any)=>(\r\n    <Header\r\n    className=\"grid\"\r\n    color={primaryColor}\r\n    style={{\r\n      gridColumn: \"1/-1\",\r\n      width: \"100%\",\r\n      gridTemplateColumns: \"1fr auto auto\",\r\n      placeItems: \"start \",\r\n    }}\r\n    bold\r\n    size={4}\r\n  >\r\n    <Grid mobileLayout={false} customCols=\"auto 1fr auto\" gridGap=\".5em\" padding=\".2em .5em\"\r\n      width={'100%'}\r\n      style={{\r\n        placeItems: 'start',\r\n        borderRadius: \"1em\",\r\n        textTransform: \"capitalize\",\r\n        placeSelf: \"start\",\r\n      }}\r\n    >\r\n      <Header bold size={3.75} textAlign='left'>{overflow(title, 25)}</Header>\r\n      <div style={{ placeSelf: \"end\" }}>\r\n      {download && <Button\r\n          invert\r\n          minWidth=\"3em\"\r\n          margin='0 1em'\r\n          noBorder={true}\r\n          onClick={() => Notification.success({ title: 'Success', message: 'Exporting Data to Excel' })}\r\n          faIcon={'fas fa-file-download'}\r\n          tooltip='Download the current data on Excel'\r\n        />}\r\n\r\n        {chartTypes?.length > 1 &&\r\n           charts.map(({ key, faIcon, label }) => (\r\n            chartTypes && <span key={key}>{chartTypes.includes(key) &&\r\n            <Button\r\n              invert={chartType !== key}\r\n              minWidth=\"3em\"\r\n              disabled={loading || (isPercent && key !== Charts.multiLine)}\r\n              noBorder={chartType !== key}\r\n              onClick={() => setChartType(key as Charts)}\r\n              faIcon={faIcon}\r\n              tooltip={label}\r\n            />}\r\n            </span>\r\n          ))\r\n        }\r\n      </div>\r\n      {filter}\r\n    </Grid>\r\n  </Header>\r\n  );\r\nexport default ChartHeader;","import React from \"react\";\r\nimport { Loader, Header } from \"../../../style\";\r\n\r\nconst Loading = ({ style }: any) => (\r\n    <div className=\"grid\" style={style}>\r\n      <div>\r\n        <Loader.Spinner />\r\n        <Header bold>Loading..</Header>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\nexport default Loading;","import React, { CSSProperties, useEffect, useState } from \"react\";\r\nimport { Card, Empty as EmptyEl } from \"../../style\";\r\nimport Graph from \"./components/graph\";\r\nimport LegendTable from \"./components/legend-table\";\r\nimport { Charts, ChartProps, MultiMetricsChartProps } from \"./types\";\r\nimport { useResize } from \"./hooks/resize\";\r\nimport ChartHeader from \"./components/header\";\r\nimport Loader from './components/loading';\r\nimport { useChartType } from \"./hooks/chart-type\";\r\nimport { useData, useCombinedData } from \"./hooks/data\";\r\n\r\nconst d100: CSSProperties = { height: '100%', width: '100%', textAlign: 'center', marginTop: \"1em\" };\r\nconst height = 400;\r\n\r\nconst Chart = ({ filter, loading, metricDataStatus, legend, filterWidth, title, isPercent, chartTypes = [Charts.stackedBar], download }: ChartProps) => {\r\n  const { chartType, setChartType } = useChartType({ chartTypes, isPercent })\r\n  const { container, width } = useResize({ filterWidth });\r\n  const { points } = useData(metricDataStatus.data?.timeSeriesResult);\r\n  return (\r\n    <>\r\n      <Card\r\n        placeSelf=\"stretch\"\r\n        shadow\r\n        grid\r\n        customCols={\"1fr auto\"}\r\n        gridGap={\"0 1em\"}\r\n        className=\"slide-up noselect\"\r\n      >\r\n        <ChartHeader\r\n          chartType={chartType}\r\n          chartTypes={chartTypes}\r\n          setChartType={setChartType}\r\n          title={title}\r\n          loading={loading}\r\n          download={download}\r\n          isPercent={isPercent}\r\n          filter={filter}\r\n        />\r\n        <div style={{ width: \"100%\", marginTop: \"1em\" }} ref={container}>\r\n          {metricDataStatus?.loading\r\n            ? <Loader style={{ ...d100, height }} />\r\n            : metricDataStatus?.error || !metricDataStatus?.data!?.timeSeriesResult\r\n              ? <EmptyEl text=\"Error Occured\" style={{ ...d100, height }} />\r\n              : <Graph\r\n                  chartType={chartType}\r\n                  size={{ height, width }}\r\n                  data={metricDataStatus.data as any}\r\n                />\r\n          }\r\n        </div>\r\n      </Card>\r\n      <LegendTable\r\n        legend={legend ? legend : undefined}\r\n        points={points}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst MultiMetricsChart = ({ filter, metricDataStatuses, legend, filterWidth, title, }: MultiMetricsChartProps) => {\r\n  const { container, width } = useResize({ filterWidth });\r\n  const isLoading = metricDataStatuses.reduce((acc, curr) => acc || curr.loading, false);\r\n  const hasError = metricDataStatuses.reduce((acc, curr) => acc || curr.error || !curr?.data?.timeSeriesResult, false);\r\n  const datas = metricDataStatuses.map(({ data }) => data);\r\n  const timeSeries = metricDataStatuses.map(({ data })=> data?.timeSeriesResult)\r\n  const { points } = useCombinedData(timeSeries as any);\r\n  return (\r\n    <>\r\n      <Card\r\n        placeSelf=\"stretch\"\r\n        shadow\r\n        grid\r\n        customCols={\"1fr auto\"}\r\n        gridGap={\"0 1em\"}\r\n        className=\"slide-up noselect\"\r\n      >\r\n        <ChartHeader\r\n          title={title}\r\n          filter={filter}\r\n        />\r\n        <div style={{ width: \"100%\", marginTop: \"1em\" }} ref={container}>\r\n          {isLoading\r\n            ? <Loader style={{ ...d100, height }} />\r\n            : hasError\r\n              ? <EmptyEl text=\"Error Occured\" style={{ ...d100, height }} />\r\n              :\r\n              <Graph.Multi\r\n                chartType={Charts.combined}\r\n                size={{ height, width }}\r\n                datas={datas as any}\r\n              />\r\n          }\r\n        </div>\r\n      </Card>\r\n      <LegendTable\r\n        legend={legend ? legend : undefined}\r\n        points={points}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nChart.Multi = MultiMetricsChart\r\nexport default Chart;","import { useState, useEffect } from \"react\";\r\nimport { Charts } from \"../types\";\r\n\r\nexport const useChartType = ({ chartTypes, isPercent}: any) =>{\r\n    const [chartType, setChartType] = useState<Charts>(chartTypes[0] || Charts.stackedBar);\r\n    useEffect(() => {\r\n      if (isPercent)\r\n        setChartType(Charts.multiLine)\r\n    }, [isPercent]);\r\n\r\n    return { chartType, setChartType };\r\n  }; ","import { useReducer } from \"react\";\r\nimport { TimeSeries } from \"../model/domain/metrics\";\r\nimport { moment, defaultInterval } from '../utils/time';\r\n\r\nexport const defaultTimeSeries: TimeSeries.Query = {\r\n  metricType: \"garage_occupancy_count\",\r\n  resourceIds: [],\r\n  crossSeriesReducer: \"NONE\",\r\n  interval: defaultInterval()\r\n};\r\n\r\nconst defaultDayFilter: TimeSeries.DayFilterQuery = {\r\n  days: [true, true, true, true, true, true, true],\r\n  hours: [8, 18]\r\n}\r\n\r\nexport enum actions {\r\n  SET_GARAGES,\r\n  SET_ALIGNMENT,\r\n  SET_METRICTYPE,\r\n  SET_INTERVAL,\r\n  REFRESH,\r\n  SET_DAY_FILTER\r\n};\r\n\r\nexport function reducer(state: TimeSeries.Query, action: any) {\r\n  const { startTime: start, endTime: end } = state.interval;\r\n  const setTimeseries = (props: any) => ({ ...state, ...props });\r\n\r\n  const getInterval = (props: any) => {\r\n    let { startTime = start, endTime = end } = props;\r\n    startTime = moment(startTime);\r\n    endTime = moment(endTime);\r\n    const shouldSwap = startTime > endTime;\r\n    return {\r\n      startTime: (shouldSwap ? endTime : startTime).toISOString(),\r\n      endTime: (shouldSwap ? startTime : endTime).toISOString()\r\n    };\r\n  };\r\n\r\n  switch (action.type) {\r\n    case actions.SET_METRICTYPE:\r\n      return setTimeseries({ metricType: action.payload.metricType });\r\n\r\n    case actions.SET_GARAGES:\r\n      return setTimeseries({ resourceIds: action.payload.resourceIds });\r\n\r\n    case actions.SET_INTERVAL:\r\n      return setTimeseries({ interval: getInterval(action.payload.interval) });\r\n\r\n    case actions.SET_ALIGNMENT:\r\n      const alignment = action.payload || null;\r\n      return setTimeseries({ alignment });\r\n\r\n    case actions.SET_DAY_FILTER:\r\n      const dayFilter = !action.payload ? null : validateDayFilter({ ...state.dayFilter, ...action.payload });\r\n      return setTimeseries({ dayFilter });\r\n\r\n    case actions.REFRESH:\r\n      return action.payload\r\n    default:\r\n      return state;\r\n  }\r\n}\r\nconst validateDayFilter = (dayFilter: TimeSeries.DayFilterQuery) => {\r\n  const { hours: [start, end] } = dayFilter;\r\n\r\n  if (end === 0) {\r\n    dayFilter = { ...dayFilter, hours: [start, 24] }\r\n  }\r\n\r\n  if (start === 24) {\r\n    dayFilter = { ...dayFilter, hours: [0, end] }\r\n  }\r\n\r\n  if (dayFilter.hours[0] > dayFilter.hours[1]) {\r\n    dayFilter = { ...dayFilter, hours: [end, start] }\r\n  }\r\n\r\n  return dayFilter;\r\n}\r\nconst useTimeseries = (initialState = defaultTimeSeries) => {\r\n  const [timeseries, dispatch] = useReducer(reducer, initialState);\r\n  const setGarages = (resourceIds: string[]) => dispatch({ type: actions.SET_GARAGES, payload: { resourceIds } });\r\n\r\n  const setMetric = (metricType: string) => dispatch({ type: actions.SET_METRICTYPE, payload: { metricType } });\r\n  const setAlignment = (e: any) => dispatch({ type: actions.SET_ALIGNMENT, payload: e });\r\n  const setDayFilter = (e = defaultDayFilter) => dispatch({ type: actions.SET_DAY_FILTER, payload: e })\r\n  const setInterval = (interval: any) => dispatch({ type: actions.SET_INTERVAL, payload: { interval } })\r\n  const refresh = (timeseries: any) => dispatch({ type: actions.REFRESH, payload: timeseries })\r\n  return {\r\n    timeseries,\r\n    actions: {\r\n      setGarages,\r\n      setAlignment,\r\n      setMetric,\r\n      setInterval,\r\n      setDayFilter,\r\n      refresh\r\n    }\r\n  }\r\n}\r\n\r\nexport default useTimeseries;","import { useState, useEffect } from \"react\";\r\nimport API from \"../api\";\r\nimport { TimeSeries } from \"../model/domain/metrics\";\r\nimport { moment, Moment, defaultInterval } from '../utils/time';\r\nimport logger from \"../utils/logger\";\r\n\r\nexport interface MetricDataStatus {\r\n  error: boolean;\r\n  loading: boolean;\r\n  data: {\r\n    timeSeriesResult: TimeSeries.Result | null;\r\n    metricDescriptor: TimeSeries.MetricDescriptor;\r\n  } | null;\r\n}\r\n\r\nexport const useMetricData = ({ timeseries, interval = defaultInterval(), eId }: any) => {\r\n  const [state, setState] = useState<TimeSeries.Query>({ interval, ...timeseries, });\r\n  const {\r\n    interval: { startTime, endTime },\r\n  } = state;\r\n\r\n  const [metricDataStatus, setMetricDataStatus] = useState<MetricDataStatus>({\r\n    error: false,\r\n    loading: false,\r\n    data: null,\r\n  });\r\n\r\n  const setInterval = (interval: any) => setState({ ...state, interval });\r\n\r\n  const setEndTime = (newEndtime: Moment | null) => {\r\n    if (newEndtime) {\r\n      setState({\r\n        ...state,\r\n        interval: getInterval(moment(startTime), newEndtime)\r\n      });\r\n    }\r\n  };\r\n\r\n  const setStartTime = (newStartTime: Moment | null) => {\r\n    if (newStartTime) {\r\n      setState({\r\n        ...state,\r\n        interval: getInterval(newStartTime, moment(endTime)),\r\n      });\r\n    }\r\n  };\r\n\r\n  const getInterval = (start: Moment, end: Moment) => {\r\n    const shouldSwap = start > end;\r\n    return {\r\n      startTime: (shouldSwap ? end : start).toISOString(),\r\n      endTime: (shouldSwap ? start : end).toISOString()\r\n    };\r\n  };\r\n\r\n  const getMetricData = async (query: TimeSeries.Query) => {\r\n    try {\r\n      setMetricDataStatus({ data: null, loading: true, error: false });\r\n      const res = await Promise.all(\r\n        [API.getTimeSeries(eId, query), API.getTimeSeriesMetricDescriptor(eId, query.metricType)]);\r\n      const [{ timeSeriesResult }, { metricDescriptor }] = res;\r\n      setMetricDataStatus({\r\n        loading: false,\r\n        error: false,\r\n        data: {\r\n          timeSeriesResult,\r\n          metricDescriptor\r\n        }\r\n      });\r\n    } catch (e) {\r\n      logger.log(e)\r\n      setMetricDataStatus({\r\n        loading: false,\r\n        error: true,\r\n        data: null,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => { getMetricData({ ...state }) }, [state]);\r\n  return {\r\n    metricDataStatus,\r\n    interval: state.interval,\r\n    setEndTime,\r\n    setStartTime,\r\n    timeseries: state,\r\n    setInterval,\r\n    refresh: (d: any) => {\r\n      const query = { ...{ interval: state.interval }, ...d };\r\n      setState(query)\r\n    }\r\n  };\r\n};\r\n\r\nexport default { useMetricData };","import React, { useState, useEffect } from 'react';\r\nimport { Header, Card, Text, Button, Grid } from '../style';\r\nimport { DatePicker, TimePicker, Divider, Select } from \"antd\";\r\nimport { moment, Moment, FORMAT_TIME } from '../utils/time';\r\nimport { Garage } from '../model/domain/garage';\r\nimport Label from './label';\r\nimport { TimeSeries } from '../model/domain/metrics';\r\n\r\nconst Filter = ({ open, toggle, filterWidth, loading: loadingTimeSeries, submit, reset, actions, timeseries, options, hideTimeSelection }: any) => {\r\n    const { timeframes, aggregations, metrics, resources } = options;\r\n    const [custom, setCustom] = useState(false);\r\n    const [timeframeLabel, setTimeframeLabel] = useState('')\r\n    const disabledDate = (cur: Moment | null) => cur ? cur > moment() : false;\r\n\r\n    const style = { height: \"calc(100% - 4em)\", width: filterWidth, position: \"fixed\", zIndex: 5, top: '4em', right: 0 };\r\n    const props = { style: { width: '100%' }, disabled: loadingTimeSeries };\r\n    const dividerStyle = { marginBottom: '.5em', fontSize: '.95em', color: 'gray' }\r\n    const gridProps = hideTimeSelection ? { customCols: '1fr', gridGap: 0, maxHeight: '100%' } : { cols: 2, gridGap: '0 1em' };\r\n    const reverse = {\r\n        points: ['bl', 'tl'], // align dropdown bottom-left to top-left of input element\r\n        offset: [0, -4], // align offset\r\n        overflow: {\r\n            adjustX: 0,\r\n            adjustY: 0, // do not auto flip in y-axis\r\n        },\r\n    }\r\n\r\n    const handlePresetChange = (e: any) => {\r\n        if (e.value === null) {\r\n            setCustom(true);\r\n            setTimeframeLabel('Custom');\r\n        }\r\n        else {\r\n            setCustom(false);\r\n            actions.setInterval(e.value);\r\n        }\r\n    }\r\n\r\n    useEffect(() => setTimeframeLabel(getDefaultTimeframe(timeframes, timeseries.interval)), [timeseries])\r\n\r\n    if (!open) return null;\r\n    return (\r\n        <Card grid shadow style={style} margin=\"0\" placeItems=\"stretch\" gridGap='0' className='slide-in'>\r\n            <Header textAlign=\"left\" className=\"slide-up\">\r\n                <i className=\"fa fa-times pointer\" onClick={() => toggle()}></i>\r\n                <span className=\"pad\">Filters</span>\r\n            </Header>\r\n            {timeframes && <div>\r\n                <Divider style={dividerStyle}>Timeframe </Divider>\r\n                <div className=\"slide-up\">\r\n\r\n                    <Text textAlign=\"left\" bold>Presets\r\n                     <Label label={'Interval for the graph data'} />\r\n                    </Text>\r\n                    <Select\r\n                        onChange={(e: any) => handlePresetChange(JSON.parse(e))}\r\n                        {...props}\r\n                        value={timeframeLabel}\r\n                    >\r\n                        {timeframes.map(({ label, enteries }: any) => (\r\n                            <Select.OptGroup label={label}>\r\n                                {enteries.map((entry: any) => (\r\n                                    <Select.Option value={JSON.stringify(entry)}>\r\n                                        {entry.label}\r\n                                    </Select.Option>)\r\n                                )}\r\n                            </Select.OptGroup>))}\r\n                    </Select>\r\n                </div>\r\n\r\n                <div className=\"slide-up\" style={{ marginTop: '1em' }}>\r\n                    <Text textAlign=\"left\" bold>From</Text>\r\n                    <Grid {...gridProps} mobileLayout={false}>\r\n                        <DatePicker\r\n                            disabled={!custom}\r\n                            clearIcon={false}\r\n                            disabledDate={disabledDate}\r\n                            style={{ borderRadius: 8, width: '100%' }}\r\n                            onChange={(startTime) => actions.setInterval({ startTime })}\r\n                            value={moment(timeseries.interval.startTime)}\r\n                        />\r\n                        {!hideTimeSelection && <TimePicker\r\n                            disabled={!custom}\r\n                            clearIcon={false}\r\n                            disabledDate={disabledDate}\r\n                            use12Hours\r\n                            format={FORMAT_TIME}\r\n                            minuteStep={15}\r\n                            style={{ borderRadius: 8, width: '100%' }}\r\n                            onChange={(startTime) => actions.setInterval({ startTime })}\r\n                            value={moment(timeseries.interval.startTime)}\r\n                        />}\r\n                    </Grid>\r\n                </div>\r\n\r\n                <div className=\"slide-up\" style={{ marginTop: '1em' }}>\r\n                    <Text textAlign=\"left\" bold>\r\n                        To\r\n                     </Text>\r\n                    <Grid  {...gridProps} gridGap='0 1em' mobileLayout={false}>\r\n                        <DatePicker\r\n                            clearIcon={false}\r\n                            disabled={!custom}\r\n                            disabledDate={disabledDate}\r\n                            style={{ borderRadius: 8, width: '100%' }}\r\n                            onChange={(endTime) => actions.setInterval({ endTime })}\r\n                            value={moment(timeseries.interval.endTime)}\r\n                        />\r\n\r\n                        {!hideTimeSelection && <TimePicker\r\n                            disabledDate={disabledDate}\r\n                            use12Hours\r\n                            clearIcon={false}\r\n                            format={FORMAT_TIME}\r\n                            disabled={!custom}\r\n                            style={{ borderRadius: 8, width: '100%' }}\r\n                            onChange={(endTime) => actions.setInterval({ endTime })}\r\n                            value={moment(timeseries.interval.endTime)}\r\n                        />}\r\n                    </Grid>\r\n                </div>\r\n            </div>}\r\n            {metrics && <div className=\"slide-up\">\r\n                <Divider style={dividerStyle}>Metric</Divider>\r\n                <Text bold textAlign=\"left\">Select Measurement\r\n                <Label label={'Metric Type'} />\r\n                </Text>\r\n                <Select\r\n                    {...props}\r\n                    placeholder=\"Select\"\r\n                    value={timeseries.metricType}\r\n                    onChange={actions.setMetric}\r\n                >\r\n                    {metrics.map(({ label, value }: any) => (\r\n                        <Select.Option\r\n                            className='capitalize'\r\n                            value={value}\r\n                        >\r\n                            {label}\r\n                        </Select.Option>))\r\n                    }\r\n                </Select>\r\n            </div>}\r\n\r\n            {resources && <div className=\"slide-up\">\r\n                <Divider style={dividerStyle}>Resources</Divider>\r\n                <Text bold textAlign=\"left\">Select Garages</Text>\r\n                <Select\r\n                    {...props}\r\n                    mode=\"multiple\"\r\n                    placeholder=\"All Garages\"\r\n                    value={timeseries.resourceIds}\r\n                    onChange={actions.setGarages}\r\n                >\r\n                    {resources.map(({ name, id }: Garage) => <Select.Option value={id}>{name}</Select.Option>)}\r\n                </Select>\r\n            </div>}\r\n\r\n            {aggregations && <div className=\"slide-up\">\r\n                <Divider style={dividerStyle}>Aggregation</Divider>\r\n                <Text bold textAlign=\"left\">{aggregations.label}\r\n                    <Label label={'Time period for the data(Min/Max) to be aggregated'} />\r\n                </Text>\r\n                <Select\r\n                    onChange={(e: any) => {\r\n                        const parsedValue = JSON.parse(e);\r\n                        actions.setDayFilter(parsedValue.timeSelection ? undefined : null);\r\n                        actions.setAlignment(parsedValue.value)\r\n                    }}\r\n                    {...props}\r\n                    value={getAlignment(timeseries.alignment, timeseries.dayFilter)}\r\n                    defaultValue={\"None\"}\r\n                    dropdownAlign={reverse}\r\n                >\r\n                    {aggregations.values.map((props: any) => <Select.Option value={JSON.stringify(props)}>\r\n                        {props.label}\r\n                    </Select.Option>)}\r\n                </Select>\r\n            </div>}\r\n\r\n            {timeseries?.dayFilter &&\r\n                <div className=\"slide-up\">\r\n                    <Text bold textAlign=\"left\">{aggregations.label}\r\n                        <Label label={'Time period for the data(Min/Max) to be aggregated'} />\r\n                    </Text>\r\n                    <Grid  {...gridProps} gridGap='0 1em' mobileLayout={false}>\r\n                        <TimePicker\r\n                            use12Hours\r\n                            clearIcon={false}\r\n                            format={FORMAT_TIME}\r\n                            showMinute={false}\r\n                            style={{ borderRadius: 8, width: '100%' }}\r\n                            onChange={(e) => actions.setDayFilter({ hours: [e?.hour(), timeseries.dayFilter.hours[1]] })}\r\n                            value={moment()\r\n                                .set('hour', timeseries.dayFilter.hours[0])\r\n                                .set('minute', 0)}\r\n                            dropdownAlign={reverse}\r\n                        />\r\n\r\n                        <TimePicker\r\n                            use12Hours\r\n                            clearIcon={false}\r\n                            showMinute={false}\r\n                            format={FORMAT_TIME}\r\n                            style={{ borderRadius: 8, width: '100%' }}\r\n                            onChange={(e) => actions.setDayFilter({ hours: [timeseries.dayFilter.hours[0], e?.hour()] })}\r\n                            value={moment()\r\n                                .set('hour', timeseries.dayFilter.hours[1])\r\n                                .set('minute', 0)\r\n                            }\r\n                            dropdownAlign={reverse}\r\n                        />\r\n\r\n                        <Text\r\n                            bold\r\n                            textAlign=\"right\"\r\n                            style={{ gridColumn: '1/-1' }}\r\n                            width='100%'\r\n                        >\r\n                            {`${timeseries.dayFilter.hours[1] - timeseries.dayFilter.hours[0]} hours`}\r\n                        </Text>\r\n                    </Grid>\r\n                </div>}\r\n\r\n            <Grid cols={reset ? 2 : 1} placeItems='stretch' placeSelf='end stretch'>\r\n                <Button\r\n                    shadow\r\n                    onClick={submit}\r\n                    disabled={loadingTimeSeries}\r\n                >\r\n                    Submit\r\n                </Button>\r\n                {reset && <Button\r\n                    onClick={reset}\r\n                    disabled={loadingTimeSeries}\r\n                    noBorder\r\n                    invert\r\n                    shadow\r\n                >\r\n                    Reset\r\n                </Button>}\r\n            </Grid>\r\n        </Card>\r\n    );\r\n}\r\n\r\nconst getAlignment = (alignment: { alignmentReducer: string, alignmentPeriod: string } | null, dayFilter: TimeSeries.DayFilterQuery) => {\r\n    if (!alignment) return 'None';\r\n\r\n    const period = !dayFilter ? 'Daily' : 'Hourly';\r\n    const reducer = alignment.alignmentReducer === 'MIN' ? 'Min' : 'Max';\r\n    return `${period} ${reducer}`;\r\n}\r\n\r\nconst getDefaultTimeframe = (timeframes: any, interval: any) => {\r\n    if (!timeframes?.startTime || !interval?.startTime || interval?.endTime || !timeframes?.endTime) return;\r\n    const equals = (t1: any, t2: any) => t1.startTime === t2.startTime && t1.endTime === t2.endTime\r\n    const intoInterval = ({ startTime, endTime }: any) => ({\r\n        startTime: typeof startTime === 'string' ? startTime : startTime.toISOString(),\r\n        endTime: typeof endTime === 'string' ? endTime : endTime.toISOString()\r\n    })\r\n\r\n    for (let i = 0; i < timeframes.length; i++) {\r\n        const enteries = timeframes[i].enteries;\r\n        for (let j = 0; j < enteries.length; j++) {\r\n            const timeframe = enteries[j]\r\n            if (timeframe?.value && equals(intoInterval(timeframe.value), intoInterval(interval))) {\r\n                return timeframe.label\r\n            }\r\n        }\r\n    }\r\n    for (let i = 0; i < timeframes.length; i++) {\r\n        const enteries = timeframes[i].enteries;\r\n        for (let j = 0; j < enteries.length; j++) {\r\n            const timeframe = enteries[j]\r\n            if (timeframe.defaultValue)\r\n                return timeframe.label;\r\n        }\r\n    }\r\n    return 'None';\r\n}\r\n\r\nexport default Filter;","import { defaultInterval, yearToDate, getInterval } from \"../../../utils/time\";\r\n\r\nconst json = {\r\n   \"timeframes\": [\r\n      {\r\n         \"label\": \"Custom\",\r\n         \"enteries\": [\r\n            {\r\n               \"value\": null,\r\n               \"label\": \"Custom\"\r\n            }\r\n         ]\r\n      },\r\n      {\r\n         \"label\": \"To-Date\",\r\n         \"enteries\": [\r\n            {\r\n               \"value\": defaultInterval(),\r\n               \"label\": \"Today\",\r\n               \"defaultValue\": true\r\n            },\r\n            {\r\n               \"value\": yearToDate(),\r\n               \"label\": \"Year To Date\"\r\n            },\r\n         ]\r\n      },\r\n      {\r\n         \"label\": \"Interval\",\r\n         \"enteries\": [\r\n            {\r\n               \"value\": getInterval(7),\r\n               \"label\": \"Last 1 Week\"\r\n            },\r\n            {\r\n               \"value\": getInterval(30),\r\n               \"label\": \"Last 1 Month\"\r\n            },\r\n            {\r\n               \"value\": getInterval(90),\r\n               \"label\": \"Last 3 Months\"\r\n            },\r\n            {\r\n               \"value\": getInterval(365),\r\n               \"label\": \"Last 1 Year\"\r\n            },\r\n         ]\r\n      }\r\n   ],\r\n   \"aggregations\":  {\r\n      \"label\": \"Max/Min Occupancy Selection\",\r\n      \"values\": [\r\n      {\r\n         \"value\": null,\r\n         \"label\": \"None\"\r\n      },\r\n      {\r\n         \"label\": \"Hourly Max\",\r\n         \"timeSelection\" : true,\r\n         \"value\": {\r\n            \"alignmentReducer\": \"MAX\",\r\n            \"alignmentPeriod\": \"1d\"\r\n         }\r\n      },\r\n      {\r\n         \"label\": \"Daily Max\",\r\n         \"timeSelection\" : false,  \r\n         \"value\": {\r\n            \"alignmentReducer\": \"MAX\",\r\n            \"alignmentPeriod\": \"1d\",\r\n         }\r\n      },\r\n      {\r\n         \"label\": \"Hourly Min\",\r\n         \"timeSelection\" : true,\r\n         \"value\": {\r\n            \"alignmentReducer\": \"MIN\",\r\n            \"alignmentPeriod\": \"1d\"\r\n         }\r\n      },\r\n      {\r\n         \"label\": \"Daily Min\",\r\n         \"timeSelection\" : false, \r\n         \"value\": {\r\n            \"alignmentReducer\": \"MIN\",\r\n            \"alignmentPeriod\": \"1d\"\r\n         }\r\n      }\r\n   ]}\r\n}\r\n\r\nexport default json;","import React, { useState, useEffect } from 'react';\r\nimport { Grid, Button } from '../../../style';\r\nimport Chart from '../../../components/chart';\r\nimport { useMetricData } from '../../../hooks/metrics';\r\nimport Filter from '../../../components/filter';\r\nimport { useSelector } from 'react-redux';\r\nimport useTimeseries from '../../../hooks/timeseries';\r\nimport options from './filter-options';\r\nimport useGarages from '../../../hooks/garage';\r\nimport chart from './chart.json';\r\nimport { defaultInterval } from '../../../utils/time';\r\nimport { TimeSeries } from '../../../model/domain/metrics';\r\n\r\nconst defaultTimeSeries = {\r\n  ...chart.timeSeriesQuery,\r\n  interval: defaultInterval()\r\n} as TimeSeries.Query;\r\n\r\nconst Analytics = () => {\r\n  const [open, setOpen] = useState(true);\r\n  const [toggle, setToggle] = useState(false);\r\n  const eId = useSelector(({ user }: any) => user.enterprise.id);\r\n  const { metricDataStatus, refresh, timeseries: currentTimeseries } = useMetricData({\r\n    timeseries: defaultTimeSeries,\r\n    eId\r\n  });\r\n\r\n  const { timeseries, actions } = useTimeseries(defaultTimeSeries);\r\n  const isPercent = timeseries?.metricType?.split('_')?.includes('percent') || false;\r\n  const { garages: resources } = useGarages({ eId });\r\n\r\n  const props = {\r\n    filterWidth: 350,\r\n    loading: metricDataStatus.loading,\r\n    submit: () => {\r\n      setTimeout(() => setOpen(false), 400);\r\n      refresh(timeseries)\r\n    },\r\n    reset: () => {\r\n      setTimeout(() => setOpen(false), 400);\r\n      actions.refresh(defaultTimeSeries)\r\n      refresh(defaultTimeSeries)\r\n    },\r\n    actions,\r\n    timeseries,\r\n    options: { ...options, resources }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (toggle) {\r\n      refresh(timeseries);\r\n      setToggle(false)\r\n    }\r\n  }, [timeseries]);\r\n\r\n  const chart_ = chart as any; //to mute ts error\r\n\r\n  return (\r\n    <Grid placeItems=\"start stretch\" padding=\"1em\" height=\"100%\">\r\n      <Grid cols=\"1\" gridGap=\"0 1em\">\r\n        <Chart\r\n          isPercent={isPercent}\r\n          className='slide-up'\r\n          metricDataStatus={metricDataStatus}\r\n          legend={{ label: 'Garages' }}\r\n          filter={\r\n            <span>\r\n              <Button\r\n                invert={timeseries.metricType !== 'garage_occupancy_count'}\r\n                noBorder={timeseries.metricType !== 'garage_occupancy_count'}\r\n                onClick={() => {\r\n                  actions.setMetric('garage_occupancy_count');\r\n                  setToggle(true)\r\n                }}\r\n                faIcon={'fas fa-sort-numeric-up'}\r\n                tooltip='Switch to count'\r\n                minWidth=\"3em\"\r\n                margin='0 0 0 1em'\r\n              />\r\n              <Button\r\n                invert={timeseries.metricType !== 'garage_occupancy_percent'}\r\n                noBorder={timeseries.metricType !== 'garage_occupancy_percent'}\r\n                minWidth=\"3em\"\r\n                onClick={() => {\r\n                  actions.setMetric('garage_occupancy_percent');\r\n                  setToggle(true)\r\n                }\r\n                }\r\n                faIcon={'fas fa-percentage'}\r\n                tooltip='Switch to percent'\r\n              />\r\n              {!open ?\r\n                <Button\r\n                  placeSelf=\"end\"\r\n                  rounded\r\n                  shadow\r\n                  minWidth=\"3em\"\r\n                  onClick={() => setOpen(!open)}\r\n                  faIcon={`fa fa-filter`}\r\n                /> : null}\r\n            </span>\r\n          }\r\n          {...chart_}\r\n        />\r\n        <Filter {...props} open={open} toggle={() => { setOpen(false); actions.refresh(currentTimeseries) }} />\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default Analytics;","import {  InputNumber } from \"antd\";\r\nimport React from \"react\";\r\nimport { GarageOccupancyTableItem as Item } from \"../../../model/domain/garage\";\r\n\r\nconst days = [\r\n   {\r\n    title: \"Time\",\r\n    dataIndex: \"sun\",\r\n   },\r\n  {\r\n    title: \"Sunday\",\r\n    dataIndex: \"sun\",\r\n  },\r\n  {\r\n    title: \"Monday\",\r\n    dataIndex: \"mon\",\r\n  },\r\n  {\r\n    title: \"Tuesday\",\r\n    dataIndex: \"tue\",\r\n  },\r\n  {\r\n    title: \"Wednesday\",\r\n    dataIndex: \"wed\",\r\n  },\r\n  {\r\n    title: \"Thrusday\",\r\n    dataIndex: \"thur\",\r\n  },\r\n  {\r\n    title: \"Friday\",\r\n    dataIndex: \"fri\",\r\n  },\r\n  {\r\n    title: \"Saturday\",\r\n    dataIndex: \"sat\",\r\n  },\r\n];\r\n\r\ntype Interval = { startHour: [number, number], endHour: [number, number ] }\r\n\r\nconst getTime = (range : Interval)=>{\r\n    const [hour1, min1 ] = range.startHour;\r\n    const [hour2, min2 ] = range.endHour;\r\n    const period = hour1 >= 12? 'PM' : 'AM'\r\n    return `${format(hour1)}:${pad(min1)+ period} -\\n ${format(hour2)}:${pad(min2) + period}`\r\n}\r\n\r\nconst pad = (digit: number) => String(digit < 10? `0${digit}` : digit);\r\n\r\nconst to12hours = (hour : number) => Math.abs((hour - 12) !== 0? (hour - 12) : 12);\r\n\r\nconst format = (hour : number) => pad(to12hours(hour));\r\n\r\nconst columns = ( edit = false, index = 0, setFieldValue = (e : any,f: any, g: any)=>{}) => {\r\n    return days.map(({title, dataIndex})=>{\r\n        return {\r\n            title : title !== 'Time'? title : <div>{title} &nbsp;&nbsp; <i className=\"fa fa-clock\"></i></div>,\r\n            dataIndex,\r\n            key: dataIndex,\r\n            render: (item: Item, _: any, i: number) =>{\r\n                const handleChange = (e: any)=> setFieldValue(dataIndex, i, {...item, occupancy : Math.floor(e/100)})\r\n                const occupancy = Math.floor(item.occupancy * 100);\r\n                return (title !== 'Time'? \r\n                    edit? \r\n                        <InputNumber \r\n                            className={`${dataIndex} ${i}`}\r\n                            min={0}\r\n                            max={100}  \r\n                            style={{placeSelf: \"end\", width: \"60px\"}}\r\n                            defaultValue={occupancy}\r\n                            onChange={handleChange} \r\n                            precision={0}\r\n                            name={\"maxOccupancy\"} \r\n                        /> : \r\n                        `${occupancy}%` : \r\n                   <b>{getTime(item.interval)}</b>\r\n                   );\r\n          }\r\n        }\r\n    })\r\n}\r\n\r\nexport default columns;\r\n","export const defaultTable =\r\n{\r\n        \"title\": \"\",\r\n        \"table\": {\r\n            \"sun\": [\r\n                { \"interval\": { \"startHour\": [0, 0], \"endHour\": [0, 59] }, \"occupancy\":   0.20 },\r\n                { \"interval\": { \"startHour\": [1, 0], \"endHour\": [1, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [2, 0], \"endHour\": [2, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [3, 0], \"endHour\": [3, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [4, 0], \"endHour\": [4, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [5, 0], \"endHour\": [5, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [6, 0], \"endHour\": [6, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [7, 0], \"endHour\": [7, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [8, 0], \"endHour\": [8, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [9, 0], \"endHour\": [9, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [10, 0], \"endHour\": [10, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [11, 0], \"endHour\": [11, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [12, 0], \"endHour\": [12, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [13, 0], \"endHour\": [13, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [14, 0], \"endHour\": [14, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [15, 0], \"endHour\": [15, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [16, 0], \"endHour\": [16, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [17, 0], \"endHour\": [17, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [18, 0], \"endHour\": [18, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [19, 0], \"endHour\": [19, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [20, 0], \"endHour\": [20, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [21, 0], \"endHour\": [21, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [22, 0], \"endHour\": [22, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [23, 0], \"endHour\": [23, 59] }, \"occupancy\": 0.1 }\r\n            ],\r\n            \"mon\": [\r\n                { \"interval\": { \"startHour\": [0, 0], \"endHour\": [0, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [1, 0], \"endHour\": [1, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [2, 0], \"endHour\": [2, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [3, 0], \"endHour\": [3, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [4, 0], \"endHour\": [4, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [5, 0], \"endHour\": [5, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [6, 0], \"endHour\": [6, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [7, 0], \"endHour\": [7, 59] }, \"occupancy\":   0.5 },\r\n                { \"interval\": { \"startHour\": [8, 0], \"endHour\": [8, 59] }, \"occupancy\":   0.9 },\r\n                { \"interval\": { \"startHour\": [9, 0], \"endHour\": [9, 59] }, \"occupancy\":   0.9 },\r\n                { \"interval\": { \"startHour\": [10, 0], \"endHour\": [10, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [11, 0], \"endHour\": [11, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [12, 0], \"endHour\": [12, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [13, 0], \"endHour\": [13, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [14, 0], \"endHour\": [14, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [15, 0], \"endHour\": [15, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [16, 0], \"endHour\": [16, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [17, 0], \"endHour\": [17, 59] }, \"occupancy\": 0.5 },\r\n                { \"interval\": { \"startHour\": [18, 0], \"endHour\": [18, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [19, 0], \"endHour\": [19, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [20, 0], \"endHour\": [20, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [21, 0], \"endHour\": [21, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [22, 0], \"endHour\": [22, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [23, 0], \"endHour\": [23, 59] }, \"occupancy\": 0.1 }\r\n            ],\r\n            \"tue\": [\r\n                { \"interval\": { \"startHour\": [0, 0], \"endHour\": [0, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [1, 0], \"endHour\": [1, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [2, 0], \"endHour\": [2, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [3, 0], \"endHour\": [3, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [4, 0], \"endHour\": [4, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [5, 0], \"endHour\": [5, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [6, 0], \"endHour\": [6, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [7, 0], \"endHour\": [7, 59] }, \"occupancy\":   0.5 },\r\n                { \"interval\": { \"startHour\": [8, 0], \"endHour\": [8, 59] }, \"occupancy\":   0.9 },\r\n                { \"interval\": { \"startHour\": [9, 0], \"endHour\": [9, 59] }, \"occupancy\":   0.9 },\r\n                { \"interval\": { \"startHour\": [10, 0], \"endHour\": [10, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [11, 0], \"endHour\": [11, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [12, 0], \"endHour\": [12, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [13, 0], \"endHour\": [13, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [14, 0], \"endHour\": [14, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [15, 0], \"endHour\": [15, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [16, 0], \"endHour\": [16, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [17, 0], \"endHour\": [17, 59] }, \"occupancy\": 0.5 },\r\n                { \"interval\": { \"startHour\": [18, 0], \"endHour\": [18, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [19, 0], \"endHour\": [19, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [20, 0], \"endHour\": [20, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [21, 0], \"endHour\": [21, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [22, 0], \"endHour\": [22, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [23, 0], \"endHour\": [23, 59] }, \"occupancy\": 0.1 }\r\n            ],\r\n            \"wed\": [\r\n                { \"interval\": { \"startHour\": [0, 0], \"endHour\": [0, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [1, 0], \"endHour\": [1, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [2, 0], \"endHour\": [2, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [3, 0], \"endHour\": [3, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [4, 0], \"endHour\": [4, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [5, 0], \"endHour\": [5, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [6, 0], \"endHour\": [6, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [7, 0], \"endHour\": [7, 59] }, \"occupancy\":   0.5 },\r\n                { \"interval\": { \"startHour\": [8, 0], \"endHour\": [8, 59] }, \"occupancy\":   0.9 },\r\n                { \"interval\": { \"startHour\": [9, 0], \"endHour\": [9, 59] }, \"occupancy\":   0.9 },\r\n                { \"interval\": { \"startHour\": [10, 0], \"endHour\": [10, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [11, 0], \"endHour\": [11, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [12, 0], \"endHour\": [12, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [13, 0], \"endHour\": [13, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [14, 0], \"endHour\": [14, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [15, 0], \"endHour\": [15, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [16, 0], \"endHour\": [16, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [17, 0], \"endHour\": [17, 59] }, \"occupancy\": 0.5 },\r\n                { \"interval\": { \"startHour\": [18, 0], \"endHour\": [18, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [19, 0], \"endHour\": [19, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [20, 0], \"endHour\": [20, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [21, 0], \"endHour\": [21, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [22, 0], \"endHour\": [22, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [23, 0], \"endHour\": [23, 59] }, \"occupancy\": 0.1 }\r\n            ],\r\n            \"thur\": [\r\n                { \"interval\": { \"startHour\": [0, 0], \"endHour\": [0, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [1, 0], \"endHour\": [1, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [2, 0], \"endHour\": [2, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [3, 0], \"endHour\": [3, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [4, 0], \"endHour\": [4, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [5, 0], \"endHour\": [5, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [6, 0], \"endHour\": [6, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [7, 0], \"endHour\": [7, 59] }, \"occupancy\":   0.5 },\r\n                { \"interval\": { \"startHour\": [8, 0], \"endHour\": [8, 59] }, \"occupancy\":   0.9 },\r\n                { \"interval\": { \"startHour\": [9, 0], \"endHour\": [9, 59] }, \"occupancy\":   0.9 },\r\n                { \"interval\": { \"startHour\": [10, 0], \"endHour\": [10, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [11, 0], \"endHour\": [11, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [12, 0], \"endHour\": [12, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [13, 0], \"endHour\": [13, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [14, 0], \"endHour\": [14, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [15, 0], \"endHour\": [15, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [16, 0], \"endHour\": [16, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [17, 0], \"endHour\": [17, 59] }, \"occupancy\": 0.5 },\r\n                { \"interval\": { \"startHour\": [18, 0], \"endHour\": [18, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [19, 0], \"endHour\": [19, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [20, 0], \"endHour\": [20, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [21, 0], \"endHour\": [21, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [22, 0], \"endHour\": [22, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [23, 0], \"endHour\": [23, 59] }, \"occupancy\": 0.1 }\r\n            ],\r\n            \"fri\": [\r\n                { \"interval\": { \"startHour\": [0, 0], \"endHour\": [0, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [1, 0], \"endHour\": [1, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [2, 0], \"endHour\": [2, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [3, 0], \"endHour\": [3, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [4, 0], \"endHour\": [4, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [5, 0], \"endHour\": [5, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [6, 0], \"endHour\": [6, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [7, 0], \"endHour\": [7, 59] }, \"occupancy\":   0.5 },\r\n                { \"interval\": { \"startHour\": [8, 0], \"endHour\": [8, 59] }, \"occupancy\":   0.9 },\r\n                { \"interval\": { \"startHour\": [9, 0], \"endHour\": [9, 59] }, \"occupancy\":   0.9 },\r\n                { \"interval\": { \"startHour\": [10, 0], \"endHour\": [10, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [11, 0], \"endHour\": [11, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [12, 0], \"endHour\": [12, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [13, 0], \"endHour\": [13, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [14, 0], \"endHour\": [14, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [15, 0], \"endHour\": [15, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [16, 0], \"endHour\": [16, 59] }, \"occupancy\": 0.9 },\r\n                { \"interval\": { \"startHour\": [17, 0], \"endHour\": [17, 59] }, \"occupancy\": 0.5 },\r\n                { \"interval\": { \"startHour\": [18, 0], \"endHour\": [18, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [19, 0], \"endHour\": [19, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [20, 0], \"endHour\": [20, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [21, 0], \"endHour\": [21, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [22, 0], \"endHour\": [22, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [23, 0], \"endHour\": [23, 59] }, \"occupancy\": 0.1 }\r\n            ],\r\n            \"sat\": [\r\n                { \"interval\": { \"startHour\": [0, 0], \"endHour\": [0, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [1, 0], \"endHour\": [1, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [2, 0], \"endHour\": [2, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [3, 0], \"endHour\": [3, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [4, 0], \"endHour\": [4, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [5, 0], \"endHour\": [5, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [6, 0], \"endHour\": [6, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [7, 0], \"endHour\": [7, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [8, 0], \"endHour\": [8, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [9, 0], \"endHour\": [9, 59] }, \"occupancy\":   0.1 },\r\n                { \"interval\": { \"startHour\": [10, 0], \"endHour\": [10, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [11, 0], \"endHour\": [11, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [12, 0], \"endHour\": [12, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [13, 0], \"endHour\": [13, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [14, 0], \"endHour\": [14, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [15, 0], \"endHour\": [15, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [16, 0], \"endHour\": [16, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [17, 0], \"endHour\": [17, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [18, 0], \"endHour\": [18, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [19, 0], \"endHour\": [19, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [20, 0], \"endHour\": [20, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [21, 0], \"endHour\": [21, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [22, 0], \"endHour\": [22, 59] }, \"occupancy\": 0.1 },\r\n                { \"interval\": { \"startHour\": [23, 0], \"endHour\": [23, 59] }, \"occupancy\": 0.1 }\r\n            ]\r\n        }\r\n    };","import { GarageOccupancyTableItem as Item, GarageOccupancyTable } from '../../../model/domain/garage';\r\n\r\nexport const format = (aTable: GarageOccupancyTable) => {\r\n    if (!aTable?.table)\r\n        return [];\r\n\r\n    const temp = new Array(24);\r\n    Object.keys(aTable.table)\r\n        .map((key: string) => {\r\n            const items = aTable.table[key as 'sun'];\r\n            items.map((item: Item, i: number) => {\r\n                temp[i] = { ...temp[i], ...{ [key]: item } }\r\n            });;\r\n        })\r\n    return temp;\r\n}","import React, { useRef} from 'react';\r\nimport { Grid,  Button, Text } from '../../../style';\r\nimport { primaryColor } from '../../../config';\r\nimport { GarageOccupancyTableItem as Item, GarageOccupancyTable } from '../../../model/domain/garage';\r\nimport { Table,  Input  } from 'antd';\r\nimport columns from './columns';\r\nimport { format } from './format';\r\n\r\ntype Days = 'sun' | 'mon' | 'tue' | 'wed' | 'thur' | 'fri' | 'sat';\r\n\r\nconst OccupancyForm = (props: any) => {\r\n    const { action, close } = props;\r\n    const initialValues: GarageOccupancyTable = props.initialValues;\r\n    const input = useRef<any>(null)\r\n    const days = Object.keys(initialValues.table) as Days[];\r\n\r\n    const submit = () => {\r\n        action({\r\n            title: getTitle(),\r\n            id: initialValues.id,\r\n            table: getTable(days)\r\n        });\r\n        close();\r\n    }\r\n\r\n    const getTitle = () => {\r\n        return input?.current?.state?.value || initialValues.title\r\n    }\r\n    const getTable = (days: Days[]) => (days\r\n        .reduce((table: any, day: Days) => {\r\n            const values = getOccupanciesByDay(day);\r\n            const intervals = initialValues.table[day];\r\n            const newIntervals = intervals.map(({ interval }: Item, i: number) => {\r\n                return { interval, occupancy: values[i] }\r\n            })\r\n\r\n            table[day] = newIntervals;\r\n            return table;\r\n        }, {})\r\n    )\r\n\r\n    const toArray = (elements: HTMLCollectionOf<Element>): Element[] => {\r\n        const items = []\r\n        for (let i = 0; i < elements.length; i++) {\r\n            items.push(elements[i])\r\n        }\r\n        return items;\r\n    }\r\n\r\n    const getOccupanciesByDay = (day: Days): Number[] => {\r\n        const items = toArray(document.getElementsByClassName(day));\r\n        items.sort((a: Element, b: Element) => Number(a.classList[1]) - Number(b.classList));\r\n        return items\r\n            .map((item: Element) => {\r\n                const secondChild = item?.children[1] as any;\r\n                const value = secondChild?.children[0]?.value || '0';\r\n                return Number(value) / 100\r\n            })\r\n    }\r\n    return (\r\n        <Grid placeItems=\"stretch\" width=\"100%\" height=\"100%\" gridGap=\"0\" background=\"white\" padding=\".5em .8em 1em .8em\" >\r\n            <div style={{ padding: \".5em\" }}>\r\n                <Text textAlign=\"left\" bold>Enter the Name of your Table</Text>\r\n                <Input\r\n                    placeholder={\"Ex: New Table 1\"}\r\n                    name={\"title\"}\r\n                    ref={input}\r\n                    defaultValue={initialValues.title}\r\n                />\r\n            </div>\r\n            <div style={{ overflowY: \"scroll\", maxHeight: \"60vh\" }}>\r\n                <Table\r\n                    className='min-height-table'\r\n                    bordered\r\n                    pagination={false}\r\n                    key={Math.random() * 1000}\r\n                    style={{ color: primaryColor, maxWidth: \"100%\" }}\r\n                    dataSource={format(initialValues)}\r\n                    columns={columns(true, 0)}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Button onClick={close}>Cancel</Button>\r\n                <Button onClick={() => { submit() }}>Submit</Button>\r\n            </div>\r\n        </Grid>\r\n    );\r\n};\r\n\r\nexport default OccupancyForm;","import React from 'react';\r\nimport { Grid, MenuItem } from '../../../style';\r\nimport { List, Popconfirm } from 'antd';\r\nimport { Garage } from '../../../model/domain/garage';\r\nimport Label from '../../../components/label';\r\n\r\nconst TableItem = ({ active, select, table, remove, garages, open }: any) => {\r\n    const getGarages = (tableId: string) => garages.filter((g: Garage) => g?.occupancyTableId === tableId, []);\r\n    const associatedGarages = getGarages(table.id);\r\n    return (\r\n        <div style={{ placeSelf: \"start stretch\" }}>\r\n            <List.Item\r\n                className=\"pointer\"\r\n                onClick={select}\r\n            >\r\n                <MenuItem\r\n                    fullWidth\r\n                    active={active}\r\n                    style={{ margin: \"auto\" }}\r\n                >\r\n                    <Grid width=\"100%\" color={\"inherit\"} customCols=\"auto 1fr auto\">\r\n\r\n                        <i className=\"fa fa-table txt-lg\" style={{ padding: \".35em\" }}></i>\r\n                        <span>\r\n                            {table.title}\r\n                            <Label label={`This Occupancy is associated with: ${\r\n                            associatedGarages ?\r\n                                associatedGarages\r\n                                .map((g: Garage, i: number) => g.name + (i === associatedGarages.length - 1 ? '' : ', ')) : 'N/A'}`} />\r\n                        </span>\r\n                        <span>\r\n                            <Popconfirm\r\n                                style={{ padding: \".4em\", color: !active ? \"white\" : \"inherit\" }}\r\n                                title=\"Are you sure\"\r\n                                onConfirm={() => remove(table.id)}\r\n                            >\r\n                                <i className=\"fa fa-trash hoverr\" style={{ color: !active ? \"white\" : \"inherit\" }} ></i>\r\n                            </Popconfirm>\r\n                            &nbsp;   &nbsp;\r\n                <i className=\"fa fa-edit hoverr\" onClick={open} style={{ color: !active ? \"white\" : \"inherit\" }}></i>\r\n                        </span>\r\n                    </Grid>\r\n                </MenuItem>\r\n            </List.Item>\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default TableItem;","import React, { useEffect } from 'react';\r\nimport {  Header, Card, Button,  Modal } from '../../../style';\r\nimport { GarageOccupancyTableItem as Item, GarageOccupancyTable, Garage } from '../../../model/domain/garage';\r\nimport { List  } from 'antd';\r\nimport { defaultTable } from './default-table';\r\nimport OccupancyForm from './table-form';\r\nimport TableItem from './table-item';\r\nimport { useSelector } from 'react-redux';\r\nimport useGarages from '../../../hooks/garage';\r\n\r\nconst TableList = ({ add, remove, selected, select, edit, tables, loading, localeProps } : any) => {\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n    const { garages, loading: garageLoading  } = useGarages({ eId });\r\n\r\n    const AddModal = Modal({\r\n        title: \"Add Your Occupancy Table\",\r\n        message: \r\n        <OccupancyForm\r\n            action={add}\r\n            close={() => AddModal.close()}\r\n            initialValues={defaultTable}\r\n        />,\r\n        hideCancel: true,\r\n    });\r\n\r\n    const open = (selected: GarageOccupancyTable) => {\r\n        const EditModal =  Modal({\r\n            title: \"Edit Your Occupancy Table\",\r\n            message: <OccupancyForm\r\n                action={edit}\r\n                initialValues={selected}\r\n                close={() => EditModal.close()}\r\n            />,\r\n            hideCancel: true,\r\n        });\r\n        EditModal.open();\r\n    }\r\n\r\n    return (\r\n        <Card shadow width=\"400px\" grid customRows=\"auto 1fr\" placeItems=\"stretch\">\r\n            <Header bold width=\"100%\" size={3}>\r\n                Occupancy Tables\r\n                <Button\r\n                    style={{ placeSelf: \"end\", fontSize: \".6em\", float: \"right\" }}\r\n                    rounded\r\n                    shadow\r\n                    onClick={AddModal.open}\r\n                    minWidth=\"4.5em\"\r\n                >\r\n                    <i className={`fa fa-${\"plus\"}`}></i> Add\r\n                </Button>\r\n            </Header>\r\n            <List\r\n                {...localeProps}\r\n                loading={loading || garageLoading}\r\n                bordered={!loading}\r\n                dataSource={tables}\r\n                renderItem={(table: GarageOccupancyTable, i: number) => (\r\n                    <TableItem\r\n                        select={() => select(i)}\r\n                        active={i === selected}\r\n                        garages={garages}\r\n                        table={table}\r\n                        remove={remove}\r\n                        open={() => open(tables[i])}\r\n                    />\r\n                )}\r\n            />\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default TableList;","import React, { useState, useEffect } from 'react';\r\nimport { Grid,  Card, Empty, Loader } from '../../../style';\r\nimport { primaryColor } from '../../../config';\r\nimport { useSelector } from 'react-redux';\r\nimport { Table } from 'antd';\r\nimport columns from './columns';\r\nimport { useOccupanyTable } from '../../../hooks/occupancy-table';\r\nimport TableList from './table-list';\r\nimport { format } from './format';\r\n\r\ntype Days = 'sun' | 'mon' | 'tue' | 'wed' | 'thur' | 'fri' | 'sat';\r\n\r\nconst OccupancyTable = () => {\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n    const { tables, loading: loadingTables, addTable, editTable, removeTable } = useOccupanyTable({ eId })\r\n    const [ selected, setSelected ] = useState(0);\r\n    const localeProps = {\r\n        locale: {\r\n            emptyText: <Empty text=\"No Occupancy Table\" />,\r\n        },\r\n        loading :{\r\n            spinning: loadingTables,\r\n            indicator: <Grid><Loader.Spinner size={2} color={primaryColor} /></Grid>\r\n        }\r\n    }\r\n    useEffect(() => setSelected(0), [tables]);\r\n    return (\r\n        <Grid placeItems=\"start stretch\" padding=\"1em\" height=\"100%\">\r\n            <Grid customCols=\"auto 1fr\" height=\"100%\" placeItems=\"stretch\">\r\n                <TableList\r\n                    add={addTable}\r\n                    localeProps={localeProps}\r\n                    tables={tables}\r\n                    remove={removeTable}\r\n                    loading={loadingTables}\r\n                    edit={editTable}\r\n                    select={setSelected}\r\n                    selected={selected}\r\n                />\r\n                <Card shadow width=\"100%\" height=\"100%\">\r\n                    <Table\r\n                        className='min-height-table'\r\n                        bordered\r\n                        {...localeProps}\r\n                        pagination={false}\r\n                        key={Math.random() * 1000}\r\n                        style={{ color: primaryColor, maxWidth: \"90vw\" , minHeight: \"800px\"}}\r\n                        dataSource={format(tables[selected] || [])}\r\n                        columns={columns()}\r\n                    />\r\n                </Card>\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nexport default OccupancyTable;\r\n","import React, { useState, useEffect } from 'react'\r\nimport { Grid, Header } from '../../style';\r\nimport CountUp from 'react-countup';\r\nimport { Progress, Tooltip } from 'antd';\r\nimport API from '../../api';\r\nimport { useSelector } from 'react-redux';\r\nimport { disabledTxtColor } from '../../config';\r\nimport logger from '../../utils/logger';\r\n\r\nexport const ScoreCard = ({ title, faIcon, span = 1, color = 'white', children, adjacentLabel, hoverLabel, borderRight }: any) => {\r\n  const borderStyle = borderRight ? { borderRight: '1px solid ' + disabledTxtColor, padding: '0 1em' } : {};\r\n  return (\r\n    <Grid\r\n      className='noselect'\r\n      style={{ ...borderStyle, gridColumn: 'span ' + span, minHeight: '10em' }}\r\n      placeSelf='stretch'\r\n      gridGap='.5em'\r\n      customRows='auto 1fr'\r\n    >\r\n      <Header size={3.5} color={color} placeSelf='start stretch' style={{ lineHeight: \".8em\", height: '1.5em' }}>\r\n        {title} &nbsp;\r\n          {faIcon &&\r\n          <Tooltip placement=\"topLeft\" title={hoverLabel}>\r\n            <i className={faIcon + ' pointer'}></i>\r\n          </Tooltip>}\r\n      </Header>\r\n      <div style={{ color, placeSelf: 'start center' }}>\r\n        <div style={{ height: \"6em\" }}>\r\n          {children}\r\n        </div>\r\n        <div style={{ lineHeight: '1em' }} dangerouslySetInnerHTML={{ __html: adjacentLabel }}></div>\r\n      </div>\r\n    </Grid>);\r\n}\r\n\r\nScoreCard.PercentBar = ({ percent, type, text, status = false, successPercent }: any) => {\r\n  const gradient = percent <= 50 ? '#F2BE72' :\r\n    `linear-gradient(to right, #F2BE72 ${50}%, #F76E49)`;\r\n  return (\r\n    <Progress\r\n      percent={percent}\r\n      strokeColor={status ? gradient : '#5578D6'}\r\n      successPercent={successPercent || 0}\r\n      type={type}\r\n      format={() => <div className='bold' style={{ color: 'white' }}>{text || (percent + '%')}</div>}\r\n    />);\r\n}\r\n\r\nconst intoHeadings = (str: string) => str.charAt(0).toUpperCase() + str.substring(1).replace(/ /g, ' ');\r\n\r\nconst FlatValue = ({ name, flatValueQuery, leftBorder, borderRight, refresh = true}: any) => {\r\n  const [res, setRes] = useState({\r\n    value: 0,\r\n    hoverLabel: undefined,\r\n    adjacentLabel: undefined,\r\n    isPercent: false,\r\n    unit: undefined,\r\n    applicableResource: ''\r\n  })\r\n  const { value, hoverLabel, adjacentLabel, isPercent, unit } = res;\r\n  const eId = useSelector((state: any) => state.user.enterprise.id);\r\n\r\n  const getValue = (value: number, unit?: string) => {\r\n    if (unit === '%' || unit === 'cents') \r\n      value /= 100;\r\n\r\n    value = Math.round(value * 100) / 100\r\n    return (value || 0);\r\n  }\r\n\r\n  const getIcon = (resource: string) => {\r\n      switch(resource){\r\n        case 'citation':\r\n        return 'fas fa-money-check-alt';\r\n\r\n        case 'announcement':\r\n        return 'fas fa-bullhorn';\r\n        \r\n        case 'enterpriseUser':\r\n        return 'fa fa-user';\r\n\r\n        default:\r\n        return 'fa fa-car'\r\n\r\n      }\r\n  }\r\n\r\n  const loadValue = async () => {\r\n    try {\r\n      const res = await Promise.all([API.getFlatValue(eId, flatValueQuery), API.getFlatValueMetricDes(eId, flatValueQuery.metricType)]);\r\n      const [flatValue, metricDescriptor] = res;\r\n\r\n      if (flatValue?.success && metricDescriptor?.success) {\r\n        let { flatValue: { value }, metricType, hoverLabel, adjacentLabel, unit } = flatValue.flatValueResult as any;\r\n        setRes({\r\n          isPercent: metricType?.split('_')?.includes('percent'),\r\n          hoverLabel,\r\n          unit,\r\n          adjacentLabel,\r\n          value: getValue(value, unit),\r\n          applicableResource: metricDescriptor.metricDescriptor.applicableResource\r\n        })\r\n      } else throw new Error(\"Failed\");\r\n    } catch (e) {\r\n      logger.log(e);\r\n    }\r\n  }\r\n\r\n  useEffect(() => { if(refresh) loadValue() }, [refresh]);\r\n  return (\r\n    <ScoreCard\r\n      borderRight={borderRight}\r\n      title={intoHeadings(name)}\r\n      hoverLabel={hoverLabel}\r\n      adjacentLabel={adjacentLabel}\r\n      faIcon={getIcon(res.applicableResource)}\r\n      unit={unit}\r\n      leftBorder={leftBorder}\r\n    >\r\n      {isPercent ?\r\n        <ScoreCard.PercentBar\r\n          type=\"circle\"\r\n          percent={Number(value)}\r\n        />\r\n        : <div className='txt-lgx'>\r\n          {unit === 'cents' && '$'}\r\n          {typeof value === \"number\" ?\r\n            <CountUp duration={2} start={0} end={value as number} /> : value}\r\n        </div>\r\n      }\r\n    </ScoreCard>\r\n  );\r\n};\r\n\r\nScoreCard.FlatValue = FlatValue;\r\nexport default ScoreCard;","import React from 'react';\r\nimport { Grid, Header as Text, List, Empty } from '../../style';\r\nimport useGarages from '../../hooks/garage';\r\nimport { useSelector } from 'react-redux';\r\nimport { Garage } from '../../model/domain/garage';\r\nimport { ScoreCard } from '../../components/score-card/score-card';\r\nimport { overflow } from '../../utils/text';\r\nimport { moment } from '../../utils/time';\r\nimport { invertedTxtColor, disabledTxtColor } from '../../config';\r\nimport { Tooltip } from 'antd';\r\n\r\nconst Header = () => {\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n    const { garages, loading } = useGarages({ eId });\r\n    const activeGarages = garages\r\n        .filter((garage: Garage) => garage.status === 'active' && garage.occupancy?.count !== undefined)\r\n        .sort((a, b) => (a.occupancy?.count || 0) - (b.occupancy?.count || 0));\r\n\r\n    const totalOcc = activeGarages.reduce(((acc, { maxOccupancy }: Garage) => acc + maxOccupancy), 0);\r\n    const currentOcc = activeGarages.reduce(((acc, { occupancy }: Garage) => acc + (occupancy?.count || 0)), 0);\r\n\r\n    const percent = (curr: number, total: number) => (((curr / total) * 100) || 0).toFixed(2);\r\n    return (\r\n        <Grid\r\n            cols='5'\r\n            style={{ gridColumn: '1/-1' }}\r\n            width='100%'\r\n            padding='1.5em 1.5em 0 1.5em'\r\n        >  <Text\r\n            className='hide-mobile'\r\n            style={{ gridColumn: '1/-1', placeSelf: \"end\" }}\r\n            size={4.6}\r\n            color={invertedTxtColor}\r\n        >\r\n                Updated at: {moment().format('hh:mm A')}\r\n            </Text>\r\n            <ScoreCard title='Parked Vehicles' faIcon='fa fa-car' hoverLabel='Parked Vehicles' borderRight>\r\n                <span className='txt-lgx'>{currentOcc}</span>\r\n                <span className='txt-md'>/{totalOcc}</span>\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Parked Vehicles (%)' faIcon='fa fa-car' hoverLabel='Parked Vehicles in Percentage' borderRight>\r\n                <ScoreCard.PercentBar\r\n                    type='dashboard'\r\n                    percent={percent(currentOcc, totalOcc)}\r\n                />\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Active Garages' faIcon='fa fa-car' hoverLabel='All Active Garages' borderRight>\r\n                <ScoreCard.PercentBar\r\n                    type='dashboard'\r\n                    text={`${activeGarages.length}/${garages.length}`}\r\n                    percent={percent(activeGarages.length, garages.length)}\r\n                />\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Garage Occupancies' faIcon='fa fa-car' hoverLabel='Occupancy Count' span={2}>\r\n                <Grid placeSelf='start' >\r\n                    <Grid\r\n                        customCols={loading ? '1fr' : '1fr  minmax(15em, auto)'}\r\n                        placeItems='stretch'\r\n                        width='100%'\r\n                        color='white'\r\n                        gridGap='.2em 1.5em'\r\n                    >\r\n                        <List\r\n                            loading={loading}\r\n                            empty={\r\n                                <div style={{ gridColumn: '1/-1' }}>\r\n                                    <Empty text={'No Garage Occupancy'} color=\"white\" style={{ width: '7em', margin: '0 auto' }} />\r\n                                </div>\r\n                            }\r\n                            pagination={{ items: 4 }}\r\n                            list={activeGarages}\r\n                            map={(({ name, occupancy, maxOccupancy, abnormality }: Garage) => {\r\n                                const { count } = occupancy || { count: 0 };\r\n                                const value = percent(count, maxOccupancy)\r\n                                return (\r\n                                    <>\r\n                                        <Text size={3.75} textAlign='left' color={'white'}>\r\n                                            <Tooltip title={`\r\n                                            Abnormality is: ${abnormality?.active ? `ON. It is triggered on ${abnormality.percent * 100}%` : 'OFF'}\r\n                                        `}>\r\n                                               <span className='txt-overflow'><i\r\n                                                    style={{ color: abnormality?.active ? 'coral' : disabledTxtColor }}\r\n                                                    className='fa fa-bell'\r\n                                                ></i>&nbsp;&nbsp;{overflow(name, 18)}</span>\r\n                                            </Tooltip>\r\n                                         \r\n\r\n                                        </Text>\r\n                                        <ScoreCard.PercentBar\r\n                                            status\r\n                                            percent={value}\r\n                                            text={count ? value + \"%\" : 'N/A'}\r\n                                        />\r\n                                    </>\r\n                                )\r\n                            })}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </ScoreCard>\r\n\r\n        </Grid>);\r\n}\r\n\r\nexport default Header;","import React, { useState } from 'react';\r\nimport { Switch } from '../../style';\r\nimport Layout from '../../layout';\r\nimport Listings from './listings';\r\nimport Analytics from './analytics';\r\nimport OccupancyTable from './occupancy-table';\r\nimport Header from \"./header\";\r\n\r\nconst activePages = {\r\n  \"ANALYTICS\": \"ANALYTICS\",\r\n  \"LISTINGS\": \"LISTINGS\",\r\n  \"OCCUPANCY_TABLE\": \"OCCUPANCY_TABLE\"\r\n};\r\n\r\nconst Garage = () => {\r\n  const [activePage, setActivePage] = useState(activePages.ANALYTICS);\r\n\r\n  return (\r\n    <Layout sidebar>\r\n      <Layout.Top>\r\n        <Switch.underlined\r\n          style={{ placeSelf: \"start\", gridColumn: '1/-1' }}\r\n          items={Object.keys(activePages)}\r\n          onClick={(active: string) => setActivePage(active)}\r\n          active={activePage}\r\n        />\r\n        <Header />\r\n      </Layout.Top>\r\n      <Layout.Bottom>\r\n        {activePage === activePages.LISTINGS ? <Listings /> :\r\n          activePage === activePages.OCCUPANCY_TABLE ? <OccupancyTable />\r\n            : <Analytics />\r\n        }\r\n      </Layout.Bottom>\r\n    </Layout>\r\n  );\r\n}\r\n\r\nexport default Garage;","import { Space } from 'antd';\r\nimport { Button, Badge } from '../../style';\r\nimport React from 'react';\r\nimport { Popconfirm } from 'antd';\r\nimport { moment, FORMAT_DATETIME, Moment } from '../../utils/time';\r\nimport { overflow } from '../../utils/text';\r\nimport Label from '../../components/label';\r\n\r\nconst columns = (edit: any, remove: any, loadingAction = false, index = 0) => {\r\n    return [{\r\n        title: 'Title',\r\n        dataIndex: 'title',\r\n        key: 'title',\r\n        render: (text: string) => text,\r\n    },\r\n    {\r\n        title: 'Message',\r\n        dataIndex: 'body',\r\n        key: 'body',\r\n        render: (text: string)=><div style={{textOverflow: 'ellipsis', height: \"1.5em\", overflow:\"hidden\", whiteSpace: \"nowrap\"}}>{text}</div>\r\n    },\r\n    {\r\n        title: 'Status',\r\n        dataIndex: 'status',\r\n        render: (text: string) => <Badge\r\n            className=\"shadow txt-center\"\r\n            style={{ background: text === 'expired' ? \"red\" : \"\" }}\r\n        >\r\n            {text}\r\n        </Badge>,\r\n    },\r\n    {\r\n        title: <span>Launch Date <Label label={'Date on which the message will appear in ParkStash App'}/></span>,\r\n        key: 'launchAt',\r\n        dataIndex: 'launchAt',\r\n        render: (t: string) => moment(t).format(FORMAT_DATETIME)\r\n    },\r\n    {\r\n        title: <span>Expiry Date <Label label={'Date on which the message will stop appearing in ParkStash App'}/></span>,\r\n        key: 'expiresAt',\r\n        dataIndex: 'expiresAt',\r\n        render: (t: string | null) => t? moment(t).format(FORMAT_DATETIME): 'n/a'\r\n    },\r\n    {\r\n        title: 'Action',\r\n        key: 'action',\r\n        render: (_: any, record: any) => {\r\n            return (\r\n                <Space size=\"middle\">\r\n                    <Button\r\n                        shadow\r\n                        disabled={loadingAction}\r\n                        loading={loadingAction}\r\n                        onClick={() => edit(record)}\r\n                    >\r\n                        <i className=\"fa fa-edit\"></i> &nbsp;Edit\r\n                    </Button>\r\n\r\n                    <Popconfirm\r\n                        okButtonProps={{size: 'middle'}}\r\n                        cancelButtonProps={{size: 'middle'}}\r\n                        title=\"Are you sure\"\r\n                        onConfirm={() => remove(record)}\r\n                    >\r\n                        <Button\r\n                            shadow\r\n                            bg=\"red\"\r\n                            disabled={loadingAction}\r\n                            loading={loadingAction}\r\n                        >\r\n                            <i className=\"fa fa-trash\"></i> &nbsp;Delete\r\n                        </Button>\r\n                    </Popconfirm>\r\n                </Space>\r\n            )\r\n        },\r\n    },\r\n    ]\r\n};\r\n\r\nexport default columns;","import React from \"react\";\r\nimport { Card, Empty, Button, Grid} from \"../../style\";\r\nimport { Table } from \"antd\";\r\nimport { primaryColor, mobileWidth } from \"../../config\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport columns from \"./columns\";\r\n\r\nlet locale = {\r\n  emptyText: <Empty text=\"No Annoucement\" />\r\n};\r\n\r\nexport default ({ announcements, edit, add, toggler, remove }: any) => {\r\n  const loadingAction = useSelector(\r\n    (state: any) => state.announcement.loadingAction\r\n  );\r\n  const loadingAnnouncements = useSelector(\r\n    (state: any) => state.announcement.loadingAnnouncements\r\n  );\r\n\r\n  return (\r\n    <Card shadow minWidth=\"60vw\" padding=\".5em\">\r\n      <Grid customCols=\"auto 1fr auto\">\r\n        <div></div>\r\n        {toggler}\r\n        <Button\r\n          rounded\r\n          invert\r\n          padding=\".2em\"\r\n          shadow\r\n          faIcon={`fa fa-${\"plus\"}`}\r\n          onClick={add}\r\n          minWidth=\"4.5em\"\r\n        > Add\r\n        </Button>\r\n\r\n      </Grid>\r\n      <DIV>\r\n        <Table\r\n          className='min-height-table'\r\n          locale={locale}\r\n          key={Math.random() * 1000}\r\n          loading={loadingAnnouncements}\r\n          style={{ color: primaryColor, maxWidth: \"90vw\" }}\r\n          dataSource={announcements}\r\n          columns={columns(\r\n            edit,\r\n            (i: any) => remove(i), \r\n            loadingAction\r\n          )}\r\n          summary={(pageData) => <Table.Summary.Row\r\n            key={Math.random() * 1000}\r\n            className=\"bold\"\r\n            style={{ color: primaryColor }}\r\n          >\r\n            <br />\r\n                Total Annoucements: {pageData.length}\r\n          </Table.Summary.Row>\r\n          }\r\n        />\r\n      </DIV>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst DIV = styled.div`\r\n  @media (max-width: ${mobileWidth}) {\r\n    overflow-x: scroll;\r\n  }\r\n`;","import { actions } from \"../reducer/announcement\";\r\nimport api from \"../../api\";\r\nimport { Notification } from \"../../style\";\r\nimport logger from \"../../utils/logger\";\r\n\r\ntype APICall = () => Promise<any>;\r\nexport const asyncHandler = async (apiCall: APICall, showError = false) => {\r\n  try {\r\n    let payload = await apiCall();\r\n    if (!payload || !payload.success)\r\n      throw new Error(payload.message || \"Error\");\r\n    return await payload;\r\n  } catch (e) {\r\n    if (showError) {\r\n      logger.log(e)\r\n      Notification.error({\r\n        title: \"Error: Annoucement\",\r\n        message: String(e?.message || e),\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport const addAnnouncement = (eid: string, props: any) => {\r\n  return async (dispatch: any) => {\r\n    const payload = await asyncHandler(\r\n      () => api.addAnnoucement(eid, props),\r\n      true\r\n    );\r\n    if (payload && payload.success) {\r\n      dispatch({\r\n        type: actions.ADD_ANNOUNCEMENT_SUCCESS,\r\n        payload: { announcement: {...props, id: payload.announcementId} },\r\n      });\r\n\r\n      Notification.success({\r\n        title: \"Success\",\r\n        message: 'Your Announcement was added',\r\n      });\r\n    } else dispatch({ type: actions.ACTION_ANNOUNCEMENT_ERROR });\r\n  };\r\n};\r\n\r\nexport const editAnnouncement = (eid: string, props: any) => {\r\n  return async (dispatch: any) => {\r\n    dispatch({ type: actions.ACTION_ANNOUNCEMENT_PENDING });\r\n    const payload = await asyncHandler(\r\n      () => api.editAnnoucement(eid, props.id, props),\r\n      true\r\n    );\r\n\r\n    if (payload && payload.success) {\r\n      dispatch({\r\n        type: actions.EDIT_ANNOUNCEMENT_SUCCESS,\r\n        payload: {\r\n          announcement: props,\r\n        },\r\n      });\r\n\r\n      \r\n      Notification.success({\r\n        title: \"Success\",\r\n        message: 'Your Announcement was Edited',\r\n      });\r\n    } else dispatch({ type: actions.ACTION_ANNOUNCEMENT_ERROR });\r\n  };\r\n};\r\n\r\nexport const deleteAnnouncement = (eid: string, props: any) => {\r\n  return async (dispatch: any) => {\r\n    dispatch({ type: actions.ACTION_ANNOUNCEMENT_PENDING });\r\n    const payload = await asyncHandler(\r\n      () => api.deleteAnnoucement(eid, props.id),\r\n      true\r\n    );\r\n\r\n    if (payload && payload.success) {\r\n      dispatch({\r\n        type: actions.DELETE_ANNOUNCEMENT_SUCCESS,\r\n        payload: { announcement: props },\r\n      });\r\n\r\n      Notification.success({\r\n        title: \"Success\",\r\n        message: 'Your Announcement was deleted',\r\n      });\r\n    } else dispatch({ type: actions.ACTION_ANNOUNCEMENT_ERROR });\r\n  };\r\n};\r\n\r\nexport const getAnnouncements = (eid: string) => {\r\n  return async (dispatch: any) => {\r\n    dispatch({ type: actions.GET_ANNOUNCEMENTS_PENDING });\r\n    const payload = await asyncHandler(() => api.getAnnoucements(eid), true);\r\n    if (payload && payload.success) {\r\n      dispatch({\r\n        type: actions.GET_ANNOUNCEMENTS_SUCCESS,\r\n        payload: { announcements: payload?.announcements },\r\n      });\r\n    } else dispatch({ type: actions.GET_ANNOUNCEMENTS_ERROR });\r\n  };\r\n};\r\n","import React, { useState } from 'react';\r\nimport { Grid, Button, Text } from '../../style';\r\nimport { Input, DatePicker } from 'antd';\r\nimport { useFormik } from 'formik';\r\nimport { moment, FORMAT_DATETIME, Moment } from '../../utils/time';\r\nimport Label from '../../components/label';\r\nimport logger from '../../utils/logger';\r\n\r\nconst nowISO = moment().toISOString();\r\n\r\nconst defaultValues = { title: \"\", body: \"\", status: \"active\", launchAt: nowISO, expiresAt: null };\r\n\r\nconst format = FORMAT_DATETIME;\r\nconst Form = ({ add, close, initialValues = defaultValues }: any) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const { handleSubmit, handleChange, values, setFieldValue  } = useFormik({\r\n        initialValues,\r\n        onSubmit(values) {\r\n            submit(values)\r\n        }\r\n    })\r\n    const submit = async (values: any) => {\r\n        try {\r\n            setLoading(true)\r\n            await add(values);\r\n            close();\r\n        } catch (e) {\r\n            logger.log(e)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const error = !values.launchAt || !values.body || !values.title\r\n    const style = {\r\n        padding: \".5em 1em\", height: \"100%\", width: \"100%\",\r\n        placeItems: \"center stretch\", gridGap: \".4em\", background: \"white\"\r\n    }\r\n\r\n    return (<form onSubmit={handleSubmit} className=\"grid\" style={{...style, gridGap: '1em'}}>\r\n        <div>\r\n            <Text textAlign=\"left\" bold>Annoucement Title <span className='red'>*</span></Text>\r\n            <Input\r\n                name={\"title\"}\r\n                value={values.title}\r\n                onChange={handleChange}\r\n                placeholder=\"Example: SJSU Graduation Ceramony\"\r\n            />\r\n        </div>\r\n\r\n        <div>\r\n            <Text textAlign=\"left\" bold>Annoucement Message <span className='red'>*</span></Text>\r\n            <Input.TextArea  name={\"body\"} value={values.body} rows={5}\r\n                onChange={handleChange}\r\n                placeholder=\"Example: Information on the Event\" />\r\n        </div>\r\n\r\n        <div className=\"grid\" style={{placeItems: \"end\" }}>\r\n            <Text textAlign=\"left\" placeSelf=\"stretch\" bold>\r\n                Message Launch Date \r\n                <Label label={'Date on which the message will appear in ParkStash App'}/>\r\n            </Text>\r\n            <DatePicker\r\n                use12Hours\r\n                showTime={{format: 'hh:mm a'}}\r\n                format={format}\r\n                minuteStep={15}\r\n                style={{width: \"100%\"}}\r\n                value={moment(values.launchAt)}\r\n                onChange={(e: Moment | null) => { \r\n                  if (!e) return;\r\n                  setFieldValue(\"launchAt\", e.toISOString());\r\n                }} />\r\n        </div>\r\n\r\n        <div className=\"grid\" style={{placeItems: \"end\" }}>\r\n            <Text textAlign=\"left\" placeSelf=\"stretch\" bold>Message Expiry Date\r\n            <Label label={'Date on which the message will stop appearing in ParkStash App'}/>\r\n            </Text>\r\n            <DatePicker\r\n                use12Hours\r\n                style={{width: \"100%\"}}\r\n                showTime={{format: 'hh:mm a'}}\r\n                format={format}\r\n                minuteStep={15}\r\n                value={values.expiresAt? moment(values.expiresAt): null}\r\n                onChange={(e: Moment | null) => setFieldValue(\"expiresAt\", e?.toISOString() || null)} />\r\n        </div>\r\n\r\n        <Grid cols=\"2\" size=\"0.7em\" placeItems={\"stretch\"}>\r\n            <Button.Normal\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                onClick={() => close()}\r\n            >\r\n                Cancel\r\n                </Button.Normal>\r\n            {loading ? \r\n            <Button loading disabled>Loading</Button> :\r\n                <Button.Normal\r\n                    type=\"submit\"\r\n                    disabled={error}\r\n                    onSubmit={(e: any) => handleSubmit(e)}>\r\n                    Confirm\r\n            </Button.Normal>\r\n            }\r\n        </Grid>\r\n    </form>\r\n    )\r\n}\r\n\r\nexport default Form;\r\n","import { useState, useEffect } from \"react\";\r\nimport API from \"../api\";\r\nimport { asyncHandler } from \"../utils\";\r\nimport { XyChart, ScoreCard } from \"../model/domain/dashboard\";\r\n\r\ninterface State {\r\n  charts?: XyChart[] | any;\r\n  dId?: string;\r\n  scoreCardOptions?: any;\r\n  scoreCards?: ScoreCard[] | any;\r\n  loading?: boolean,\r\n  error?: boolean,\r\n}\r\n\r\nexport const useWidgets = ({  eId, screen, resource = \"\" }:  any) => {\r\n  const [state, setter] = useState({\r\n    charts: [],\r\n    scoreCards: [],\r\n    scoreCardOptions: [],\r\n    dId: \"\",\r\n    loading: false,\r\n    error: false,\r\n  });\r\n\r\n  const setState = (obj: State) => setter({ ...state, ...obj });\r\n\r\n  const getWidgets = async (eId : string) => {\r\n    setState({ loading: true, error: false });\r\n    const res = await asyncHandler({\r\n      apiCall: () => API.getWidgets(eId),\r\n      errorMessage: \"Failed: Loading Charts\",\r\n    });\r\n\r\n    const res2 = await asyncHandler({\r\n      apiCall: () => API.getScoreCardOptions(eId, resource),\r\n      errorMessage: \"Failed: Loading Score Cards\",\r\n    });\r\n \r\n    const dashboards = res?.dashboards?.filter((dashboard: any)=> dashboard?.screen === screen) || [];\r\n    const { scoreCards, charts, id: dId } = dashboards[0] || { scoreCards : [], charts : [], id: '' };\r\n\r\n    setState({\r\n      loading: false,\r\n      error: !(res?.success || true),\r\n      scoreCards,\r\n      scoreCardOptions: res2?.metricDescriptors || [],\r\n      dId,\r\n      charts\r\n    });\r\n  };\r\n\r\n  const saveWidgets = async (props : any) => {\r\n    let { scoreCards = state.scoreCards, charts = state.charts } = props;\r\n   await asyncHandler({\r\n      apiCall: () => API.editWidgets(eId, state.dId, \r\n        {charts, scoreCards }),\r\n      errorMessage: \"Could not Edit Widgets\",\r\n      successMessage: \"Widget was Edited\",\r\n    });\r\n  };\r\n\r\n  const addWidget = (chart: XyChart) => {\r\n    const charts = [...state.charts, chart];\r\n    setState({ charts });\r\n    saveWidgets({...{ charts }});\r\n  }\r\n\r\n  const editScoreCards = (scoreCards: ScoreCard []) => {\r\n   if(scoreCards !== state.scoreCards){\r\n    setState({ scoreCards });\r\n    saveWidgets({ scoreCards });\r\n   }\r\n  }\r\n\r\n  const removeScoreCard = (index: number) => {\r\n    const scoreCards = state.scoreCards.filter((_: ScoreCard, i: number) => i !== index)\r\n    setState({ scoreCards });\r\n    saveWidgets({ scoreCards });\r\n  }\r\n\r\n  const removeChart = (index: number) => {\r\n    const charts = state.charts.filter((_: XyChart, i: number) => i !== index)\r\n    setState({ charts });\r\n    saveWidgets({...{charts }});\r\n  }\r\n\r\n  useEffect(() => {\r\n      getWidgets(eId);\r\n  }, [eId]);\r\n\r\n  return {\r\n    ...state,\r\n    getWidgets,\r\n    removeChart,\r\n    removeScoreCard,\r\n    addWidget,\r\n    editScoreCards,\r\n    saveWidgets\r\n  };\r\n};\r\n\r\nexport default {\r\n  useWidgets,\r\n};\r\n","import React from 'react'\r\nimport { Grid, List, Text } from '../../style';\r\nimport { ScoreCard } from './score-card';\r\nimport { invertedTxtColor } from '../../config';\r\nimport { moment } from '../../utils/time';\r\n\r\nexport default ({ style, scoreCards, loading, refresh }: any) => {\r\n  return (\r\n    <div className=\"slide-up\"\r\n      style={{ width: \"100%\", gridColumn: \"1/-1\", padding: \".9em .5em\", ...style }}>\r\n      {!loading && <Text\r\n        style={{ gridColumn: '1/-1', fontSize: '.8em' }}\r\n        textAlign='right'\r\n        color={invertedTxtColor}\r\n      >\r\n       &nbsp; Updated at: {moment().format('hh:mm A')}\r\n      </Text>}\r\n      <Grid cols={loading ? 1 : 5} mobileCols='1fr 1fr' placeItems={loading ? 'center' : 'stretch'} style={{ minHeight: \"9em\" }}>\r\n        <List\r\n          list={scoreCards}\r\n          loading={loading}\r\n          map={(item: any, index: number) => (\r\n            <ScoreCard.FlatValue\r\n              refresh={refresh}\r\n              borderRight={index < scoreCards.length - 1}\r\n              name={item.title}\r\n              flatValueQuery={item.flatValueQuery}\r\n            />\r\n          )}\r\n        />\r\n      </Grid>\r\n\r\n    </div>);\r\n}","import { useState, useEffect  } from \"react\";\r\n  \r\nexport const useRefresh = ()=> {  \r\n    const [ refresh, setRefresh ] = useState(true);\r\n\r\n    useEffect(()=>{if(!refresh)setRefresh(true)}, [ refresh])\r\n\r\n    return {\r\n        needsRefresh: refresh,\r\n        refresh: ()=>{console.log(\"refreshing\"); setRefresh(true)}\r\n    };\r\n\r\n}","import React, { useState, useEffect, useContext } from \"react\";\r\nimport Layout from \"../../layout\";\r\nimport { Grid, Button, Modal, Switch, Empty } from \"../../style\";\r\nimport Table from \"./table\";\r\nimport { primaryColor} from \"../../config\";\r\nimport img from \"../../assets/announ.svg\";\r\nimport { Announcement } from \"../../model/domain/announcements\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getAnnouncements, addAnnouncement, deleteAnnouncement, editAnnouncement } from \"../../store/actions/announcement\";\r\nimport Form from \"./form\";\r\nimport { useWidgets } from \"../../hooks/widget\";\r\nimport { ComponentsContext } from \"../../context/components\";\r\nimport ScoreCards from \"../../components/score-card/score-cards\";\r\nimport { useRefresh } from \"../../hooks/refresh\";\r\n\r\nconst states = {\r\n  ACTIVE: \"ACTIVE\",\r\n  ALL: \"ALL\",\r\n  EXPIRED: \"EXPIRED\",\r\n  DEFAULT: \"ACTIVE\",\r\n  states: [\"ACTIVE\", \"ALL\", \"EXPIRED\"],\r\n};\r\n\r\nconst AnnoucementEl = () => {\r\n  const eId = useSelector((state: any) => state.user.enterprise.id);\r\n  const screen = \"announcement\";\r\n  const resource = \"announcement\";\r\n\r\n  const { loading, scoreCards} = useWidgets({ eId, screen, resource });\r\n\r\n  const { needsRefresh, refresh } = useRefresh();\r\n  const announcements = useSelector(\r\n    (state: any) => state.announcement.announcements\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  const [state, setState] = useState({ active: states.DEFAULT });\r\n\r\n  const add = (item: Announcement) => {\r\n    dispatch(addAnnouncement(eId, item));\r\n    refresh();\r\n  };\r\n\r\n  const edit = (item: Announcement) => dispatch(editAnnouncement(eId, item));\r\n  const remove = (i: number) => {\r\n    dispatch(deleteAnnouncement(eId, i));\r\n    refresh();\r\n  };\r\n\r\n  const AddModal = Modal({\r\n    title: \"Add Announcement\",\r\n    message: <Adder add={add} close={() => AddModal.close()} />,\r\n    hideCancel: true,\r\n  });\r\n\r\n  const open = (selected: Announcement) => {\r\n    const EditModal = Modal({\r\n      title: \"Edit Announcement\",\r\n      message: <Adder\r\n        add={edit}\r\n        initialValues={selected}\r\n        close={() => EditModal.close()}\r\n      />,\r\n      hideCancel: true,\r\n    });\r\n    EditModal.open();\r\n  }\r\n\r\n  const currentAnnouncements = announcements.filter(\r\n    ({ status }: any) =>\r\n      status.toUpperCase() === state.active || state.active === states.ALL\r\n  );\r\n\r\n\r\n  useEffect(() => {\r\n    if (eId) dispatch(getAnnouncements(eId));\r\n  }, [eId]);\r\n\r\n  return (\r\n    <Layout sidebar>\r\n      <Layout.Top style={{paddingTop: '3em'}}>\r\n        <ScoreCards\r\n          refresh={refresh}\r\n          loading={loading}\r\n          scoreCards={scoreCards}\r\n        />\r\n        </Layout.Top>\r\n      <Layout.Bottom>\r\n      <Table \r\n       className='min-height-table'\r\n        edit={open} \r\n        add={AddModal.open}\r\n        remove={remove}\r\n        toggler={\r\n          <Switch\r\n            style={{margin: \"0 0 .5em 0\"}}\r\n            active={state.active}\r\n            items={states.states}\r\n            onClick={(active: string) => setState({ ...state, active })}\r\n          />\r\n        }\r\n        announcements={currentAnnouncements}\r\n      />\r\n      </Layout.Bottom>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst Adder = (props: any) => {\r\n  return (\r\n    <Grid customCols=\"3fr 2fr\" width=\"100%\" height=\"100%\" gridGap=\"0\">\r\n      <div style={{ background: primaryColor, height: \"100%\", padding: \"1em\", width: \"100%\" }}>\r\n        <img src={img} style={{ maxWidth: \"300px\" }} />\r\n      </div>\r\n      <Form {...props} />\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default AnnoucementEl;","import {  yearToDate, getInterval,  currentMonth } from \"../../utils/time\";\r\n\r\nconst json = {\r\n   \"timeframes\": [\r\n      {\r\n         \"label\": \"Custom\",\r\n         \"enteries\": [\r\n            {\r\n               \"value\": null,\r\n               \"label\": \"Custom\"\r\n            }\r\n         ]\r\n      },\r\n      {\r\n         \"label\": \"To-Date\",\r\n         \"enteries\": [\r\n            {\r\n               \"value\": currentMonth(),\r\n               \"label\": \"Current Month\",\r\n               defaultValue: true\r\n            },\r\n            {\r\n               \"value\": currentMonth(-1),\r\n               \"label\": \"Last Month\"\r\n            },\r\n            {\r\n               \"value\": yearToDate(),\r\n               \"label\": \"Year To Date\"\r\n            },\r\n         ]\r\n      },\r\n      {\r\n         \"label\": \"Interval\",\r\n         \"enteries\": [\r\n            {\r\n               \"value\": getInterval(30),\r\n               \"label\": \"Last 30 Days\"\r\n            },\r\n            {\r\n               \"value\": getInterval(90),\r\n               \"label\": \"Last 90 Days\"\r\n            }\r\n         ]\r\n      }\r\n   ],\r\n   \"aggregations\": {\r\n      \"label\": \"Aggregations\",\r\n      \"values\": [\r\n       \r\n         {\r\n            \"label\": \"Daily\",\r\n            \"value\": {\r\n               \"alignmentReducer\": \"SUM\",\r\n               \"alignmentPeriod\": \"1d\"\r\n            }\r\n         },\r\n         {\r\n            \"label\": \"Weekly\",\r\n            \"value\": {\r\n               \"alignmentReducer\": \"SUM\",\r\n               \"alignmentPeriod\": \"1w\"\r\n            }\r\n         },\r\n         {\r\n            \"label\": \"Monthly\",\r\n            \"value\": {\r\n               \"alignmentReducer\": \"SUM\",\r\n               \"alignmentPeriod\": \"1m\"\r\n            }\r\n         }\r\n      ]}\r\n}\r\n\r\nexport default json;","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Grid, Button } from '../../style';\r\nimport Filter from '../../components/filter';\r\nimport { useMetricData } from '../../hooks/metrics';\r\nimport useTimeseries from '../../hooks/timeseries';\r\nimport options from './filter-options';\r\nimport chart from './chart.json';\r\nimport Chart from '../../components/chart';\r\nimport { currentMonth } from '../../utils/time';\r\nimport { Select } from 'antd';\r\n\r\nconst revenueTimeSeries = {...chart.revenueTimeSeriesQuery, interval: currentMonth()};\r\nconst countTimeSeries = { ...chart.transactionCountTimeSeriesQuery, interval: currentMonth() };\r\n\r\nconst Analytics = () => {\r\n    const filterWidth = 375;\r\n    const [ open, setOpen ] = useState(true);\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n    const [toggle, setToggle] = useState(false);\r\n    const revenueMetric = useMetricData({\r\n        timeseries: revenueTimeSeries,\r\n        interval: currentMonth(),\r\n        eId\r\n    });\r\n\r\n    const countMetric = useMetricData({\r\n        timeseries: countTimeSeries,\r\n        interval: currentMonth(),\r\n        eId\r\n    });\r\n\r\n    const { timeseries, actions } = useTimeseries(revenueTimeSeries as any);\r\n\r\n    const filterProps = {\r\n        defaultValue: timeseries,\r\n        metricDataStatus: revenueMetric.metricDataStatus,\r\n        filterWidth,\r\n        loading: revenueMetric.metricDataStatus.loading || countMetric.metricDataStatus.loading,\r\n        submit: () => {\r\n            setTimeout(()=>setOpen(false), 400);\r\n            revenueMetric.refresh(timeseries);\r\n            countMetric.refresh({ ...timeseries, metricType: \"citation_transaction_count\" })\r\n        },\r\n        actions,\r\n        hideTimeSelection: true,\r\n        timeseries,\r\n        options: { ...options, aggregations: undefined }\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (toggle) {\r\n            revenueMetric.refresh(timeseries);\r\n            countMetric.refresh({ ...timeseries, metricType: \"citation_transaction_count\" })\r\n            setToggle(false)\r\n        }\r\n    }, [timeseries]);\r\n\r\n\r\n    const selectProps = {\r\n        style: { width: '100px', marginRight: \"1em\" },\r\n        disabled: revenueMetric.metricDataStatus.loading || countMetric.metricDataStatus.loading\r\n    };\r\n    return (\r\n        <Grid placeItems=\"start stretch\" padding=\"1em\" height=\"100%\">\r\n            <Grid cols=\"1\" gridGap=\"0 1em\">\r\n                <Chart.Multi\r\n                    className='slide-up'\r\n                    filterWidth={filterWidth}\r\n                    metricDataStatuses={[revenueMetric.metricDataStatus, countMetric.metricDataStatus]}\r\n                    {...chart as any}\r\n                    legend={{ label: 'Citations' }}\r\n                    filter={\r\n                        <AdditionalFilter\r\n                            actions={actions}\r\n                            open={open}\r\n                            selectProps={selectProps}\r\n                            setToggle={setToggle}\r\n                            setOpen={setOpen}\r\n                        />}\r\n                />\r\n                <Filter {...filterProps} open={open} toggle={()=>{setOpen(false); actions.refresh(revenueTimeSeries)}} />\r\n            </Grid>\r\n        </Grid>\r\n\r\n    );\r\n}\r\n\r\nconst AdditionalFilter = ({ actions, open, selectProps, setToggle, setOpen }: any) => (\r\n    <div>\r\n        <Select\r\n            onChange={(e: any) => {\r\n                actions.setAlignment(JSON.parse(e));\r\n                setToggle(true);\r\n            }}\r\n            defaultValue={\"Daily\"}\r\n            {...selectProps}\r\n        >\r\n            {options.aggregations.values.map(({ value, label }: any) => <Select.Option value={JSON.stringify(value)}>\r\n                {label}\r\n            </Select.Option>)}\r\n        </Select>\r\n        {!open ?\r\n            <Button\r\n                placeSelf=\"end\"\r\n                rounded\r\n                shadow\r\n                minWidth=\"3em\"\r\n                onClick={() => setOpen(!open)}\r\n                faIcon={`fa fa-filter`}\r\n            /> : null}</div>\r\n)\r\n\r\nexport default Analytics;","import React from 'react';\r\nimport Layout from '../../layout';\r\nimport ScoreCards from '../../components/score-card/score-cards';\r\nimport { useWidgets } from '../../hooks/widget';\r\nimport { useSelector } from 'react-redux';\r\nimport { Grid } from '../../style';\r\nimport Analytics from './analytics';\r\n\r\nconst Citations = () => {\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n    const { loading, scoreCards } = useWidgets({ eId, screen: \"citation\" });\r\n\r\n    return (\r\n        <Layout sidebar>\r\n            <Grid customCols=\"1fr auto\" width=\"100%\" gridGap=\"0\" placeItems=\"start\" style={{ height: \"100%\" }}>\r\n                <div style={{ width: \"100%\", placeSelf: 'start end' }}>\r\n                    <Layout.Top >\r\n                        <div></div>\r\n                        <ScoreCards\r\n                            loading={loading}\r\n                            eId={eId}\r\n                            scoreCards={scoreCards}\r\n                        />\r\n                    </Layout.Top>\r\n                    <Layout.Bottom >\r\n                        <Analytics />\r\n                    </Layout.Bottom>\r\n                </div>\r\n            </Grid>\r\n        </Layout>\r\n    );\r\n}\r\n\r\nexport default Citations;","import { Space } from 'antd';\r\nimport { Button, Badge } from '../../../style';\r\nimport React, { useState } from 'react';\r\nimport { Popconfirm } from 'antd';\r\nimport { moment, FORMAT_DATETIME } from '../../../utils/time';\r\nimport Label from '../../../components/label';\r\nimport { Event } from '../type';\r\n  \r\nconst columns = (edit: any, remove: any, loadingAction = false, index = 0) => {\r\n    return [{\r\n        title: 'Name',\r\n        dataIndex: 'name',\r\n        key: 'name',\r\n        render: (text: string) => <div className='txt-overflow'>{text}</div>\r\n    },\r\n    {\r\n        title: 'Location',\r\n        dataIndex: 'location',\r\n        key: 'location',\r\n        render: (text: string) => <div className='txt-overflow'>{text}</div>\r\n    },\r\n    {\r\n        title: 'Start Time',\r\n        dataIndex: 'startTime',\r\n        key: 'startTime',\r\n        render: (t: string) => moment(t).format(FORMAT_DATETIME)\r\n    },\r\n    {\r\n        title: 'End Time',\r\n        dataIndex: 'endTime',\r\n        key: 'endTime',\r\n        render: (t: string) => moment(t).format(FORMAT_DATETIME)\r\n    },\r\n    {\r\n        title: <span>Launch Date <Label label={'Date on which the message will appear in ParkStash App'} /></span>,\r\n        key: 'launchAt',\r\n        dataIndex: 'launchAt',\r\n        render: (t: string) => moment(t).format(FORMAT_DATETIME)\r\n    },\r\n\r\n    {\r\n        title: <span>Garages <Label label={'Date on which the message will appear in ParkStash App'} /></span>,\r\n        key: 'garages',\r\n        dataIndex: 'garages',\r\n        render: GaragesList\r\n    },\r\n    {\r\n        title: 'Action',\r\n        key: 'action',\r\n        render: (_: any, record: any) => {\r\n            return (\r\n                <Space size=\"middle\">\r\n                    <Button\r\n                        shadow\r\n                        disabled={loadingAction}\r\n                        loading={loadingAction}\r\n                        onClick={() => edit(record)}\r\n                    >\r\n                        <i className=\"fa fa-edit\"></i> &nbsp;Edit\r\n                    </Button>\r\n\r\n                    <Popconfirm\r\n                        okButtonProps={{ size: 'middle' }}\r\n                        cancelButtonProps={{ size: 'middle' }}\r\n                        title=\"Are you sure\"\r\n                        onConfirm={() => remove(record)}\r\n                    >\r\n                        <Button\r\n                            shadow\r\n                            bg=\"red\"\r\n                            disabled={loadingAction}\r\n                            loading={loadingAction}\r\n                        >\r\n                            <i className=\"fa fa-trash\"></i> &nbsp;Delete\r\n                        </Button>\r\n                    </Popconfirm>\r\n                </Space>\r\n            )\r\n        },\r\n    },\r\n    ]\r\n};\r\n\r\nconst GaragesList = (g: Event.Garage[]) => {\r\n    const [show, setShow] =  useState(false)\r\n    return <>\r\n    {g.map((garage, i) => {\r\n        if (i > 1 && !show) return null;\r\n        if (i === 1 && !show) \r\n        return (\r\n            <span className='bold pointer' style={{ float: 'right' }} onClick={()=>setShow(!show)}> \r\n                Show More&nbsp;<i className='fa fa-chevron-down'></i>\r\n            </span>);\r\n\r\n        return (\r\n            <div className='badge inverted' style={{ marginBottom: \".5em\" }}>\r\n                <b>Park & Ride {i}: </b> <b className='right'>${garage.price}</b>\r\n                <br />\r\n                Staff Expected: &nbsp;&nbsp; {garage.staffOccupancy} |  Spaces: {garage.maxOccupancy}  <br/>Staff Occupancy: 20 \r\n            </div>\r\n        )\r\n    })}\r\n    {show &&\r\n      <span className='bold pointer' style={{ float: 'right' }} onClick={()=>setShow(!show)}> \r\n                See Less&nbsp;<i className='fa fa-chevron-up'></i>\r\n     </span>}\r\n    </>\r\n}\r\nexport default columns;","import React from \"react\";\r\nimport { Card, Empty, Button, Grid} from \"../../../style\";\r\nimport { Table } from \"antd\";\r\nimport { primaryColor, mobileWidth } from \"../../../config\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport columns from \"./columns\";\r\n\r\nlet locale = {\r\n  emptyText: <Empty text=\"No Event\" />\r\n};\r\n\r\nexport default ({ announcements, edit, add, toggler, remove }: any) => {\r\n  const loadingAction = useSelector(\r\n    (state: any) => state.announcement.loadingAction\r\n  );\r\n  const loadingAnnouncements = useSelector(\r\n    (state: any) => state.announcement.loadingAnnouncements\r\n  );\r\n\r\n  return (\r\n    <Card shadow minWidth=\"60vw\" padding=\".5em\">\r\n      <Grid customCols=\"auto 1fr auto\">\r\n        <div></div>\r\n        {toggler}\r\n        <Button\r\n          rounded\r\n          invert\r\n          padding=\".2em\"\r\n          shadow\r\n          faIcon={`fa fa-${\"plus\"}`}\r\n          onClick={add}\r\n          minWidth=\"4.5em\"\r\n        > Add\r\n        </Button>\r\n\r\n      </Grid>\r\n      <DIV>\r\n        <Table\r\n          className='min-height-table'\r\n          locale={locale}\r\n          key={Math.random() * 1000}\r\n          loading={loadingAnnouncements}\r\n          style={{ color: primaryColor, maxWidth: \"90vw\" }}\r\n          dataSource={announcements}\r\n          columns={columns(\r\n            edit,\r\n            (i: any) => remove(i), \r\n            loadingAction\r\n          )}\r\n        />\r\n      </DIV>\r\n    </Card>\r\n  );\r\n};\r\n\r\nconst DIV = styled.div`\r\n  @media (max-width: ${mobileWidth}) {\r\n    overflow-x: scroll;\r\n  }\r\n`;","import React from 'react';\r\nimport { Grid, Header as Text, List, Empty } from '../../../style';\r\nimport useGarages from '../../../hooks/garage';\r\nimport { useSelector } from 'react-redux';\r\nimport { Garage } from '../../../model/domain/garage';\r\nimport { ScoreCard } from '../../../components/score-card/score-card';\r\nimport { overflow } from '../../../utils/text';\r\nimport { moment } from '../../../utils/time';\r\nimport { invertedTxtColor, disabledTxtColor } from '../../../config';\r\n\r\nconst Header = () => {\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n    const { garages, loading } = useGarages({ eId });\r\n    const activeGarages = garages\r\n        .filter((garage: Garage) => garage.status === 'active' && garage.occupancy?.count !== undefined)\r\n        .sort((a, b) => (a.occupancy?.count || 0) - (b.occupancy?.count || 0));\r\n\r\n    return (\r\n        <Grid\r\n            cols='5'\r\n            style={{ gridColumn: '1/-1' }}\r\n            width='100%'\r\n            padding='1.5em 1.5em 0 1.5em'\r\n        >  \r\n            <Text\r\n                className='hide-mobile'\r\n                style={{ gridColumn: '1/-1', placeSelf: \"end\" }}\r\n                size={4.6}\r\n                color={invertedTxtColor}\r\n            >\r\n                Updated at: {moment().format('hh:mm A')}\r\n            </Text>\r\n\r\n            <ScoreCard title='Active Events' faIcon='fa fa-event' hoverLabel='Active Events' borderRight>\r\n                <span className='txt-lgx'>3</span>\r\n                <span className='txt-md'>/8</span>\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Past Events' faIcon='fa fa-event' hoverLabel='Past Events' borderRight>\r\n                <span className='txt-lgx'>3</span>\r\n                <span className='txt-md'>/8</span>\r\n            </ScoreCard>\r\n\r\n        </Grid>);\r\n}\r\n\r\nexport default Header;","import React, { useState } from 'react';\r\nimport { Grid, Button, Text, Header } from '../../../style';\r\nimport { Input, DatePicker, Switch, InputNumber, Select } from 'antd';\r\nimport { useFormik } from 'formik';\r\nimport { moment, FORMAT_DATETIME, Moment } from '../../../utils/time';\r\nimport Label from '../../../components/label';\r\nimport logger from '../../../utils/logger';\r\nimport { Event } from '../type';\r\nimport { Garage } from '../../../model/domain/garage';\r\nimport useGarages from '../../../hooks/garage';\r\nimport { disabledTxtColor } from '../../../config';\r\n\r\nconst nowISO = moment().toISOString();\r\n\r\nconst defaultValues = () : Event.Event=> ({\r\n    id: String(Math.random() * 10000),\r\n    name: \"\",\r\n    status: 'active',\r\n    location: \"\",\r\n    type: \"paid\",\r\n    startTime: new Date().toISOString(),\r\n    endTime: new Date().toISOString(),\r\n    launchAt: nowISO,\r\n    garages: [defaultGarage],\r\n});\r\n\r\nconst defaultGarage : Event.Garage = {\r\n    id: '',\r\n    price: 0,\r\n    staffOccupancy: 0,\r\n    maxOccupancy: 0\r\n}\r\nconst format = FORMAT_DATETIME;\r\nconst Form = ({ add, close, initialValues = defaultValues(), eId }: any) => {\r\n    const { garages } = useGarages({ eId });\r\n    const [loading, setLoading] = useState(false);\r\n    const { handleSubmit, handleChange, values, setFieldValue } = useFormik({\r\n        initialValues,\r\n        onSubmit(values) {\r\n            submit(values)\r\n        }\r\n    })\r\n    const submit = async (values: any) => {\r\n        try {\r\n            setLoading(true)\r\n            await add(values);\r\n            close();\r\n        } catch (e) {\r\n            logger.log(e)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const error = !values.name || !values.location\r\n    const style = {\r\n        padding: \".5em 1em\", height: \"100%\", width: \"100%\",\r\n        placeItems: \"start stretch\", gridGap: \".4em\", background: \"white\"\r\n    }\r\n\r\n    return (\r\n        <>\r\n        <Header bold textAlign='left'>Event Information</Header>\r\n    <form onSubmit={handleSubmit} className=\"grid\" style={{ \r\n    ...style, gridGap: '1em', maxWidth: '500px',\r\n     overflowY: 'auto' }}>\r\n     \r\n        <div>\r\n            <Text textAlign=\"left\" bold>Name<span className='red'>*</span></Text>\r\n            <Input\r\n                name={\"name\"}\r\n                value={values.name}\r\n                onChange={handleChange}\r\n                placeholder=\"Example: SJSU Graduation Ceramony\"\r\n            />\r\n        </div>\r\n\r\n        <div>\r\n            <Text textAlign=\"left\" bold>Location <span className='red'>*</span></Text>\r\n            <Input\r\n                name={\"location\"}\r\n                value={values.location}\r\n                onChange={handleChange}\r\n                placeholder=\"Example: 3300 Madison St\"\r\n            />\r\n        </div>\r\n\r\n        <div className=\"grid\" style={{ placeItems: \"end\" }}>\r\n            <Text textAlign=\"left\" placeSelf=\"stretch\" bold>\r\n                Start Time\r\n                <Label label={'Date on which the event will start'} />\r\n            </Text>\r\n            <DatePicker\r\n                use12Hours\r\n                showTime={{ format: 'hh:mm a' }}\r\n                format={format}\r\n                minuteStep={15}\r\n                style={{ width: \"100%\" }}\r\n                value={moment(values.startTime)}\r\n                onChange={(e: Moment | null) => {\r\n                    if (!e) return;\r\n                    setFieldValue(\"startTime\", e.toISOString());\r\n                }} />\r\n        </div>\r\n\r\n        <div className=\"grid\" style={{ placeItems: \"end\" }}>\r\n            <Text textAlign=\"left\" placeSelf=\"stretch\" bold>\r\n                End Time\r\n                <Label label={'Date on which the event will end'} />\r\n            </Text>\r\n            <DatePicker\r\n                use12Hours\r\n                showTime={{ format: 'hh:mm a' }}\r\n                format={format}\r\n                minuteStep={15}\r\n                style={{ width: \"100%\" }}\r\n                value={moment(values.endTime)}\r\n                onChange={(e: Moment | null) => {\r\n                    if (!e) return;\r\n                    setFieldValue(\"endTime\", e.toISOString());\r\n                }} />\r\n        </div>\r\n\r\n        <div className=\"grid\" style={{ placeItems: \"end\" }}>\r\n            <Text textAlign=\"left\" placeSelf=\"stretch\" bold>\r\n                Launch Date\r\n                <Label label={'Date on which the message will appear in ParkStash App'} />\r\n            </Text>\r\n            <DatePicker\r\n                use12Hours\r\n                showTime={{ format: 'hh:mm a' }}\r\n                format={format}\r\n                minuteStep={15}\r\n                style={{ width: \"100%\" }}\r\n                value={moment(values.launchAt)}\r\n                onChange={(e: Moment | null) => {\r\n                    if (!e) return;\r\n                    setFieldValue(\"launchAt\", e.toISOString());\r\n                }} />\r\n        </div>\r\n\r\n        <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\" customCols=\"1fr auto\">\r\n                <Text textAlign=\"left\" placeSelf=\"end start\" bold>\r\n                    Paid Event \r\n                </Text>\r\n                <Switch\r\n                    checked={values.type === 'paid'}\r\n                    style={{ placeSelf: \"end\" }}\r\n                    onChange={(checked: boolean) => \r\n                        setFieldValue(\"type\", checked? 'paid': 'free')\r\n                    }\r\n                />\r\n        </Grid>\r\n        <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\"  customCols='1fr auto'>\r\n                <Text textAlign=\"left\" placeSelf=\"end start\">\r\n                <span className='bold'>Add a Garages:</span> Garages ({values.garages.length})\r\n                </Text>\r\n                <i className='fa fa-plus pointer' onClick={()=>setFieldValue(\"garages\", [...values.garages, defaultGarage])}></i>\r\n                {values.garages.map(({}: Event.Garage, i: number)=>(\r\n                <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" customCols='auto 1fr' style={{gridColumn: '1/-1'}}>\r\n              \r\n                    <Text style={{gridRow: 'span 5'}}>{i + 1}.</Text> \r\n\r\n                    <Select\r\n                    style={{width: \"100%\"}}\r\n                   // value={values.garages[i].id}\r\n                //    onChange={(e) =>setFieldValue('garages', e)}\r\n                >\r\n                {garages.map(({ name, id }: Garage) => <Select.Option value={id}>{name}</Select.Option>)}\r\n                </Select>\r\n                    {values.type === 'paid' && \r\n                    <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\" customCols=\"1fr auto\">\r\n                      <Text textAlign=\"left\" placeSelf=\"end start\" bold>Price ($)</Text>\r\n                           <InputNumber\r\n                               min={0}\r\n                               step={0.25}\r\n                               style={{ placeSelf: \"end\" }}\r\n                           //    value={values.garages[i].price}\r\n                        //       onChange={(e) => setFieldValue(\"price\", e)}\r\n                               name={\"price\"}\r\n                           />\r\n                   </Grid>}\r\n\r\n                   <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\" customCols=\"1fr auto\">\r\n                       <Text textAlign=\"left\" placeSelf=\"end start\" bold>Max Occupancy: </Text>\r\n                           <InputNumber\r\n                               min={0}\r\n                               style={{ placeSelf: \"end\" }}\r\n                           //    value={values.garages[i].maxOccupancy}\r\n                         //      onChange={(e) => setFieldValue(\"maxOccupancy\", e)}\r\n                               name={\"maxOccupancy\"}\r\n                           />\r\n                   </Grid>\r\n                   <Grid margin=\".6em 0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\" customCols=\"1fr auto\">\r\n                       <Text textAlign=\"left\" placeSelf=\"end start\" bold>Staffs: </Text>\r\n                           <InputNumber\r\n                               min={0}\r\n                               style={{ placeSelf: \"end\" }}\r\n                             //  value={values.garages[i].staffOccupancy}\r\n                           //    onChange={(e) => setFieldValue(\"staffOccupancy\", e)}\r\n                               name={\"staffOccupancy\"}\r\n                           />\r\n                   </Grid>\r\n                   <Text \r\n                   textAlign='right' \r\n                   className='pointer' \r\n                   margin='0 0 2em 0'\r\n                   bold\r\n                   onClick={()=>setFieldValue('garages', values.garages.filter((_: any, index: number)=> index !== i))}\r\n                   >\r\n                       Remove this Garage\r\n                   </Text>\r\n                </Grid>))}\r\n        </Grid>\r\n \r\n        <Grid cols=\"2\" size=\"0.7em\" placeItems={\"stretch\"} style={{marginBottom: '5em'}}>\r\n            <Button.Normal\r\n                type=\"submit\"\r\n                disabled={loading}\r\n                onClick={() => close()}\r\n            >\r\n                Cancel\r\n                </Button.Normal>\r\n            {loading ?\r\n                <Button loading disabled>Loading</Button> :\r\n                <Button.Normal\r\n                    type=\"submit\"\r\n                    disabled={error}\r\n                    onSubmit={(e: any) => handleSubmit(e)}>\r\n                    Confirm\r\n            </Button.Normal>\r\n            }\r\n        </Grid>\r\n    </form>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default Form;\r\n","import { useState, useEffect } from \"react\";\r\nimport API from \"../api\";\r\nimport { asyncHandler } from \"../utils\";\r\nimport { Event } from \"../pages/events/type\";\r\n\r\nconst event = () => ({ \r\n  id: String(Math.random() * 10000),\r\n  name: \"Test Event\", \r\n  location: \"3300 Madison St.\",\r\n  type: \"free\",\r\n  status: \"active\",\r\n  startTime: new Date().toISOString(),\r\n  endTime: new Date().toISOString(),\r\n  launchAt: new Date().toISOString(), \r\n  garages : [\r\n      {\r\n          maxOccupancy: 0,\r\n          staffOccupancy: 0,\r\n          price: 5,\r\n          id: '4444'\r\n      },\r\n      {\r\n        maxOccupancy: 0,\r\n        staffOccupancy: 0,\r\n        price: 5,\r\n        id: '4444'\r\n    },\r\n      {\r\n        maxOccupancy: 0,\r\n        staffOccupancy: 0,\r\n        price: 10,\r\n        id: '4444'\r\n    }\r\n  ],\r\n})\r\n\r\nconst events = [event(), event()];\r\nexport const useEvents = ({ eId , refresh = ()=>{}}: any) => {\r\n  const [state, setter ] = useState({\r\n    events: [] as Event.Event[],\r\n    loading: false,\r\n    error: false\r\n  });\r\n\r\n  const setState = (obj: any) => setter({ ...state, ...obj });\r\n\r\n  const getEvents = async () => {\r\n    setState({ loading: true, error: false });\r\n    const res = await asyncHandler({\r\n      apiCall: () => API.getEnterpriseUsers(eId),\r\n      notify: false,\r\n    });\r\n    setState({\r\n      loading: false,\r\n      error: res?.success || true,\r\n      events: events,\r\n      enterpriseUsers: res?.enterpriseUsers || [],\r\n    });\r\n  };\r\n\r\n  const removeEvent = async (event: Event.Event) => {\r\n    setState({ loading: true, error: false });\r\n    // const res = await asyncHandler({\r\n    //   apiCall: () => API.removeEnterpriseUser(eId, event.id),\r\n    //   successMessage: \"User was Rejected\",\r\n    //   errorMessage: \"User was not Rejected\",\r\n    //   refresh\r\n    // });\r\n\r\n    const newEvents = state.events.filter((e: Event.Event)=> e.id !== event.id)\r\n    setState({ loading: false, error: false, events: newEvents });\r\n\r\n  };\r\n\r\n  const addEvent = async (event: Event.Event) => {\r\n    console.log('here')\r\n    setState({ loading: true, error: false });\r\n    // const res = await asyncHandler({\r\n    //   apiCall: () => API.removeEnterpriseUser(eId, event),\r\n    //   successMessage: \"User was Rejected\",\r\n    //   errorMessage: \"User was not Rejected\",\r\n    //   refresh\r\n    // });\r\n\r\n    setState({ loading: false, error: false, events: [...state.events, event] });\r\n  };\r\n  \r\n  const editEvent = async (event: Event.Event) => {\r\n    setState({ loading: true, error: false });\r\n\r\n\r\n    setState({ loading: false, error: false });\r\n  };\r\n\r\n\r\n  useEffect(() => {getEvents();}, [eId]);\r\n  return {\r\n    ...state,\r\n    actions: {\r\n      removeEvent,\r\n      refreshEvent: getEvents,\r\n      addEvent,\r\n      editEvent\r\n    }\r\n  };\r\n};\r\n\r\nexport default {\r\n  useEvents,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport Layout from '../../../layout';\r\nimport img from '../../../assets/eventss.svg';\r\nimport { Grid, Modal, Switch, Text } from \"../../../style\";\r\nimport Table from \"./table\";\r\nimport Header from \"./header\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Form from \"./form\";\r\nimport { useRefresh } from \"../../../hooks/refresh\";\r\nimport { useEvents } from \"../../../hooks/events\";\r\nimport { Event } from \"../type\";\r\nimport { Overlay } from 'platyplex_ui';\r\nimport { disabledTxtColor } from \"../../../config\";\r\n\r\nconst states = {\r\n    ACTIVE: \"ACTIVE\",\r\n    ALL: \"ALL\",\r\n    EXPIRED: \"EXPIRED\",\r\n    DEFAULT: \"ACTIVE\",\r\n    states: [\"ACTIVE\", \"ALL\", \"EXPIRED\"],\r\n};\r\n\r\nconst Listings = ({ switches }: { switches: JSX.Element }) => {\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n    const [state, setState] = useState({ active: states.DEFAULT });\r\n    const { needsRefresh, refresh } = useRefresh();\r\n    const { events, actions } = useEvents({ eId, refresh })\r\n    const AddModal = Modal({\r\n        title: \"Add Event\",\r\n        className: 'hide',\r\n        modal: <Adder add={actions.addEvent} close={() => AddModal.close()} eId={eId}/>,\r\n        hideCancel: true,\r\n    });\r\n\r\n    const open = (selected:Event.Event) => {\r\n        const EditModal = Modal({\r\n            title: \"Edit Event\",\r\n            modal: <Adder\r\n                eId={eId}\r\n                add={actions.editEvent}\r\n                initialValues={selected}\r\n                close={() => EditModal.close()}\r\n            />,\r\n            hideCancel: true,\r\n        });\r\n        EditModal.open();\r\n    }\r\n\r\n    const currentEvents = events.filter(\r\n        ({ status }: Event.Event) =>\r\n            status.toUpperCase() === state.active || state.active === states.ALL\r\n    );\r\n\r\n    useEffect(() => {\r\n        //  if (eId) dispatch(getAnnouncements(eId));\r\n    }, [eId]);\r\n\r\n    return (\r\n        <Layout sidebar>\r\n            <Layout.Top >\r\n                {switches}\r\n                <Header />\r\n            </Layout.Top>\r\n            <Layout.Bottom>\r\n                <Table\r\n                    className='min-height-table'\r\n                    edit={open}\r\n                    add={AddModal.open}\r\n                    remove={actions.removeEvent}\r\n                    toggler={\r\n                        <Switch\r\n                            style={{ margin: \"0 0 .5em 0\" }}\r\n                            active={state.active}\r\n                            items={states.states}\r\n                            onClick={(active: string) => setState({ ...state, active })}\r\n                        />\r\n                    }\r\n                    announcements={currentEvents}\r\n                />\r\n            </Layout.Bottom>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nconst Adder = (props: any) => {\r\n    return (\r\n        <Overlay image={img} className='opacity'>\r\n            <Text\r\n                color={disabledTxtColor}\r\n                margin='.5em'\r\n                placeSelf='start'\r\n                bold\r\n                textAlign='left'\r\n                onClick={props.close}\r\n                className='pointer'\r\n            >\r\n                <i className='fa fa-chevron-left'></i> Back\r\n            </Text>\r\n\r\n            <Grid  height='100%' customRows='auto auto 1fr'>\r\n            <Form {...props} />\r\n            </Grid>\r\n        </Overlay>\r\n    );\r\n};\r\n\r\nexport default Listings;","import React from \"react\";\r\nimport Pie from \"@vx/shape/lib/shapes/Pie\";\r\nimport { Group } from \"@vx/group\";\r\n\r\nconst defaultMargin = { top: 0, right: 0, bottom: 0, left: 0 };\r\n\r\nexport type PieProps = {\r\n    width: number;\r\n    height: number;\r\n    data: any[];\r\n    text: any;\r\n    margin?: typeof defaultMargin;\r\n};\r\n\r\nexport default function PieChart({\r\n    width,\r\n    height,\r\n    text,\r\n    data,\r\n    margin = defaultMargin,\r\n}: PieProps) {\r\n\r\n    const innerWidth = width - margin.left - margin.right;\r\n    const innerHeight = height - margin.top - margin.bottom;\r\n    const radius = Math.min(innerWidth, innerHeight) / 2;\r\n    const centerY = innerHeight / 2;\r\n    const centerX = innerWidth / 2;\r\n    const donutThickness = 10;\r\n\r\n    return (\r\n        <svg width={width} height={height}>\r\n            <rect\r\n                rx={14}\r\n                width={width}\r\n                height={height}\r\n                fill=\"transparent\"\r\n            />\r\n            <g>\r\n                <text\r\n                    fill=\"white\"\r\n                    x={centerX}\r\n                    fontWeight='bold'\r\n                    textAnchor=\"middle\"\r\n                    dy='8px'\r\n                    y={centerY}\r\n                    fontSize={24}\r\n                >  {text}\r\n                </text>\r\n            </g>\r\n            <Group top={centerY + margin.top} left={centerX + margin.left}>\r\n                <Pie\r\n                    data={data}\r\n                    fill='#5578D6'\r\n                    pieValue={(d: any) => d.value}\r\n                    outerRadius={radius}\r\n                    innerRadius={radius - donutThickness}\r\n                    cornerRadius={3}\r\n                    padAngle={0.005}         \r\n                />\r\n            </Group>\r\n        </svg>\r\n    );\r\n}","import React from 'react';\r\nimport { Grid, Header as Text, List, Empty } from '../../../style';\r\nimport useGarages from '../../../hooks/garage';\r\nimport { useSelector } from 'react-redux';\r\nimport { Garage } from '../../../model/domain/garage';\r\nimport { ScoreCard } from '../../../components/score-card/score-card';\r\nimport { overflow } from '../../../utils/text';\r\nimport { moment } from '../../../utils/time';\r\nimport { invertedTxtColor } from '../../../config';\r\nimport PieChart from '../../../components/chart/components/graph/pie-chart'\r\n\r\nconst Header = () => {\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n    const { garages, loading } = useGarages({ eId });\r\n    const activeGarages = garages\r\n        .filter((garage: Garage) => garage.status === 'active' && garage.occupancy?.count !== undefined)\r\n        .sort((a, b) => (a.occupancy?.count || 0) - (b.occupancy?.count || 0));\r\n\r\n    const percent = (curr: number, total: number) => (((curr / total) * 100) || 0).toFixed(2);\r\n    return (\r\n        <Grid\r\n            cols='5'\r\n            style={{ gridColumn: '1/-1' }}\r\n            width='100%'\r\n            padding='1.5em 1.5em 0 1.5em'\r\n        >\r\n            <Text\r\n                className='grid'\r\n                width='100%'\r\n                margin='0 0 .75em 0'\r\n                style={{ gridColumn: '1/-1', gridTemplateColumns: '1fr auto' }}\r\n                color={invertedTxtColor}\r\n            >\r\n                <Text bold color={'inherit'} textAlign='right' placeSelf='center start' size={3}>\r\n                    <i className='fa fa-bell'></i> &nbsp; SJSU Gradudation Event\r\n        </Text>\r\n                <Text size={4.6} color={'inherit'}>  Updated at: {moment().format('hh:mm A')}</Text>\r\n            </Text>\r\n            <ScoreCard title='Total Revenue' faIcon='fa fa-money' hoverLabel='Total Revenue' borderRight>\r\n\r\n                <PieChart\r\n                    height={130}\r\n                    width={130}\r\n                    text={'$5000'}\r\n                    data={[{ label: 'tuk', value: 30 }, { label: 'tuk2', value: 70 }]}\r\n                />\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Transactions' faIcon='fas fa-money-check-alt' hoverLabel='Revenue' borderRight>\r\n                <span className='txt-lgx'>700</span>\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Garage Occupancies' faIcon='fa fa-car' hoverLabel='Occupancy Count' span={2}>\r\n                <Grid placeSelf='start' >\r\n                    <Grid\r\n                        customCols={loading ? '1fr' : '1fr  minmax(15em, auto)'}\r\n                        placeItems='stretch'\r\n                        width='100%'\r\n                        color='white'\r\n                        gridGap='.2em 1.5em'\r\n                    >\r\n                        <List\r\n                            loading={loading}\r\n                            empty={\r\n                                <div style={{ gridColumn: '1/-1' }}>\r\n                                    <Empty text={'No Garage Occupancy'} color=\"white\" style={{ width: '7em', margin: '0 auto' }} />\r\n                                </div>\r\n                            }\r\n                            pagination={{ items: 2 }}\r\n                            list={activeGarages}\r\n                            map={(({ name }: Garage) => {\r\n                                return (\r\n                                    <>\r\n                                        <span className='txt-overflow'>{overflow(name, 18)}</span>\r\n                                        <ScoreCard.PercentBar\r\n                                            status\r\n                                            percent={66.67}\r\n                                            text={66.67 + \"%\"}\r\n                                        />\r\n                                        <Grid\r\n                                            cols='2'\r\n                                            style={{ gridColumn: '1/-1', marginBottom: '1em' }}\r\n                                            width='100%'\r\n                                            placeItems='stretch'\r\n                                        >\r\n                                            <span className='txt-left bold'>\r\n                                                Staff Occupancy: 30\r\n                                            </span>\r\n\r\n                                            <span className='txt-right bold'>\r\n                                                Attendee Occupancy: 20/30\r\n                                        </span>\r\n                                        </Grid>\r\n\r\n                                    </>\r\n                                )\r\n                            })}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </ScoreCard>\r\n\r\n        </Grid>);\r\n}\r\n\r\nexport default Header;","import React, { useState, useEffect } from \"react\";\r\nimport Layout from '../../../layout';\r\nimport { Grid, Card, Button } from \"../../../style\";\r\nimport Header from \"./header\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Chart from '../../../components/chart';\r\nimport { useMetricData } from '../../../hooks/metrics';\r\nimport useTimeseries from '../../../hooks/timeseries';\r\nimport options from './filter-options';\r\nimport useGarages from '../../../hooks/garage';\r\nimport charts from './chart.json';\r\nimport { getInterval  } from '../../../utils/time';\r\nimport Filter from \"../../../components/filter\";\r\nimport { TimeSeries } from '../../../model/domain/metrics'\r\n\r\nconst ts = (timeSeriesQuery: TimeSeries.PartialQuery | any)=>({\r\n    ...timeSeriesQuery,\r\n    interval: getInterval(10)\r\n})\r\nconst defaultTimeSeries = ts(charts[0].timeSeriesQuery) as TimeSeries.Query;\r\n\r\nconst Analytics = ({ switches }: { switches: JSX.Element }) => {\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n    const [open, setOpen] = useState(true);\r\n\r\n    const { metricDataStatus, refresh } = useMetricData({\r\n        timeseries: defaultTimeSeries,\r\n        eId\r\n    });\r\n\r\n    const { timeseries, actions } = useTimeseries(defaultTimeSeries);\r\n    const isPercent = timeseries?.metricType?.split('_')?.includes('percent') || false;\r\n    const { garages: resources } = useGarages({ eId });\r\n\r\n    const props = {\r\n        defaultValue: defaultTimeSeries,\r\n        metricDataStatus,\r\n        filterWidth: 350,\r\n        loading: metricDataStatus.loading,\r\n        submit: () => {\r\n            setTimeout(() => setOpen(false), 400);\r\n            refresh(timeseries)\r\n        },\r\n        reset: () => {\r\n            setTimeout(() => setOpen(false), 400);\r\n            actions.refresh(defaultTimeSeries)\r\n            refresh(defaultTimeSeries)\r\n        },\r\n        actions,\r\n        timeseries,\r\n        options: { ...options, resources }\r\n    }\r\n\r\n    return (\r\n        <Layout sidebar>\r\n            <Layout.Top >\r\n                {switches}\r\n                <Header />\r\n            </Layout.Top>\r\n            <Layout.Bottom>\r\n                <Grid placeItems=\"start stretch\" padding=\"1em\" height=\"100%\">\r\n                    <Grid cols=\"3\" gridGap=\"0 1em\">\r\n                        <Button\r\n                            placeSelf=\"end\"\r\n                            rounded\r\n                            invert\r\n                            shadow\r\n                            style={{gridColumn: '1/-1'}}\r\n                            minWidth=\"3em\"\r\n                            onClick={()=>setOpen(!open)}\r\n                            faIcon={`fa fa-filter`}\r\n                        />\r\n                        {charts.map((chart: any)=><Chart\r\n                            isPercent={isPercent}\r\n                            className='slide-up'\r\n                            metricDataStatus={metricDataStatus}\r\n                            {...chart}\r\n                        />)}\r\n                    </Grid>\r\n                </Grid>\r\n                <Filter {...props} open={open} toggle={()=>{setOpen(false); actions.refresh(defaultTimeSeries)}} />\r\n            </Layout.Bottom>\r\n        </Layout>\r\n    );\r\n};\r\n\r\n\r\nexport default Analytics;","import React, { useState } from \"react\";\r\nimport Listings from './listings';\r\nimport {  Switch } from '../../style';\r\nimport Analytics from \"./analytics\";\r\nimport Live from \"./live\";\r\n\r\nenum Pages {\r\n    \"ANALYTICS\" = \"ANALYTICS\",\r\n    \"LISTINGS\" = \"LISTINGS\",\r\n    \"LIVE\" = \"LIVE\"\r\n};\r\n\r\nconst Events = () => {\r\n    const [activePage, setActivePage] = useState<Pages>(Pages.LISTINGS);\r\n    const switches = <Switch.underlined\r\n        style={{ placeSelf: \"start\", gridColumn: '1/-1' }}\r\n        items={Object.keys(Pages)}\r\n        onClick={(active: Pages) => setActivePage(active)}\r\n        active={activePage}\r\n    />\r\n    return activePage === Pages.LISTINGS ?\r\n        <Listings switches={switches} /> :\r\n        activePage === Pages.ANALYTICS? \r\n        <Analytics switches={switches} /> :\r\n        <Live switches={switches} />\r\n};\r\n\r\nexport default Events;","const json = {\r\n\r\n   \"metrics\": [\r\n      {\r\n         \"value\": \"garage_occupancy_count\",\r\n         \"label\": \"Event 1\"\r\n      },\r\n      {\r\n         \"value\": \"garage_occupancy_percent\",\r\n         \"label\": \"Event 2\"\r\n      }\r\n   ]\r\n}\r\n\r\nexport default json;","import React from 'react';\r\nimport { Grid, Header as Text, List, Empty } from '../../../style';\r\nimport useGarages from '../../../hooks/garage';\r\nimport { useSelector } from 'react-redux';\r\nimport { Garage } from '../../../model/domain/garage';\r\nimport { ScoreCard } from '../../../components/score-card/score-card';\r\nimport { overflow } from '../../../utils/text';\r\nimport { moment } from '../../../utils/time';\r\nimport { invertedTxtColor, disabledTxtColor } from '../../../config';\r\nimport { Tooltip } from 'antd';\r\n\r\nconst Header = () => {\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n    const { garages, loading } = useGarages({ eId });\r\n    const activeGarages = garages\r\n        .filter((garage: Garage) => garage.status === 'active' && garage.occupancy?.count !== undefined)\r\n        .sort((a, b) => (a.occupancy?.count || 0) - (b.occupancy?.count || 0));\r\n\r\n\r\n    const percent = (curr: number, total: number) => (((curr / total) * 100) || 0).toFixed(2);\r\n    return (\r\n        <Grid\r\n            cols='5'\r\n            style={{ gridColumn: '1/-1' }}\r\n            width='100%'\r\n            padding='1.5em 1.5em 0 1.5em'\r\n        >\r\n            <Text\r\n                className='grid'\r\n                width='100%'\r\n                margin='0 0 .75em 0'\r\n                style={{ gridColumn: '1/-1', gridTemplateColumns: '1fr auto' }}\r\n                color={invertedTxtColor}\r\n            >\r\n                <Text bold color={'inherit'} textAlign='right' placeSelf='center start' size={3}>\r\n                    <i className='fa fa-bell'></i> &nbsp; SJSU Gradudation Event\r\n                </Text>\r\n                <Text size={4.6} color={'inherit'}>  Updated at: {moment().format('hh:mm A')}</Text>\r\n            </Text>\r\n            <ScoreCard title='Revenue' faIcon='fas fa-money-check-alt' hoverLabel='Revenue' borderRight>\r\n                <span className='txt-lgx'>$6000</span>\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Transactions' faIcon='fas fa-money-check-alt' hoverLabel='Revenue' borderRight>\r\n                <span className='txt-lgx'>700</span>\r\n            </ScoreCard>\r\n            <ScoreCard title='Garage Occupancies' faIcon='fa fa-car' hoverLabel='Occupancy Count' span={2}>\r\n                <Grid placeSelf='start' >\r\n                    <Grid\r\n                        customCols={loading ? '1fr' : '1fr  minmax(15em, auto)'}\r\n                        placeItems='stretch'\r\n                        width='100%'\r\n                        color='white'\r\n                        gridGap='.2em 1.5em'\r\n                    >\r\n                        <List\r\n                            loading={loading}\r\n                            empty={\r\n                                <div style={{ gridColumn: '1/-1' }}>\r\n                                    <Empty text={'No Garage Occupancy'} color=\"white\" style={{ width: '7em', margin: '0 auto' }} />\r\n                                </div>\r\n                            }\r\n                            pagination={{ items: 2 }}\r\n                            list={activeGarages}\r\n                            map={(({ name }: Garage, index: number) => {\r\n                                return (\r\n                                    <>\r\n\r\n                                        <span className='txt-overflow'>{overflow(name, 18)}</span>\r\n                                        <ScoreCard.PercentBar\r\n                                            status\r\n                                            percent={66.67}\r\n                                            text={66.67 + \"%\"}\r\n                                        />\r\n                                        <Grid\r\n                                            cols='2'\r\n                                            style={{ gridColumn: '1/-1', marginBottom: '1em' }}\r\n                                            width='100%'\r\n                                            placeItems='stretch'\r\n                                        >\r\n\r\n                                            <span className='txt-left bold'>\r\n                                                Expected Staff: 20\r\n                                            </span>\r\n\r\n                                            <span className='txt-right bold'>\r\n                                                Available Spaces: 20/30\r\n                                        </span>\r\n                                        </Grid>\r\n\r\n                                    </>\r\n                                )\r\n                            })}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </ScoreCard>\r\n\r\n        </Grid>);\r\n}\r\n\r\nexport default Header;","import React, { useState } from \"react\";\r\nimport { Grid, Button, Text } from \"../../../style\";\r\nimport { primaryColor } from \"../../../config\";\r\nimport img from \"../../../assets/announ.svg\";\r\nimport { InputNumber, Switch } from 'antd';\r\nimport { useFormik } from 'formik';\r\nimport logger from '../../../utils/logger';\r\n\r\nexport const Editor = (props: any) => {\r\n    return (\r\n        <Grid customCols=\"3fr 2fr\" width=\"100%\" height=\"100%\" gridGap=\"0\">\r\n            <div style={{ background: primaryColor, height: \"100%\", padding: \"1em\", width: \"100%\" }}>\r\n                <img src={img} style={{ maxWidth: \"300px\" }} />\r\n            </div>\r\n            <Form {...props} />\r\n        </Grid>\r\n    );\r\n};\r\n\r\nconst defaultValues = {\r\n    garages: [\r\n        {\r\n            id: '11',\r\n            name: 'Garage 1',\r\n            dynamicPricing: false,\r\n            price: 10\r\n        },\r\n        {\r\n            id: '2',\r\n            name: 'Garage 2',\r\n            dynamicPricing: false,\r\n            price: 15\r\n        },\r\n        {\r\n            id: '2',\r\n            name: 'Garage 2',\r\n            dynamicPricing: false,\r\n            price: 15\r\n        }, {\r\n            id: '2',\r\n            name: 'Garage 2',\r\n            dynamicPricing: false,\r\n            price: 15\r\n        }\r\n    ]\r\n};\r\n\r\nconst Form = ({ add, close, initialValues = defaultValues }: any) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const { handleSubmit, handleChange, values, setFieldValue } = useFormik({\r\n        initialValues,\r\n        onSubmit(values) {\r\n            submit(values)\r\n        }\r\n    })\r\n    const submit = async (values: any) => {\r\n        try {\r\n            setLoading(true)\r\n            await add(values);\r\n            close();\r\n        } catch (e) {\r\n            logger.log(e)\r\n        } finally {\r\n            setLoading(false)\r\n        }\r\n    }\r\n\r\n    const error = false\r\n    const style = {\r\n        padding: \".5em 1em\", height: \"100%\", width: \"100%\", maxHeight: '500px',\r\n        placeItems: \"center stretch\", gridGap: \".4em\", background: \"white\"\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className=\"grid\" style={{ ...style, gridGap: '1em', overflowY: 'auto' }}>\r\n            {\r\n                values.garages.map(({ name }: any, i: number) => (\r\n                    <Grid placeItems=\"stretch\" customCols='auto 1fr' gridGap='0.4em' style={{fontSize: '0.8em'}}>\r\n                        <Text style={{ gridRow: 'span 3', fontSize: '1.2em'}}>{i + 1}.</Text>\r\n                        <Text textAlign=\"left\" placeSelf=\"start\" bold style={{fontSize: '1.2em'}}>{name}</Text>\r\n                        <Grid margin=\"0\" placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\" customCols=\"1fr auto\">\r\n                            <Text textAlign=\"left\" placeSelf=\"start\" >Dynamic Pricing</Text>\r\n                            <Switch\r\n                                style={{ placeSelf: \"end\" }}\r\n                                onChange={(checked: boolean) => { }}\r\n                            />\r\n                        </Grid>\r\n                        <Grid placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\"0\" customCols=\"1fr auto\">\r\n                            <Text textAlign=\"left\" placeSelf=\"start\">Price ($)</Text>\r\n                            <InputNumber\r\n                                min={0}\r\n                                step={0.25}\r\n                                style={{ placeSelf: \"start end\" }}\r\n                                name={\"price\"}\r\n                            />\r\n                        </Grid>\r\n                    </Grid>\r\n\r\n                ))\r\n            }\r\n\r\n            <Grid cols=\"2\" size=\"0.7em\" placeItems={\"end stretch\"} height='100%' margin='0 0 2em 0'>\r\n                <Button.Normal\r\n                    type=\"submit\"\r\n                    disabled={loading}\r\n                    onClick={() => close()}\r\n                >\r\n                    Cancel\r\n                </Button.Normal>\r\n                {loading ?\r\n                    <Button loading disabled>Loading</Button> :\r\n                    <Button.Normal\r\n                        type=\"submit\"\r\n                        disabled={error}\r\n                        onSubmit={(e: any) => handleSubmit(e)}>\r\n                        Confirm\r\n            </Button.Normal>\r\n                }\r\n            </Grid>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default Form;\r\n","import React, { useEffect } from \"react\";\r\nimport Layout from '../../../layout';\r\nimport { Grid, Button } from \"../../../style\";\r\nimport Header from \"./header\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Chart from '../../../components/chart';\r\nimport { useMetricData } from '../../../hooks/metrics';\r\nimport useTimeseries from '../../../hooks/timeseries';\r\nimport charts from './chart.json';\r\nimport { defaultInterval } from '../../../utils/time';\r\nimport { Modal } from \"platyplex_ui\";\r\nimport { Editor } from \"./editor\";\r\nimport { TimeSeries } from '../../../model/domain/metrics';\r\n\r\n\r\nconst ts = (timeSeriesQuery: TimeSeries.PartialQuery | any)=>({\r\n    ...timeSeriesQuery,\r\n    interval: defaultInterval()\r\n})\r\nconst defaultTimeSeries = ts(charts[0].timeSeriesQuery) as TimeSeries.Query;\r\n\r\nconst Analytics = ({ switches }: { switches: JSX.Element }) => {\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n\r\n    const { metricDataStatus } = useMetricData({\r\n        timeseries: defaultTimeSeries,\r\n        eId\r\n    });\r\n\r\n    const { metricDataStatus: ms2} = useMetricData({\r\n        timeseries: ts(charts[1].timeSeriesQuery),\r\n        eId\r\n    });\r\n\r\n\r\n    const { timeseries, actions } = useTimeseries(defaultTimeSeries);\r\n    const isPercent = timeseries?.metricType?.split('_')?.includes('percent') || false;\r\n\r\n    useEffect(() => {\r\n        //  if (eId) dispatch(getAnnouncements(eId));\r\n    }, [eId]);\r\n\r\n    \r\n  const EditModal = Modal({\r\n    title: \"Dynamic Pricing\",\r\n    message: <Editor add={()=>{}} close={() => EditModal.close()} />,\r\n    hideCancel: true,\r\n  });\r\n\r\n    return (\r\n        <Layout sidebar>\r\n            <Layout.Top >\r\n                {switches}\r\n                <Header />\r\n            </Layout.Top>\r\n            <Layout.Bottom>\r\n                <Grid placeItems=\"start stretch\" padding=\"1em\" height=\"100%\">\r\n                    <Grid cols=\"2\" gridGap=\"0 1em\">\r\n                        <Button\r\n                            placeSelf=\"end\"\r\n                            rounded\r\n                            invert\r\n                            shadow\r\n                            onClick={EditModal.open}\r\n                            style={{ gridColumn: '1/-1' }}\r\n                            faIcon={`fa fa-edit`}\r\n                        > Dynamic Pricings</Button>\r\n                          {charts.map((chart: any, i)=>(\r\n                        chart.chartTypes[0] === 'combined'? \r\n                            <Chart.Multi\r\n                            className='slide-up'\r\n                            metricDataStatuses={[metricDataStatus,metricDataStatus]}\r\n                            {...chart}\r\n                            />:\r\n                            <Chart\r\n                                isPercent={isPercent}\r\n                                className='slide-up'\r\n                                metricDataStatus={ms2}\r\n                                {...chart}\r\n                            />))}\r\n                    </Grid>\r\n                </Grid>\r\n            </Layout.Bottom>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Analytics;","import React, { useState, useRef } from 'react';\r\nimport { Grid, Button } from '../../../style';\r\nimport img from '../../../assets/login.svg'\r\nimport { GoogleLogin } from 'react-google-login';\r\nimport FacebookLogin from 'react-facebook-login/dist/facebook-login-render-props';\r\n\r\n\r\nconst FacebookBtn = ({ login, className, ref }: any) => {\r\n  const [user, setUser] = useState({});\r\n  const response = (res: any) => {\r\n  }\r\n\r\n  let adapter = (profile: any) => {\r\n    let { givenName: name, familyName: lname, email, imageUrl: photo, googleId } = profile;\r\n    return { googleId, email, name };\r\n  }\r\n  return (\r\n    <div className={className}>\r\n      <FacebookLogin\r\n        render={(renderProps: any) => <Button\r\n          invert\r\n          onClick={renderProps.onClick}>\r\n          <i className=\"fab fa-facebook-square\"></i>&nbsp;\r\n        Signup With Facebook</Button>}\r\n        appId=\"1088597931155576\"\r\n        fields=\"name,email,picture\"\r\n        onClick={response}\r\n        callback={response} />\r\n    </div>);\r\n};\r\n\r\nconst GoogleBtn = ({ login, className }: any) => {\r\n  const [user, setUser] = useState({});\r\n\r\n  const response = (res: any) => {\r\n  }\r\n\r\n  let adapter = (profile: any) => {\r\n    let { givenName: name, familyName: lname, email, imageUrl: photo, googleId } = profile;\r\n    return { googleId, email, name };\r\n  }\r\n\r\n  return (\r\n    <div className={className}>\r\n      <GoogleLogin\r\n        render={renderProps => <Button\r\n          invert onClick={renderProps.onClick}>\r\n          <i className=\"fab fa-google\"></i>&nbsp;\r\n         Signup With Google\r\n     </Button>}\r\n        clientId=\"432904370571-10sna4o5st6k2aee0q3p09bt05qjgbng.apps.googleusercontent.com\"\r\n        buttonText=\"Login with Google\"\r\n        onSuccess={response}\r\n        onFailure={console.log}\r\n        cookiePolicy={'single_host_origin'}\r\n      /></div>);\r\n};\r\n\r\n\r\nconst AuthBox = () => (\r\n  <Grid\r\n    height=\"100%\"\r\n    padding=\"3em\"\r\n    background=\"linear-gradient(to right top, #0bc062, #00b78b, #00aba7, #009cb4, #0d8cb0);\">\r\n    <img src={img} style={{ width: \"500px\", maxWidth: \"40vw\" }} />\r\n    <Grid cols=\"2\" height='50px'>\r\n    </Grid>\r\n  </Grid>\r\n);\r\n\r\nexport default AuthBox;","import React from 'react';\r\nimport { Input } from 'antd';\r\nimport { Button, Text } from '../../../style';\r\nimport { useFormik } from 'formik';\r\nimport { login } from '../../../store/actions/user'\r\nimport * as  Yup from 'yup';\r\nimport { connect, useDispatch } from 'react-redux';\r\nimport { Tooltip } from 'antd';\r\n\r\nconst loginFields = [\r\n    {\r\n        id: \"email\",\r\n        label: \"Your email\",\r\n        placeholder: \"Example: John.Doe@parkstash.com\",\r\n        hide: false\r\n    },\r\n    {\r\n        id: \"authSecret\",\r\n        label: \"Your Password\",\r\n        placeholder: \"Example: \",\r\n        hide: true\r\n    }]\r\n\r\n\r\nconst validationSchema = Yup.object({\r\n    email: Yup.string().required(\"Required!\").email(\"Must be a Valid Email\"),\r\n    authSecret: Yup.string().required(\"Required!\").min(6, \"Password must contain at least 6 characters\")\r\n});\r\n\r\ntype Values = 'authSecret' | 'email'\r\n\r\nconst Login = ({ passwordForgotToggler, loading, }: any) => {\r\n    const dispatch = useDispatch();\r\n    const { handleSubmit, handleChange, values, errors, touched, handleBlur } = useFormik({\r\n        initialValues: { email: \"\", authSecret: \"\", authType: \"password\" },\r\n        onSubmit(values) {\r\n           dispatch(login(values));\r\n        },\r\n        validationSchema\r\n    })\r\n\r\n    const error = loginFields.reduce((acc: boolean, { id }: any) => acc || Boolean(errors[id as Values]), false);\r\n    return (\r\n        <form\r\n            onSubmit={handleSubmit}\r\n            className=\"shake\"\r\n            style={{ display: \"grid\", paddingTop: \"2em\", width: \"100%\", placeItems: \"center stretch\", gridGap: \".4em\" }}>\r\n            {loginFields.map(({ id, placeholder, label, hide }: any) => {\r\n                const error = errors[id as Values]\r\n            return (\r\n                <div style={{ paddingTop: \".5em\" }} key={id}>\r\n                     <Text textAlign=\"left\" bold>{label} <span className=\"red\">*</span></Text>\r\n                    <Input\r\n                        disabled={loading}\r\n                        type={hide ? 'password' : 'text'}\r\n                        name={id}\r\n                        onBlur={handleBlur}\r\n                        suffix={\r\n                            touched[id as Values] && <Tooltip title={error}>\r\n                                <i className={`fa fa-${error ? 'times-circle red' : 'check green'}`} style={{ position: \"relative\" }}></i>\r\n                            </Tooltip>\r\n                        }\r\n                        value={values[id as Values]}\r\n                        onChange={handleChange}\r\n                        placeholder={placeholder} \r\n                    />\r\n                </div>\r\n            )})}\r\n\r\n            {loading ? <Button loading disabled>Loading</Button> :\r\n                <Button.Normal\r\n                    type=\"submit\"\r\n                    disabled={error}\r\n                    onSubmit={(e: any) => handleSubmit(e)}>\r\n                    Confirm\r\n                </Button.Normal>\r\n            }\r\n\r\n            <div><span className=\"pointer hover-bold\" onClick={passwordForgotToggler}>Forgot Password?</span></div>\r\n        </form>)\r\n}\r\n\r\n\r\nconst mapStateToProps = (state: any) => {\r\n    const { garages } = state\r\n    return { garages }\r\n};\r\n\r\nexport default connect(mapStateToProps, {})(Login);\r\n","import React from 'react';\r\nimport { Input, Tooltip } from 'antd';\r\nimport { Button, Text, Grid } from '../../../style';\r\nimport { useFormik } from 'formik';\r\nimport { signup } from '../../../store/actions/user';\r\nimport * as  Yup from 'yup';\r\nimport { connect } from 'react-redux';\r\n\r\nconst signupFields = [\r\n    {\r\n        id: \"name\",\r\n        label: \"Your Name\",\r\n        placeholder: \"Example: John Doe\",\r\n        hide: false\r\n    },\r\n    {\r\n        id: \"email\",\r\n        label: \"Your email\",\r\n        placeholder: \"Example: John Doe\",\r\n        hide: false\r\n    },\r\n    {\r\n        id: \"authSecret\",\r\n        label: \"Your Password\",\r\n        placeholder: \"Example: \",\r\n        hide: true\r\n    },\r\n    {\r\n        id: \"confirmPassword\",\r\n        label: \"Confirm Password\",\r\n        placeholder: \"Example: \",\r\n        hide: true\r\n    }\r\n]\r\ntype Values = 'name' | 'email' | 'authSecret' | 'confirmPassword'\r\n\r\nconst validationSchema = Yup.object({\r\n    email: Yup.string().required(\"Required!\").email(\"Must be a Valid Email\"),\r\n    authSecret: Yup.string().required(\"Required!\").min(6, \"Password must contain at least 6 characters\"),\r\n    confirmPassword: Yup.string()\r\n        .required(\"Required!\")\r\n        .min(6, \"Password must contain at least 6 characters\")\r\n        .oneOf([Yup.ref('authSecret')], 'Passwords must match'),\r\n    name: Yup.string().required(\"Required!\")\r\n});\r\nconst Sigup = ({ loading, signup }: any) => {\r\n    const { handleSubmit, handleChange, errors, values, touched, handleBlur } = useFormik({\r\n        initialValues: { name: \"\", email: \"\", authSecret: \"\", confirmPassword: \"\", authType: \"password\" },\r\n        validationSchema,\r\n        onSubmit(values) {\r\n            signup(values)\r\n        }\r\n    });\r\n\r\n    const error = signupFields.reduce((acc: boolean, { id }: any) => acc || Boolean(errors[id as Values]), false);\r\n    return (\r\n        <form\r\n            className=\"shake grid\"\r\n            onSubmit={handleSubmit}\r\n            style={{background: \"white\", paddingTop: \"1em\", width: \"100%\", placeItems: \"center stretch\", gridGap: \".4em\" }}>\r\n            {signupFields.map(({ hide, id, placeholder, label }: any) => {\r\n                const error = errors[id as Values]\r\n                return (\r\n                    <div style={{ paddingTop: \".5em\" }} key={id}>\r\n                        <Text textAlign=\"left\" bold>{label} <span className=\"red\"> *</span></Text>\r\n                        <Input\r\n                            type={hide ? 'password' : 'text'}\r\n                            name={id}\r\n                            onBlur={handleBlur}\r\n                            suffix={\r\n                                touched[id as Values] && <Tooltip title={error}>\r\n                                    <i className={`fa fa-${error ? 'times-circle red' : 'check green'}`} style={{ position: \"relative\" }}></i>\r\n                                </Tooltip>\r\n                            }\r\n                            value={values[id as Values]}\r\n                            onChange={handleChange}\r\n                            placeholder={placeholder} />\r\n                    </div>)\r\n            })}\r\n\r\n            {loading ? <Button loading disabled>Loading</Button> :\r\n                <Button.Normal\r\n                    type=\"submit\"\r\n                    disabled={error}\r\n                    onSubmit={(e: any) => handleSubmit(e)}>\r\n                    Confirm\r\n                </Button.Normal>\r\n            }\r\n        </form>)\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch: (I: any) => (any)) {\r\n    return {\r\n        signup: (values: any) => dispatch(signup(values))\r\n    };\r\n}\r\n\r\nexport default connect(\r\n    null,\r\n    mapDispatchToProps\r\n)(Sigup);","import React, { useState } from \"react\";\r\nimport {  Button, Text, Notification } from \"../../../style\";\r\nimport img from \"../../../assets/email.svg\";\r\nimport { Input } from \"antd\";\r\nimport { primaryColor } from \"../../../config\";\r\nimport otpImg from '../../../assets/otp.svg';\r\nimport logger from \"../../../utils/logger\";\r\n\r\nconst ConfirmEmail = ({ back, confirmEmail, loading }: any) => {\r\n  const [otp, setOtp] = useState(\"\");\r\n  return (\r\n    <Wrapper \r\n    image={otpImg}\r\n    back={back}\r\n     action={() => confirmEmail(otp)} \r\n     loading={loading}>\r\n    \r\n      <Text textAlign=\"left\" bold>\r\n        Enter your Code\r\n      </Text>\r\n      <Input value={otp} onChange={(e) => setOtp(e.target.value.trim())} />\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Reset = ({ back, resetPassword, loading }: any) => {\r\n  const [secret, setSecret] = useState({\r\n    user_password: \"\",\r\n    confirm_password: \"\",\r\n  });\r\n\r\n  const submit = () => {\r\n    try {\r\n      if (secret.user_password.length < 5) {\r\n        throw new Error(\"Password Length Should be at least 6 characters\");\r\n      }\r\n      if (secret.user_password !== secret.confirm_password) {\r\n        throw new Error(\"Passwords do not Match\");\r\n      }\r\n      resetPassword(secret.user_password);\r\n    } catch (e) {\r\n      logger.log(e)\r\n      Notification.error({ title: \"Error\", message: e.message });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Wrapper \r\n    back={back} \r\n    action={submit} \r\n    loading={loading}>\r\n  \r\n      <Text textAlign=\"left\" bold>\r\n        Enter your Password\r\n        </Text>\r\n      <Input\r\n        name=\"password\"\r\n        type=\"password\"\r\n        onChange={({ target: { value: user_password } }) =>\r\n          setSecret({ ...secret, user_password })\r\n        }\r\n      />\r\n      <br />\r\n\r\n      <Text textAlign=\"left\" bold>\r\n        Confirm your Password\r\n        </Text>\r\n      <Input\r\n        name=\"confirm-password\"\r\n        type=\"password\"\r\n        onChange={({ target: { value: confirm_password } }) =>\r\n          setSecret({ ...secret, confirm_password })\r\n        }\r\n      />\r\n    </Wrapper >\r\n  );\r\n};\r\n\r\nconst SelectEmail = ({ selectEmail, back, loading }: any) => {\r\n  const [user_email, setEmail] = useState(\"\");\r\n\r\n  return (\r\n    <Wrapper\r\n      back={back}\r\n      loading={loading}\r\n      action={() => selectEmail(user_email)}>\r\n  \r\n      <Text textAlign=\"left\" bold>\r\n        Enter Your Email <span className=\"red\">*</span>\r\n        </Text>\r\n      <div style={{ width: \"100%\" }}>\r\n        <Input\r\n          name=\"email\"\r\n          value={user_email}\r\n          onChange={(e) => setEmail(e.target.value.trim())}\r\n        />\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = ({ children, back, loading, action, image = img }: any) => {\r\n  return (\r\n    <div style={{ padding: \"1em 2em\" }} className=\"shake\">\r\n      <div\r\n        className=\"bold pointer txt-left\"\r\n        onClick={back}\r\n        style={{ color: primaryColor, width: \"100%\", padding: 0 }}\r\n      >\r\n       <i className=\"fa fa-chevron-left\"></i> &nbsp;Back\r\n      </div>\r\n      <img\r\n        src={image}\r\n        alt=\"Select Email\"\r\n        style={{ height: \"50%\", maxWidth: \"40vw\", width: \"300px\" }}\r\n      />\r\n      <form onSubmit={(e) => e.preventDefault()} style={{marginTop: \"3em\"}}>\r\n        {children}\r\n        <Button\r\n          padding={\".3em\"}\r\n          loading={loading}\r\n          disabled={loading}\r\n          margin=\".8rem 0\"\r\n          width=\"100%\"\r\n          onClick={action}>\r\n          Confirm\r\n       </Button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default {\r\n  SelectEmail,\r\n  Reset,\r\n  ConfirmEmail,\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Text, Header, Notification } from \"../../../style\";\r\nimport { disabledTxtColor as disabled, primaryColor as color } from \"../../../config\";\r\nimport Login from \"./login\";\r\nimport Sigup from \"./signup\";\r\nimport ForgotPassword from \"./forgot-password\";\r\nimport api from \"../../../api\";\r\nimport { useSelector } from \"react-redux\";\r\nimport logger from \"../../../utils/logger\";\r\n\r\nconst states = {\r\n  SIGNUP: \"SIGNUP\",\r\n  LOGIN: \"LOGIN\",\r\n  PASSWORD_SELECT_EMAIL: \"PASSWORD_SELECT_EMAIL\",\r\n  PASSWORD_CONFIRM_EMAIL: \"PASSWORD_CONFIRM_EMAIL\",\r\n  PASSWORD_RESET: \"PASSWORD_RESET\",\r\n};\r\n\r\nconst UserSelectBox = () => {\r\n  const [state, setState] = useState(states.LOGIN);\r\n  const [passwordLoading, setLoading] = useState(false);\r\n  const loading = useSelector((state: any) => state.user.loading);\r\n\r\n  const [reset, setResetFields] = useState({\r\n    user_email: \"\",\r\n    authtoken: \"\",\r\n  });\r\n\r\n  const toggler = () =>\r\n    setState(state === states.LOGIN ? states.SIGNUP : states.LOGIN);\r\n\r\n  \r\n  const error = (e : any) => {\r\n    logger.log(e)\r\n    Notification.error({ title: \"Error\", message: String(e) })\r\n  }\r\n  const notify = (e : string) => ()=>Notification.success({ title: \"Success\", message: String(e) })\r\n  const finished = () =>  setLoading(false)\r\n  const changeState = (s: string) =>setState(s)\r\n\r\n  const selectEmail = (user_email: string) => {\r\n    setLoading(true);\r\n    api\r\n      .forgotPassword({ user_email })\r\n      .then((res: any) => {\r\n        if (res.success) {\r\n          changeState(states.PASSWORD_CONFIRM_EMAIL);\r\n          notify(\"4 Digit Code was sent to your email\")\r\n          setResetFields({ ...reset, user_email });\r\n        } else throw new Error(res.message);\r\n      })\r\n      .catch(error)\r\n      .finally(finished);\r\n  };\r\n\r\n  const confirmEmail = (otp: string) => {\r\n    const { user_email } = reset;\r\n    setLoading(true);\r\n    api\r\n      .confirmEmail({ user_email, otp })\r\n      .then((res: any) => {\r\n        if (res.success) {\r\n          setResetFields({ ...reset, authtoken: res.token });\r\n          changeState(states.PASSWORD_RESET);\r\n        } else throw new Error(res.message);\r\n      })\r\n      .catch(error)\r\n      .finally(finished);\r\n  };\r\n\r\n  const resetPassword = (user_password: string) => {\r\n    setLoading(true);\r\n    const { authtoken } = reset;\r\n    api\r\n      .resetPassword({ authtoken }, { user_password })\r\n      .then((res: any) => {\r\n        if (res.success) {\r\n          changeState(states.LOGIN);\r\n          notify(\"Your password was Reset\")\r\n        } else throw new Error(res.message);\r\n      })\r\n      .catch(error)\r\n      .finally(finished);\r\n  };\r\n\r\n  const passwordForgotToggler = () => setState(states.PASSWORD_SELECT_EMAIL);\r\n\r\n  const back = () => setState(states.LOGIN);\r\n\r\n  switch (state) {\r\n    case states.PASSWORD_SELECT_EMAIL:\r\n      return (\r\n        <ForgotPassword.SelectEmail\r\n          back={back}\r\n          selectEmail={selectEmail}\r\n          loading={passwordLoading}\r\n        />\r\n      );\r\n\r\n    case states.PASSWORD_RESET:\r\n      return (\r\n        <ForgotPassword.Reset\r\n          back={back}\r\n          resetPassword={resetPassword}\r\n          loading={passwordLoading}\r\n        />\r\n      );\r\n\r\n    case states.PASSWORD_CONFIRM_EMAIL:\r\n      return (\r\n        <ForgotPassword.ConfirmEmail\r\n          back={back}\r\n          confirmEmail={confirmEmail}\r\n          loading={passwordLoading}\r\n        />\r\n      );\r\n\r\n    case states.SIGNUP:\r\n      return (\r\n        <Wrapper state={state} toggler={toggler}>\r\n          <Sigup loading={loading} />\r\n        </Wrapper>\r\n      );\r\n\r\n    default:\r\n      return (\r\n        <Wrapper state={state} toggler={toggler}>\r\n          <Login\r\n            passwordForgotToggler={passwordForgotToggler}\r\n            loading={loading}\r\n          />\r\n        </Wrapper>\r\n      );\r\n  }\r\n};\r\n\r\nconst Wrapper = ({ children, state, toggler }: any) => {\r\n  const isActive = (s: string) => state === s;\r\n  return (\r\n    <div className=\"noselect\" style={{ width: \"100%\", padding: \"1.5em\" }}>\r\n      <div style={{ textAlign: \"right\" }}>\r\n        <span\r\n          className={\"bold pointer \"}\r\n          onClick={!isActive(states.LOGIN) ? toggler : () => {}}\r\n          style={{ color: !isActive(states.LOGIN) ? disabled : color, fontSize: \"1.16em\", padding: '.3em .4em' }}\r\n        >\r\n          Login\r\n        </span>{\" \"}\r\n        &nbsp;\r\n        <span\r\n          className=\"bold pointer\"\r\n          onClick={!isActive(states.SIGNUP) ? toggler : () => {}}\r\n          style={{ color: !isActive(states.SIGNUP) ? disabled : color, fontSize: \"1.16em\" }}\r\n        >\r\n          Signup\r\n        </span>\r\n      </div>\r\n\r\n      <Header bold textAlign=\"left\" size={2}>\r\n        {state}\r\n      </Header>\r\n      <Text color={disabled} textAlign=\"left\">\r\n        {state} to continue to ParkStash Dasboard\r\n      </Text>\r\n      {children}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserSelectBox;\r\n","import { useState, useEffect } from \"react\";\r\nimport API from \"../api\";\r\nimport logger from \"../utils/logger\";\r\n\r\nexport const useEnterprises = (userId = null) => {\r\n  const [state, setState] = useState({\r\n    enterprises: [],\r\n    loading: false,\r\n    error: false\r\n  });\r\n\r\n  const getEnterpises = async () => {\r\n    setState({ ...state, loading: true, error: false });\r\n    try {\r\n      const res = await API.getEnterprises();\r\n      setState({ ...state, loading: false, error: false, enterprises: res.enterprises })\r\n    } catch (e) {\r\n      logger.log(e)\r\n      error(e);\r\n    }\r\n  }\r\n\r\n  const error = (e: any) => setState({ ...state, loading: false, error: true, enterprises: [] })\r\n\r\n  useEffect(() => { getEnterpises();}, [userId]);\r\n  return {\r\n    ...state,\r\n    getEnterpises,\r\n    refresh: getEnterpises\r\n  };\r\n};\r\n\r\nexport default {\r\n  useEnterprises\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Grid, Button, Text } from \"../../../style\";\r\nimport img from \"../../../assets/university.svg\";\r\nimport wait from \"../../../assets/wait.svg\";\r\nimport { Select as Sel } from \"antd\";\r\nimport { primaryColor } from \"../../../config\";\r\nimport { useEnterprises } from \"../../../hooks/enterprises\";\r\nimport { Enterprise } from \"../../../model/domain/enterprise\";\r\nimport { addEnterprise, logout } from \"../../../store/actions/user\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\n\r\nconst Pending = () => {\r\n  return (\r\n    <Wrapper>\r\n      <img\r\n        src={wait}\r\n        style={{ height: \"50%\", maxWidth: \"40vw\", width: \"300px\" }}\r\n      />\r\n      <Text textAlign=\"left\" bold>\r\n        Please wait till you get approved.\r\n      </Text>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Select = () => {\r\n  const userId = useSelector((state: any) => state.user.user.id);\r\n  const loading = useSelector((state: any) => state.user.loading);\r\n  const dispatch = useDispatch();\r\n  const { enterprises } = useEnterprises() as any;\r\n\r\n  const [ selected, setSelected ] = useState<any>(\"\");\r\n  return (  \r\n    <Wrapper>\r\n      <img\r\n        src={img}\r\n        style={{  maxWidth: \"40vw\", width: \"200px\" }}\r\n      />\r\n      <Text textAlign=\"left\" bold>\r\n        {\"Select your Organization\"}\r\n      </Text>\r\n      <div style={{ width: \"100%\" }}>\r\n        <Sel \r\n            placeholder=\"Select\" \r\n            style={{ width: \"95%\" }} \r\n            value={selected}\r\n            onChange={(e: any)=> setSelected(e)}\r\n        >\r\n          {enterprises?.map(({ id, title, imageUrl }: Enterprise) => (\r\n            <Sel.Option key={id} value={id}>{title}</Sel.Option>\r\n          ))}\r\n        </Sel>\r\n        <Grid cols=\"1\" margin=\"2em 0\">\r\n          <Button\r\n            loading={loading}\r\n            disabled={loading}\r\n            invert\r\n            width=\"95%\"\r\n            onClick={() => dispatch(addEnterprise(selected, userId))}\r\n          >\r\n            Confirm\r\n          </Button>\r\n        </Grid>\r\n      </div>\r\n    </Wrapper>\r\n  );\r\n};\r\n\r\nconst Wrapper = ({ children }: any) => {\r\n  const dispatch = useDispatch();\r\n  return (\r\n    <Grid\r\n      customRows=\"auto 1fr auto\"\r\n      style={{ padding: \"2em\" }}\r\n      className=\"shake\"\r\n    >\r\n      <div\r\n        className=\"bold pointer txt-right \"\r\n        onClick={()=>dispatch(logout())}\r\n        style={{ color: primaryColor, width: \"100%\"}}\r\n      >\r\n        Logout\r\n      </div>\r\n      {children}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default {\r\n  Select,\r\n  Pending,\r\n};\r\n","import React from 'react';\r\nimport UserSelect from './user-select';\r\nimport userStates from '../../json/user-state.json'\r\nimport Enterpise from './enterprise-select/enterprise';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst UserHandleBox = ()=>{\r\n const state = useSelector((state: any) => state.user.userState)\r\n\r\n   switch(state){    \r\n        case userStates.ENTERPISE_SELECT:\r\n        return <Enterpise.Select/>\r\n\r\n        case userStates.ENTERPISE_PENDING:\r\n        return <Enterpise.Pending />\r\n         \r\n        default:\r\n        return <UserSelect />;\r\n    }\r\n};\r\n\r\nexport default UserHandleBox;","import React from 'react';\r\nimport { Card , Grid } from '../../style';\r\nimport Layout from '../../layout';\r\nimport AuthBox from './user-select/auth';\r\nimport UserHandleBox from './user-handle';\r\nimport bg from '../../assets/email.svg';\r\n\r\nconst Login = ()=>{\r\n    return<Layout background={bg} style={{\r\n        backgroundPosition: 'bottom left', \r\n        backgroundSize: '50%', \r\n    }}>\r\n        <Grid height='100%'>   \r\n            <Card   \r\n                padding=\"0\"\r\n                grid \r\n                shadow\r\n                placeItems={\"stretch\"}\r\n                customCols={\"3fr 2fr\"}\r\n            > \r\n            <AuthBox />\r\n            <UserHandleBox/>\r\n            </Card>\r\n        </Grid>\r\n    </Layout>\r\n}\r\n\r\nexport default Login","import { useState, useEffect } from \"react\";\r\nimport API from \"../api\";\r\nimport { User } from \"../model/domain/user\";\r\nimport { asyncHandler } from \"../utils\";\r\n\r\nexport const useControl = ({ eId = \"\", refresh = ()=>{}}) => {\r\n  const [state, setter] = useState({\r\n    enterpriseUsers: [],\r\n    loading: false,\r\n    error: false,\r\n  }) as any;\r\n\r\n  const setState = (obj: any) => setter({ ...state, ...obj });\r\n\r\n  const getEnterpriseUsers = async (eId: string) => {\r\n    setState({ loading: true, error: false });\r\n    const res = await asyncHandler({\r\n      apiCall: () => API.getEnterpriseUsers(eId),\r\n      notify: false,\r\n    });\r\n    setState({\r\n      loading: false,\r\n      error: res?.success || true,\r\n      enterpriseUsers: res?.enterpriseUsers || [],\r\n    });\r\n  };\r\n\r\n  const rejectEnterpriseUser = async (user: User) => {\r\n    setState({ loading: true, error: false });\r\n    const res = await asyncHandler({\r\n      apiCall: () => API.rejectEnterpriseUser(eId, user.id),\r\n      successMessage: \"User was Rejected\",\r\n      errorMessage: \"User was not Rejected\",\r\n      refresh\r\n    });\r\n    setState({ loading: false, error: res?.success || true });\r\n    getEnterpriseUsers(eId)\r\n  };\r\n\r\n  const removeEnterpriseUser = async (user: User) => {\r\n    setState({ loading: true, error: false });\r\n    const res = await asyncHandler({\r\n      apiCall: () => API.removeEnterpriseUser(eId, user.id),\r\n      successMessage: \"User was Rejected\",\r\n      errorMessage: \"User was not Rejected\",\r\n      refresh\r\n    });\r\n    setState({ loading: false, error: res?.success || true });\r\n    getEnterpriseUsers(eId)\r\n  };\r\n\r\n  const acceptEnterpriseUser = async (user: User) => {\r\n    setState({ loading: true, error: false });\r\n    const res = await asyncHandler({\r\n      apiCall: () => API.acceptEnterpriseUser(eId, user.id),\r\n      successMessage: \"User was Accepted\",\r\n      errorMessage: \"User was not Accepted\",\r\n      refresh\r\n    });\r\n    setState({ loading: false, error: res?.success || true });\r\n    getEnterpriseUsers(eId)\r\n  };\r\n\r\n  useEffect(() => {getEnterpriseUsers(eId);}, [eId]);\r\n\r\n  return {\r\n    ...state,\r\n    removeEnterpriseUser,\r\n    rejectEnterpriseUser,\r\n    acceptEnterpriseUser,\r\n  };\r\n};\r\n\r\nexport default {\r\n  useControl,\r\n};\r\n","import { Space, Popconfirm } from 'antd';\r\nimport { Button, Badge } from '../../style';\r\nimport React from 'react';\r\nimport { User } from '../../model/domain/user';\r\n\r\nconst columns = (accept:  any, reject: any, remove: any, loadingAction = false) => {\r\n    return [{\r\n        title: 'Name',\r\n        dataIndex: 'user',\r\n        key: 'user',\r\n        render: (user: User) => user.name\r\n    },\r\n    {\r\n        title: 'Email',\r\n        dataIndex: 'user',\r\n        key: 'user',\r\n        render: (user: User) =>user.email\r\n    },\r\n    {\r\n        title: 'Status',\r\n        dataIndex: 'role',\r\n        key: 'role',\r\n        render: (_: string, record: any) => {\r\n            const approved = record?.user?.apps?.enterpriseApp === 'enabled'\r\n\r\n            return (\r\n                <i className={`fas fa-${approved ? 'check' : 'times'}-circle ${!approved && 'red'}`}></i>);\r\n        }\r\n    },\r\n    {\r\n        title: 'Role',\r\n        dataIndex: 'role',\r\n        key: 'role',\r\n        render: (text: string) => <Badge inverted className=\"shadow txt-center\">{text}</Badge>,\r\n    },\r\n    {\r\n        title: 'Action',\r\n        key: 'action',\r\n        render: (_: any, record: any) => {\r\n            const approved = record?.user?.apps?.enterpriseApp === 'enabled';\r\n            return (\r\n                <Space size=\"middle\">\r\n                    <Button\r\n                        shadow={!loadingAction && !approved}\r\n                        disabled={loadingAction || approved}\r\n                        onClick={() => accept(record.user)}\r\n\r\n                    >\r\n                        <i className=\"fa fa-check\"></i>&nbsp;Accept\r\n                    </Button>\r\n                    <Popconfirm\r\n                        okButtonProps={{size: 'middle'}}\r\n                        cancelButtonProps={{size: 'middle'}}\r\n                        title=\"Are you sure\"\r\n                        onConfirm={() => approved ? remove(record.user) : reject(record.user)}\r\n                    >\r\n                    <Button\r\n                        bg=\"red\"\r\n                        shadow={!loadingAction}\r\n                        disabled={loadingAction}\r\n                    >\r\n                        <i className={`fa fa-${approved ? 'trash' : 'times'}`}></i> &nbsp;{approved ? \"Remove\" : \"Reject\"}\r\n                    </Button>\r\n                    </Popconfirm>\r\n                </Space>\r\n            )\r\n        },\r\n    },\r\n    ]\r\n};\r\n\r\nexport default columns;","import React, { useState } from \"react\";\r\nimport Layout from \"../../layout\";\r\nimport { Card, Switch, Empty } from \"../../style\";\r\nimport { Table } from \"antd\";\r\nimport { primaryColor, mobileWidth} from \"../../config\";\r\nimport styled from \"styled-components\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { useControl } from \"../../hooks/control\";\r\nimport columns from \"./columns\";\r\nimport { useWidgets } from \"../../hooks/widget\";\r\nimport ScoreCards from \"../../components/score-card/score-cards\";\r\nimport { useRefresh } from \"../../hooks/refresh\";\r\n\r\nconst states = {\r\n  ACCEPTED: \"Enabled\",\r\n  ALL: \"ALL\",\r\n  DEFAULT: \"ALL\",\r\n  PENDING: \"Onboarding\",\r\n  states: [\"Enabled\", \"ALL\", \"Onboarding\"],\r\n};\r\n\r\nlet locale = {emptyText: <Empty text=\"No Users\" />};\r\n\r\nconst Controls = () => {\r\n  const eId = useSelector(({ user }: any) => user.enterprise.id);\r\n  const screen = \"adminControl\";\r\n  const resource = \"enterpriseUser\";\r\n\r\n  const { loading, scoreCards } = useWidgets({ eId, screen, resource });\r\n  const { needsRefresh, refresh} = useRefresh();\r\n  const {\r\n    enterpriseUsers,\r\n    loading: loadingUsers,\r\n    acceptEnterpriseUser,\r\n    removeEnterpriseUser,\r\n    rejectEnterpriseUser,\r\n  } = useControl({ eId, refresh });\r\n \r\n\r\n  const [state, setState] = useState({\r\n    active: states.DEFAULT,\r\n  });\r\n\r\n  const current = enterpriseUsers.filter(\r\n    ({\r\n      user: {\r\n        apps: { enterpriseApp },\r\n      },\r\n    }: any) =>\r\n      enterpriseApp === state.active.toLowerCase() ||\r\n      state.active === states.ALL\r\n  );\r\n\r\n  return (\r\n    <Layout sidebar >\r\n       <Layout.Top style={{paddingTop: '3em'}}>\r\n        <ScoreCards\r\n          loading={loading}\r\n          refresh={refresh}\r\n          scoreCards={scoreCards}\r\n        />\r\n        </Layout.Top>\r\n\r\n        <Layout.Bottom>\r\n          <Card shadow minWidth=\"60vw\" padding=\".5em\">\r\n          <Switch\r\n            active={state.active}\r\n            style={{margin: \"0 0 .5em 0\"}}\r\n            items={states.states}\r\n            onClick={(active: string) => setState({ ...state, active })}\r\n          />\r\n            <DIV>\r\n              <Table\r\n                 className='min-height-table'\r\n                locale={locale}\r\n                rowKey={(record) => record.user.id}\r\n                loading={loadingUsers}\r\n                style={{ color: primaryColor, maxWidth: \"90vw\" }}\r\n                dataSource={current}\r\n                columns={columns(\r\n                  acceptEnterpriseUser,\r\n                  rejectEnterpriseUser,\r\n                  removeEnterpriseUser,\r\n                  loading\r\n                )}\r\n              />\r\n            </DIV>\r\n          </Card>\r\n      </Layout.Bottom>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst DIV = styled.div`\r\n  @media (max-width: ${mobileWidth}) {\r\n    overflow-x: scroll;\r\n  }\r\n`;\r\n\r\nexport default Controls;\r\n","import React, { useEffect } from 'react';\r\nimport Layout from '../../layout';\r\nimport { Grid, Placeholder, Header, Button, List } from '../../style';\r\nimport { XyChart } from '../../model/domain/dashboard';\r\nimport { useSelector } from 'react-redux';\r\nimport ScoreCards from '../../components/score-card/score-cards';\r\nimport { useWidgets } from '../../hooks/widget';\r\nimport { Link } from 'react-router-dom';\r\nimport Chart from '../../components/chart';\r\nimport useTimeseries from '../../hooks/timeseries';\r\nimport { useMetricData } from '../../hooks/metrics';\r\nimport { gradient } from '../../config';\r\nimport chart from './chart.json';\r\nimport { defaultInterval } from '../../utils/time';\r\nimport { AdditionalChartProps } from '../../components/chart/types';\r\nimport { TimeSeries } from '../../model/domain/metrics';\r\n\r\nconst defaultTimeSeries: TimeSeries.Query = { \r\n    ...chart.timeSeriesQuery,\r\n    interval: defaultInterval()\r\n } as any;\r\n\r\nconst Overview = () => {\r\n    const eId = useSelector((state: any) => state.user.enterprise.id);\r\n    const name = useSelector((state: any) => state.user.user.shortName);\r\n    const { charts, loading, scoreCards, scoreCardOptions, editScoreCards, removeScoreCard } = useWidgets({ eId, screen: \"overview\" });\r\n    const hideOnLoading = loading ? 'hide' : '';\r\n    const { timeseries, actions } =  useTimeseries(defaultTimeSeries);\r\n    const isPercent = timeseries?.metricType?.split('_')?.includes('percent') || false;\r\n    const { metricDataStatus, refresh } = useMetricData({ timeseries: timeseries, eId});\r\n    \r\n    const props: AdditionalChartProps = {\r\n      metricDataStatus,\r\n      filter: <span> \r\n        <Button\r\n            invert={timeseries.metricType !== 'garage_occupancy_count'}\r\n            noBorder={timeseries.metricType !== 'garage_occupancy_count'}\r\n            onClick={() => actions.setMetric('garage_occupancy_count')}\r\n            faIcon={'fas fa-sort-numeric-up'}\r\n            tooltip='Switch to count'\r\n            minWidth=\"3em\"\r\n            margin='0 0 0 1em'\r\n        />  \r\n        <Button\r\n           invert={timeseries.metricType !== 'garage_occupancy_percent'}\r\n           noBorder={timeseries.metricType !== 'garage_occupancy_percent'}\r\n            minWidth=\"3em\"\r\n            onClick={() => actions.setMetric('garage_occupancy_percent')}\r\n            faIcon={'fas fa-percentage'}\r\n            tooltip='Switch to percent'\r\n        />\r\n        </span>\r\n,\r\n      chartTypes: chart.chartTypes\r\n    }\r\n\r\n    useEffect(()=>refresh(timeseries), [ timeseries])\r\n\r\n    return (\r\n        <Layout sidebar>\r\n            <Layout.Top>\r\n                <Header\r\n                    color=\"white\"\r\n                    margin=\"1em 0 0 0\"\r\n                    className=\"capitalize\"\r\n                    width=\"100%\"\r\n                    bold\r\n                    textAlign=\"left\"\r\n                >\r\n                    &nbsp; Welcome, {name}\r\n                </Header>\r\n                <div></div>\r\n                <ScoreCards\r\n                    loading={loading}\r\n                    eId={eId}\r\n                    removeScoreCard={removeScoreCard}\r\n                    editScoreCards={editScoreCards}\r\n                    scoreCards={scoreCards}\r\n                    scoreCardOptions={scoreCardOptions}\r\n                />\r\n            </Layout.Top>\r\n            <Layout.Bottom>\r\n                <Grid  margin='2em 0 0 0' gridGap='0.3em'>\r\n                    <Header\r\n                        className={hideOnLoading}\r\n                        color=\"white\"\r\n                        bold\r\n                        width=\"100%\"\r\n                        textAlign=\"left\"\r\n                    >\r\n                     &nbsp; Today's Garage Occupancy Overview\r\n                    </Header>\r\n\r\n                    <List    \r\n                        list={charts}\r\n                        loader={<Placeholder\r\n                            lines={7}\r\n                            number={1}\r\n                            style={{ minHeight: \"400px\", minWidth: \"100%\"}}\r\n                        />}\r\n                        loading={loading}\r\n                        map={((item: XyChart) => <Chart \r\n                            {...props} \r\n                            isPercent={isPercent}\r\n                            {...item.lineChart as any}\r\n                        />)}\r\n                    />\r\n                    <Link\r\n                        to=\"/garages\"\r\n                        className={hideOnLoading}\r\n                        style={{ gridColumn: \"1/-1\", placeSelf: \"start\" }}\r\n                    >\r\n                        <Button\r\n                            rounded\r\n                            bold\r\n                            padding=\".5em\"\r\n                            shadow\r\n                            noHover\r\n                            bg={gradient}\r\n                        >\r\n                            See Details &nbsp; <i className=\"fa fa-chevron-right\"></i>\r\n                        </Button>\r\n                    </Link>\r\n                </Grid>\r\n            </Layout.Bottom>\r\n        </Layout>\r\n    );\r\n}\r\nexport default Overview;","import React, { Suspense, lazy, useEffect, useState } from 'react';\r\nimport { Garage } from './pages';\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport ErrorBoundary from 'antd/lib/alert/ErrorBoundary';\r\nimport Announcement from './pages/announcement';\r\nimport Citations from './pages/citations';\r\nimport Events from './pages/events';\r\nimport Profile from './pages/profile';\r\nimport Login from './pages/login';\r\nimport { Loader } from './style';\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport userStates from \"./json/user-state.json\";\r\nimport { auth } from './store/actions/user';\r\nimport Controls from './pages/controls';\r\nimport Overview from './pages/overview';\r\n\r\nfunction App() {\r\n  const userState = useSelector((state: any) => state.user.userState);\r\n  const dispatch = useDispatch();\r\n  const [state, setState] = useState({ loading: true });\r\n\r\n  useEffect(() => {\r\n    dispatch(auth());\r\n    setTimeout(() => setState({ ...state, loading: false }), 2000)\r\n  }, [])\r\n  return (\r\n    !state.loading ? <ErrorBoundary>\r\n      {userState === userStates.APPROVED ?\r\n        <Switch>\r\n          <Route path=\"/announcements\" render={() => <Announcement />} />\r\n          <Route path=\"/events\" render={() => <Events />} />\r\n          <Route path=\"/citations\" render={() => <Citations />} />\r\n          <Route path=\"/controls\" render={() => <Controls />} />\r\n          <Route path=\"/garages\" render={() => <Garage />} />\r\n          <Route path=\"/\" render={() => <Overview />} />\r\n        </Switch> :\r\n        <Route path=\"/\" render={() => <Login />} />}\r\n    </ErrorBoundary> : <Loader.Parkstash />\r\n  );\r\n}\r\n\r\nexport default App;","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","  \r\nimport React, { createContext } from 'react';\r\n\r\nexport const ComponentsContext = createContext({\r\n  editMode: false,\r\n  toggleEditMode: ()=>{}\r\n});\r\n\r\nexport class ComponentProvider extends React.Component {\r\n\r\n  toggleEditMode = ()=> this.setState({ editMode : !this.state.editMode});\r\n  \r\n  state = {\r\n    editMode : false,\r\n    toggleEditMode: this.toggleEditMode\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <ComponentsContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </ComponentsContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const ComponentConsumer =ComponentsContext.Consumer;","import React from 'react';\r\nimport { ComponentProvider } from './context/components';\r\nimport { NavProvider } from './context/nav-context';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store'\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport { primaryColor } from './config';\r\nimport './style/main.scss';\r\nimport 'antd/dist/antd.css';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n  html,body{\r\n    font-size: 15px;\r\n    font-family: 'Roboto', sans-serif;\r\n  }\r\n  .ant-btn-primary, .ant-btn{\r\n    border-radius: .3em;\r\n    box-shadow: 0 .1em .1em rgba(0,0,0,.2);\r\n  }\r\n  .ant-btn-primary {\r\n    border-color: ${primaryColor};\r\n    background: ${primaryColor};\r\n  }\r\n  .ant-pagination-item, .ant-pagination-item-active a, .ant-select-selector:hover{\r\n    border-radius: .3em;\r\n    color: black !important;\r\n    border-color: ${primaryColor} !important;\r\n  }\r\n  .ant-select-selector{\r\n    border-radius: .4em !important;\r\n  }\r\n  .ant-picker {\r\n    border-color: #d9d9d9;\r\n  }\r\n  .ant-select-show-search.ant-select-multiple .ant-select-selector{\r\n    height: 40px;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  input:focus, textarea:focus, .ant-picker-focused, input:hover, textarea:hover, .ant-picker:hover{\r\n    border-color: ${primaryColor} !important;\r\n  }\r\n  .ant-btn-primary:hover, .ant-btn-primary:focus, .ant-btn-primary:active, .ant-btn:hover, .ant-btn:focus, .ant-btn:active {\r\n    color: ${primaryColor} !important;\r\n    border-color: ${primaryColor};\r\n    background: white;\r\n    transition: 200ms ease;\r\n    box-shadow: 0 0 0;\r\n  }\r\n  \r\n  .ant-table-cell{\r\n    max-width: 300px;\r\n    font-size: 15px;\r\n  }`;\r\n\r\nconst Main = ({ children }: any) => (\r\n  <NavProvider>\r\n    <ComponentProvider>\r\n      <Provider store={store}>\r\n        <GlobalStyle />\r\n        {children}\r\n      </Provider>\r\n    </ComponentProvider>\r\n  </NavProvider>\r\n);\r\n\r\nexport default Main;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport * as Sentry from '@sentry/browser';\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport Providers from './providers';\r\n\r\nSentry.init({ dsn: \"https://66ec245dbeed4c95a166a788bcf4f7ae@o410541.ingest.sentry.io/5284571\" });\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Providers>\r\n      <Router>\r\n        <App />\r\n      </Router>\r\n    </Providers>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();"],"sourceRoot":""}