{"version":3,"sources":["assets/logo.png","assets/user.svg","assets/parkstash_logo.png","assets/CalPolyLogo.png","assets/permit.svg","config.ts","hooks/size.ts","api/header.ts","api/request.ts","utils/email.ts","store/reducer/search.ts","api/index.ts","hooks/debounce.ts","hooks/places_v1.ts","store/actions/search.tsx","pages/events/map/location-searcher/index.tsx","components/topnav/index.tsx","utils/time.ts","components/parkstash-text/index.tsx","components/sidebar/index.tsx","layout.tsx","pages/events/map/index_v1.tsx","components/score-card/old-score-card.tsx","components/chart/utils/color.ts","components/chart/components/graph/pie-chart.tsx","model/domain/metrics.ts","pages/events/model.ts","hooks/promise_hook.ts","utils/index.ts","pages/events/analytics/header.tsx","components/chart/components/axis.tsx","components/chart/hooks/rect.ts","components/chart/hooks/scale.ts","utils/logger.ts","components/chart/hooks/data.ts","components/chart/utils/points.ts","components/chart/hooks/tooltip.ts","components/chart/components/tooltip.tsx","components/chart/types.ts","components/chart/components/grid.tsx","components/chart/components/graph/multi-line.tsx","components/chart/components/graph/stacked-area.tsx","components/chart/components/graph/stacked-bar.tsx","components/chart/components/graph/combined.tsx","components/chart/utils/chart.tsx","components/chart/components/graph/index.tsx","components/chart/components/legend-table.tsx","components/chart/hooks/resize.ts","components/chart/components/header.tsx","utils/text.tsx","components/chart/components/loading.tsx","components/chart/index.tsx","components/chart/hooks/chart-type.ts","pages/events/index.tsx","hooks/metrics.ts","pages/events/analytics/index.tsx","store/reducer/permit.ts","components/modal/index.tsx","store/actions/clients.tsx","store/reducer/clients.ts","utils/random.ts","store/reducer/notifications.ts","store/actions/notifications.tsx","store/actions/vehicle-permit.tsx","store/reducer/vehicle-permit.ts","store/reducer/dispatches.ts","store/reducer/index.ts","store/actions/dispatches.tsx","store/index.ts","pages/permits/history/index.tsx","store/actions/permits.tsx","pages/home/index.tsx","pages/client/form.tsx","pages/permits/analytics/index.tsx","components/collapse/index.tsx","components/bar/index.tsx","pages/permits/rules/index.tsx","pages/permits/index.tsx","pages/electric/model.ts","pages/electric/analytics/electric-table.tsx","pages/electric/analytics/header.tsx","pages/electric/analytics/index.tsx","pages/electric/map/location-searcher/index.tsx","pages/electric/map/index_v1.tsx","pages/electric/index.tsx","pages/visitor/calpoly/history/index.tsx","pages/vehicle-permit/form.tsx","pages/vehicle-permit/index.tsx","components/primary-modal/index.tsx","hooks/copy.tsx","hooks/config.ts","pages/help/index.tsx","pages/legal/index.tsx","pages/sub-visitor.tsx","pages/visitor/calpoly/index.tsx","pages/login/otp.tsx","pages/login/index.tsx","App.tsx","serviceWorker.ts","context/nav-context.tsx","providers.tsx","index.tsx"],"names":["module","exports","mobileWidth","tabletWidth","primaryColor","secondaryColor","gradient","gradientRev","gradient1","gradient2","primaryTxtColor","secodaryTxtColor","invertedTxtColor","disabledTxtColor","disabledTxtColor2","googleAPIKey","gray","cloudinaryPrefix","baseUrl","textOverFlowLimit","top4","top3","top2","top1","API","APP_URL","url","localAPI","API2","defaultLocation","lat","lng","token","ENTERPRISE","ENTERPRISE_IMG_URL","ENTERPRISE_GEO_LOCATION_URL","useSize","useState","width","setWidth","container","useRef","resize","current","clientWidth","useEffect","window","addEventListener","removeEventListener","header","os","usertoken","btoa","authHeader","localStorage","getItem","userId","authToken","delay","f","Promise","resolve","setTimeout","delayedResponse","response","a","json","res","e","post","body","useDelay","fetch","method","headers","JSON","stringify","then","authGet","authPost","ActionTypes","getMessageTemplate","info","id","firstName","department","starts","ends","link","route","route2","eId","props","metricType","addr","get","epermit","params","deleteReq","to","reciever","email","phone","lastName","licensePlate","useDebounce","value","debouncedValue","setDebouncedValue","handler","clearTimeout","address_components","usePlaces","country","neededsAll","defaultAddressData","geo","address","city","zipcode","street","state","formattedAddress","searchText","setSearchText","debouncedSearchText","loading","success","error","addressData","setState","getAddressComponent","addresses","component","filter","types","includes","hasAllAddressComponent","reduce","acc","curr","ac","formatAddress","short_name","trim","getAddress","length","api","status","results","Error","filteredResults","formatted_address","geometry","location","console","log","catch","now","moment","later","add","intialState","query","long","start_date","format","end_date","start_hour","end_hour","amenities","booking_type","vehicle_classes","locations","setAddressData","dispatch","type","SET_ADDRESS_DATA","payload","SET_SEARCH","LocationSearcher","visible","setVisible","useDispatch","placement","content","style","minWidth","maxWidth","customCols","Spinner","placeItems","className","onClick","margin","grid","ref","placeholder","background","borderRadius","padding","border","onChange","target","Text","styled","div","MiniNav","TopNavBar","useLocation","pathname","replace","zIndex","Item","key","trigger","logo","mo","color","Line","hr","keyframes","ShowHover","span","HideHover","MyNavLink","NavLink","LeftNav","Sidebar","routes","activeStyle","borderLeft","hideOnMobile","src","fontSize","medium","borderWidth","inverted","map","i","name","icon","displayName","height","Layout","children","sidebar","admin","avatarImg","scrollTo","Wrapper","placeSelf","year","toString","Top","noBackground","paddingBottom","mobileLayout","Bottom","shiftUp","marginTop","MapContainer","showingInfoWindow","revenue","zoom","citation","transaction","activeMarker","markPosition","selectedPlace","React","createRef","stokes","gridTemplateRows","cols","gridGap","bold","size","textDecoration","marginLeft","position","this","display","gridColumnStart","google","center","search","initialCenter","onZoomChanged","_","mapProps","clickEvent","latLng","coord","paths","strokeOpacity","strokeColor","strokeWeight","onMouseover","__","fillColor","fillOpacity","opacity","marker","InfoWindowEx","click","Component","infoWindowRef","contentElement","document","createElement","ReactDOM","render","Children","only","infowindow","setContent","ConnectedMap","connect","GoogleApiWrapper","apiKey","ScoreCard","title","faIcon","adjacentLabel","hoverLabel","borderStyle","borderRight","minHeight","customRows","lineHeight","dangerouslySetInnerHTML","__html","PercentBar","percent","text","successPercent","FlatValue","str","flatValueQuery","refreshInterval","refresh","undefined","isPercent","unit","applicableResource","setRes","loadValue","useSelector","user","enterprise","charAt","toUpperCase","substring","resource","getIcon","Number","duration","start","end","getColor","index","colors","defaultMargin","top","right","bottom","left","PieChart","data","innerWidth","innerHeight","radius","Math","min","centerY","centerX","selected","setSelected","rx","fill","x","fontWeight","textAnchor","dy","y","Group","pieValue","d","outerRadius","innerRadius","cornerRadius","padAngle","pie","arcs","item","label","path","onTouchStart","onTouchMove","onMouseMove","onMouseLeave","event","IntervalPreset_E","getAnalyticsCharts","me","chart","chartType","crossSeriesReducer","timeSeriesQuery","resourceIds","alignment","alignmentPeriod","alignmentReducer","intervalPreset","backgroundColor","xAxisLabel","yAxisLabel","chartTypes","transactions","reservations","getLiveCharts","liveQueryIntervalPreset","revenueAndTransactions","sumPoints","points","sum","point","isMissing","getStats","epId","analyticsQueryIntervalPreset","revenueQuery","transactionQuery","all","r1","r2","timeSeriesResult","ts1","normal","timeSeries","dynamic","total","call","getAnalyticsStats","getLiveStats","getEnterpriseEvents","reservationOccupancy","garageName","occupancy","staffs","expStaffs","e1","revenueAmt","towedCars","grades","sidewalk","bindFunctions","bind","e2","e3","selectedEnterpriseEventManager","selectedEnterpriseEvent","listeners","addSelectedEnterpriseChangeListener","fn","find","l","push","removeSelectedEnterpriseChangeListener","listener","selectEnterpriseEvent","eventId","forEach","useSelectEnterpriseEvent","E","setE","enterpriseEvent","usePromise","promise","result","asyncHandler","apiCall","successMessage","errorMessage","defaultMessage","message","Notification","toCurrency","num","enterpriseEvents","Header","useParams","useMemo","gridColumn","marginBottom","gridTemplateColumns","disabled","eventIds","Option","empty","pagination","items","list","XAxis","scale","tickFormat","axisStyleProps","maxTicks","range","tickValues","dates","domain","mod","floor","AxisBottom","tickLabelProps","hideTicks","YAxisLeft","ticks","AxisLeft","dx","YAxisRight","AxisRight","defaultAxisStyle","hideAxisLine","tickStroke","tickLength","hideZero","useRect","calcRect","xRange","yRange","rect","setRect","useScale","yMax","xAxis","getXBandScale","yAxis","scaleLinear","scaleBand","Date","date","toISOString","getDates","Sentry","useData","getStackedPoints","stackedPoints","max","linearMax","reference","numPoints","numResource","stackedPoint","at","totalValue","j","displayLabel","logger","useCombinedData","timeSeriesResults","ts","combinedPoint","getKeys","Object","keys","k","points_","units","xScale","dateFormatter","tooltip","useTooltip","reverse","bandStart","bandEnd","bandwidth","getLegend","getUnit","toFixed","n","toDollar","graphLocal","localPoint","handleTooltip","newSelected","step","iX","timestamp","legend","showTooltip","tooltipData","tooltipLeft","tooltipTop","Tooltip","tooltipOpen","isSelected","TooltipWithBounds","Custom","from","stroke","strokeWidth","pointerEvents","strokeDasharray","Charts","Grid","yScale","MultiLine","linePathX","r","cx","cy","LinePath","linePathY","defined","StackedArea","noneSelected","getY","AreaStack","datum","y0","y1","stacks","stack","StackedBar","colorScale","scaleOrdinal","BarStack","barStacks","barStack","bars","bar","Combined","y2Scale","points2","keyLine","getLineY","getLineX","getChart","multiLine","stackedArea","stackedBar","combined","DrawArea","tickFormatY","getYTickFormatter","tickFormatX","getXTickFormatter","tooltipFormatter","getTooltipDateFormatter","useToolTip","hideTooltip","chartProps","transform","inChartLegend","textTransform","shape","labelMargin","SVG","o","Multi","datas","timeSeriesResult2","data1","data2","dataComb","y2Axis","tickFormatYLeft","tickFormatYRight","fixedAlignment","minusOneDay","formatter","d0","subtract","defaultFormatter","tableProps","dataSource","columns","dataIndex","shadow","useResize","filterWidth","ChartHeader","setChartType","download","queries","textAlign","txt","limit","overflow","Loading","d100","Chart","metricDataStatus","useChartType","metricDataStatuses","isLoading","hasError","Pages","useMetricData","localStorageKey","setMetricDataStatus","getMetricData","metricDescriptor","setIntervalPreset","q","Analytics","switches","activeEvent","downloads","charts","c","timeSeriesQueries","marginRight","PermitType","Events","ANALYTICS","permits","ParkingLot","Zone","defaultClients","open","parkingSpace","overbooking","communication","parkingLot","Lot1","zone","R1","employee","handicap","employeeFee","handicapFee","residenceFee","KEY","saveClients","clients","setItem","loadClients","parse","hasClients","action","asyncActions","REQUEST_CLIENT","SUCCESS_CLIENT","addClient","client","ADD_CLIENT","editClient","EDIT_CLIENT","random","temp","code","ceil","String","fromCharCode","liscensePlate","saveNotifications","notifications","loadNotifications","hasNotification","saveVehiclePermit","loadVehiclePermit","REQUEST_V_PERMIT","SUCCESS_V_PERMIT","addVehiclePermit","vehiclePermit","ADD_V_PERMIT","vehiclePermits","dispatches","combineReducers","LOAD_CLIENT","REMOVE_CLIENT","v","ERROR_CLIENT","LOAD_PERMIT","REMOVE_PERMIT","_id","permit","savePermits","ADD_PERMIT","EDIT_PERMIT","ERROR_PERMIT","REQUEST_PERMIT","SUCCESS_PERMIT","LOAD_V_PERMIT","ERROR_V_PERMIT","LOAD_NOTIFICATION","REMOVE_NOTIFICATION","notification","ADD_NOTIFICATION","LOAD_DISPATCH","ADD_DISPATCH","time","loadDispatches","hasDispatches","ReduxThunk","require","default","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","next","group","getState","groupEnd","getVehiclePermit","getClients","setInterval","checkPermit","getNotifications","getPermits","HistoryState","epermits","addPermit","removePermit","addResidence","p","rootPermit_id","generateUsers","isCompleted","Home","useHistory","idenity","employer","paddingLeft","paddingTop","residential","visitor","defaultValue","set","done","Residential","Message","reset","confirm","generate","endDate","Normal","backgroundImage","vehicleFields","FormComp","submit","dontAdd","partial","defaultValues","rootPermitId","isCompleting","useFormik","initialValues","onSubmit","values","vaccine","href","handleSubmit","handleChange","errors","setFieldValue","patients","Boolean","showTime","minuteStep","Form","setUser","float","rounded","Collapse","heading","defaultState","collapse","pad","setCollapse","Bar","borderBottom","ClientForm","cancelAdd","mode","checked","defaultChecked","bg","onConfirm","removeClient","Rules","setAdd","loader","Fragment","User","Admin","permitColumns","prefix","History","ACTIVE","setter","active","bordered","overflowX","pageSize","arr","flatPermits","Permits","isAdmin","as","GENERATE","img","underlined","HISTORY","RULES","electricPermits","vehicleId","dailyMilage","openBooking","ElectricTable","onMarkerClick","reload","Electric","activePage","setActivePage","MAP","Visitor","hour","Client","PrimaryModal","confirmText","cancelText","onCancel","invert","noBorder","boxShadow","useCopy","copy","userMessage","tempInput","appendChild","select","execCommand","removeChild","prompt","useConfig","config","obj","getConfig","Help","help","TextModal","Modal","modal","close","suffix","hideCancel","CallModal","Legal","hideFooter","PermitCard","rootPermit","abs","permitt","alt","gridRow","SubVisitor","PERMIT","Otp","authenticate","otp","setOtp","split","fields","Login","App","auth","s","exact","per","hostname","match","initialState","toggleSidebar","collapsed","toggleCollapsed","NavContext","createContext","NavProvider","Provider","Consumer","GlobalStyle","createGlobalStyle","Main","setProps","defaultConfig","dsn","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.9f029d1a.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.cd8c6277.png\";","module.exports = __webpack_public_path__ + \"static/media/user.7a21cbe9.svg\";","module.exports = __webpack_public_path__ + \"static/media/parkstash_logo.ab0d6bfb.png\";","module.exports = __webpack_public_path__ + \"static/media/CalPolyLogo.cbd4b3f8.png\";","module.exports = __webpack_public_path__ + \"static/media/permit.85a76f93.svg\";","\r\nexport const mobileWidth =  '860px';\r\nexport const tabletWidth =  '1100px';\r\n\r\nexport const primaryColor = '#00d69e';    // Lighter Bluish Green\r\nexport const secondaryColor = '#037885'; // Darker Bluish Green\r\nexport const gradient = 'linear-gradient(to left, #00D69E, #00BAA4, #009CA0, #007F90, #1E6378, #2F4858)';\r\nexport const gradientRev = 'linear-gradient(to right, #00D69E, #00BAA4, #009CA0, #007F90, #1E6378, #2F4858)';\r\nexport const gradient1 = 'linear-gradient(#00D69E, #00BAA4)';\r\nexport const gradient2 = 'linear-gradient(#00BAA4, #009CA0, #007F90, #1E6378)'; \r\n\r\nexport const primaryTxtColor =  '#32325D';  \r\nexport const secodaryTxtColor =  '#32325D';    \r\nexport const invertedTxtColor =  '#FFFFFF'; \r\nexport const disabledTxtColor =  '#A6ACAF';  \r\nexport const disabledTxtColor2 =  '#F0F2F3';  \r\nexport const googleAPIKey = `AIzaSyCXprycu2n1TOaoO0wDiZkH8HavZbUDFFU`;\r\nexport const gray = 'rgba(247, 249, 249, 0.65)';\r\nexport const cloudinaryPrefix = 'https://res.cloudinary.com/ssaran97/image/upload/';\r\nexport const baseUrl = 'http://localhost:3000'\r\nexport const textOverFlowLimit = 15;\r\nexport const top4 = 10;\r\nexport const top3 = 100;\r\nexport const top2 = 1000;\r\nexport const top1 = 10000;\r\nexport const API = \"https://test.findparkstash.com/api\";\r\nexport const APP_URL = 'https://stanford.findparkstash.com';\r\nexport const url = 'https://stanford.findparkstash.com'\r\nexport const localAPI = 'http://localhost:8902'\r\nexport const API2 =  ( url) + '/api';\r\nexport const defaultLocation =  {lat: 39.02653927586001, lng: -76.95245338598109};\r\nexport const token = 'jTVnIl0ahL'\r\nexport const ENTERPRISE = 'Stanford'\r\nexport const ENTERPRISE_IMG_URL = 'https://pbs.twimg.com/profile_images/875395483128049664/8z_jvdLB.jpg'\r\nexport const ENTERPRISE_GEO_LOCATION_URL = 'https://shorturl.at/hjosA'","import { useState, useRef, useEffect } from \"react\";\r\n\r\nexport const useSize = () =>{\r\n    const [width, setWidth] = useState(300);\r\n    const container = useRef<any>(null);\r\n    const resize = () => setWidth(container?.current?.clientWidth);\r\n    useEffect(resize, [ container?.current?.clientWidth ]);\r\n    useEffect(() => {\r\n      window?.addEventListener(\"resize\", resize);\r\n      return () => window.removeEventListener(\"resize\", resize);\r\n    }, []);\r\n  \r\n    return {\r\n       container,\r\n       width\r\n    };\r\n  };","import { token } from \"../config\";\r\n\r\n\r\nfunction header() {\r\n  return {\r\n    \"Content-Type\": \"application/json\",\r\n    os: \"web\",\r\n    usertoken: btoa(token),\r\n  };\r\n}\r\n\r\nfunction authHeader() {\r\n  let usertoken = localStorage.getItem('USER') || \"eyJhbGciOiJIUzI1NiJ9.NjIxOj4sT0k.c3j0R8CkEylWI-NyfDBQj-4HUKQyY5b-xKagUac5By0\";\r\n  let userId = localStorage.getItem('ID') || \"606139915fe8a02c7a9a5e2d\";\r\n  let authToken = btoa(`${token}:${userId}:${usertoken}`);\r\n  return { \"Content-Type\": \"application/json\", authToken, os: \"web\" };\r\n}\r\n\r\nfunction authUploadHeader() {\r\n  let usertoken = localStorage.getItem('USER') || \"\";\r\n  let userId = localStorage.getItem('ID') || \"\";\r\n  let authtoken = btoa(`${token}:${userId}:${usertoken}`);\r\n  return { \"content-type\": \"application/x-www-form-urlencoded\", authtoken, os: \"web\" };\r\n}\r\n\r\nexport { header, authHeader, authUploadHeader };\r\n","import { authHeader , header, authUploadHeader } from './header';\r\nconst delay = (f: any) => new Promise(resolve => setTimeout(resolve, f));\r\n\r\nconst DELAY = 800; \r\n\r\nconst delayedResponse = async (response: Response) => {\r\n  await delay(DELAY)\r\n  return response.json()\r\n};\r\n\r\nconst response = (res: Response) => {\r\n  try{\r\n    return res.json()\r\n  } catch(e){\r\n    return res;\r\n  }\r\n  \r\n}\r\n\r\nfunction post(url: string, body: object, useDelay = true) {\r\n  return fetch(url, { method: 'POST', headers: header(), body: JSON.stringify(body) })\r\n    .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction get(url: string, useDelay = true) {\r\n  return fetch(url, { method: 'GET', headers: header() })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authGet(url: string, useDelay = true){\r\n  return fetch(url, { method: 'GET', headers: authHeader() })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authCustom(url: string, header: any, useDelay = true){\r\n  return fetch(url, { method: 'GET', headers: header} )\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authDelete(url: string, params : string, useDelay = true){\r\n  return fetch(`${url}/${params}`, { method: 'DELETE', headers: authHeader()} )\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction deleteReq(url: string, params? : string, useDelay = true){\r\n  return fetch(`${url}/${params || ''}`, { method: 'DELETE', headers: header()} )\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction customPost(url: string, header: any, body: object, useDelay = true) {\r\n  return fetch(url, { method: 'POST', headers: {\"Content-Type\": \"application/json\", ...header} , body: JSON.stringify(body) })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authPost(url : string, body : any, useDelay = true) {\r\n  return fetch(url, { method: 'POST', headers: authHeader(), body: JSON.stringify(body) })\r\n  .then(useDelay? delayedResponse: response);\r\n}\r\n\r\nfunction authPut(url : string, body : any, useDelay = true) {\r\n  return fetch(url, { method: 'PUT', headers: authHeader(), body: JSON.stringify(body) })\r\n  .then(response);\r\n}\r\n\r\nfunction authGetQuery(url: string, query : string){\r\n  return fetch(`${url}/?${query}`, { method: 'GET', headers: authHeader() })\r\n    .then((response : Response) => response.json());\r\n}\r\n\r\nfunction authGetParams(url: string, param : string){\r\n  return fetch(`${url}/${param}`, { method: 'GET', headers: authHeader() })\r\n    .then((response : Response) => response.json());\r\n}\r\n\r\nfunction authUpload(url : string, file : any) {\r\n  return fetch(url, { method: 'POST', body: file , headers: authUploadHeader()})\r\n  .then((response : Response) => response.json());\r\n}\r\n\r\n\r\nexport { get, authGet, post, authPost, authPut, customPost, authCustom, authGetParams, authGetQuery, authUpload, authDelete , deleteReq};","import { UserInfo } from \"../api\";\r\nimport { ENTERPRISE, ENTERPRISE_GEO_LOCATION_URL, ENTERPRISE_IMG_URL } from \"../config\";\r\nimport random from \"./random\";\r\n\r\nexport const getEmailTemplate = (reciever: UserInfo)=>`\r\n<!doctype html>\r\n<html xmlns=\"http://www.w3.org/1999/xhtml\" xmlns:v=\"urn:schemas-microsoft-com:vml\" xmlns:o=\"urn:schemas-microsoft-com:office:office\">\r\n\t<head>\r\n\t\t<meta charset=\"UTF-8\">\r\n        <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n        \r\n    <style type=\"text/css\">\r\n\tdiv {\r\n\t\t\r\n\t\tcolor: black !important;\r\n\t}\r\n\t\tp{\r\n\t\t\tmargin:10px 0;\r\n\t\t\tpadding:0;\r\n\t\t}\r\n\t\ttable{\r\n\t\t\tborder-collapse:collapse;\r\n\t\t}\r\n\t\th1,h2,h3,h4,h5,h6{\r\n\t\t\tdisplay:block;\r\n\t\t\tmargin:0;\r\n\t\t\tpadding:0;\r\n\t\t}\r\n\t\timg,a img{\r\n\t\t\tborder:0;\r\n\t\t\theight:auto;\r\n\t\t\toutline:none;\r\n\t\t\ttext-decoration:none;\r\n\t\t}\r\n\t\tbody,#bodyTable,#bodyCell{\r\n\t\t\theight:100%;\r\n\t\t\tmargin:0;\r\n\t\t\tpadding:0;\r\n\t\t\twidth:100%;\r\n\t\t}\r\n\t\t.mcnPreviewText{\r\n\t\t\tdisplay:none !important;\r\n\t\t}\r\n\t\t#outlook a{\r\n\t\t\tpadding:0;\r\n\t\t}\r\n\t\timg{\r\n\t\t\t-ms-interpolation-mode:bicubic;\r\n\t\t}\r\n\t\ttable{\r\n\t\t\tmso-table-lspace:0pt;\r\n\t\t\tmso-table-rspace:0pt;\r\n\t\t}\r\n\t\t.ReadMsgBody{\r\n\t\t\twidth:100%;\r\n\t\t}\r\n\t\t.ExternalClass{\r\n\t\t\twidth:100%;\r\n\t\t}\r\n\t\tp,a,li,td,blockquote{\r\n\t\t\tmso-line-height-rule:exactly;\r\n\t\t}\r\n\t\ta[href^=tel],a[href^=sms]{\r\n\t\t\tcolor:inherit;\r\n\t\t\tcursor:default;\r\n\t\t\ttext-decoration:none;\r\n\t\t}\r\n\t\tp,a,li,td,body,table,blockquote{\r\n\t\t\t-ms-text-size-adjust:100%;\r\n\t\t\t-webkit-text-size-adjust:100%;\r\n\t\t}\r\n\t\t.ExternalClass,.ExternalClass p,.ExternalClass td,.ExternalClass div,.ExternalClass span,.ExternalClass font{\r\n\t\t\tline-height:100%;\r\n\t\t}\r\n\t\ta[x-apple-data-detectors]{\r\n\t\t\tcolor:inherit !important;\r\n\t\t\ttext-decoration:none !important;\r\n\t\t\tfont-size:inherit !important;\r\n\t\t\tfont-family:inherit !important;\r\n\t\t\tfont-weight:inherit !important;\r\n\t\t\tline-height:inherit !important;\r\n\t\t}\r\n\t\t#bodyCell{\r\n\t\t\tpadding:10px;\r\n\t\t\tborder-top:0;\r\n\t\t}\r\n\t\t.templateContainer{\r\n\t\t\tmax-width:600px !important;\r\n\t\t\tborder:0;\r\n\t\t}\r\n\t\ta.mcnButton{\r\n\t\t\tdisplay:block;\r\n\t\t}\r\n\t\t.mcnImage,.mcnRetinaImage{\r\n\t\t\tvertical-align:bottom;\r\n\t\t}\r\n\t\t.mcnTextContent{\r\n\t\t\tword-break:break-word;\r\n\t\t}\r\n\t\t.mcnTextContent img{\r\n\t\t\theight:auto !important;\r\n\t\t}\r\n\t\t.mcnDividerBlock{\r\n\t\t\ttable-layout:fixed !important;\r\n\t\t}\r\n\t/*\r\n\t@tab Page\r\n\t@section Background Style\r\n\t@tip Set the background color and top border for your email. You may want to choose colors that match your company's branding.\r\n\t*/\r\n\t/*\r\n\t@tab Page\r\n\t@section Background Style\r\n\t@tip Set the background color and top border for your email. You may want to choose colors that match your company's branding.\r\n\t*/\r\n\t\t#bodyCell{\r\n\t\t\t/*@editable*/border-top:0;\r\n\t\t}\r\n\t/*\r\n\t@tab Page\r\n\t@section Email Border\r\n\t@tip Set the border for your email.\r\n\t*/\r\n\t\t.templateContainer{\r\n\t\t\t/*@editable*/border:0;\r\n\t\t}\r\n\t/*\r\n\t@tab Page\r\n\t@section Heading 1\r\n\t@tip Set the styling for all first-level headings in your emails. These should be the largest of your headings.\r\n\t@style heading 1\r\n\t*/\r\n\t\th1{\r\n\t\t\t/*@editable*/color:#FFFFFF;\r\n\t\t\t/*@editable*/font-family:Georgia;\r\n\t\t\t/*@editable*/font-size:60px;\r\n\t\t\t/*@editable*/font-style:normal;\r\n\t\t\t/*@editable*/font-weight:bold;\r\n\t\t\t/*@editable*/line-height:125%;\r\n\t\t\t/*@editable*/letter-spacing:normal;\r\n\t\t\t/*@editable*/text-align:center;\r\n\t\t}\r\n\t/*\r\n\t@tab Page\r\n\t@section Heading 2\r\n\t@tip Set the styling for all second-level headings in your emails.\r\n\t@style heading 2\r\n\t*/\r\n\t\th2{\r\n\t\t\t/*@editable*/color:#202020;\r\n\t\t\t/*@editable*/font-family:Georgia;\r\n\t\t\t/*@editable*/font-size:22px;\r\n\t\t\t/*@editable*/font-style:normal;\r\n\t\t\t/*@editable*/font-weight:bold;\r\n\t\t\t/*@editable*/line-height:125%;\r\n\t\t\t/*@editable*/letter-spacing:normal;\r\n\t\t\t/*@editable*/text-align:center;\r\n\t\t}\r\n\t/*\r\n\t@tab Page\r\n\t@section Heading 3\r\n\t@tip Set the styling for all third-level headings in your emails.\r\n\t@style heading 3\r\n\t*/\r\n\t\th3{\r\n\t\t\t/*@editable*/color:#606060;\r\n\t\t\t/*@editable*/font-family:Courier New;\r\n\t\t\t/*@editable*/font-size:18px;\r\n\t\t\t/*@editable*/font-style:normal;\r\n\t\t\t/*@editable*/font-weight:normal;\r\n\t\t\t/*@editable*/line-height:125%;\r\n\t\t\t/*@editable*/letter-spacing:normal;\r\n\t\t\t/*@editable*/text-align:center;\r\n\t\t}\r\n\t/*\r\n\t@tab Page\r\n\t@section Heading 4\r\n\t@tip Set the styling for all fourth-level headings in your emails. These should be the smallest of your headings.\r\n\t@style heading 4\r\n\t*/\r\n\t\th4{\r\n\t\t\t/*@editable*/color:#202020;\r\n\t\t\t/*@editable*/font-family:Georgia;\r\n\t\t\t/*@editable*/font-size:18px;\r\n\t\t\t/*@editable*/font-style:normal;\r\n\t\t\t/*@editable*/font-weight:bold;\r\n\t\t\t/*@editable*/line-height:125%;\r\n\t\t\t/*@editable*/letter-spacing:normal;\r\n\t\t\t/*@editable*/text-align:center;\r\n\t\t}\r\n\t/*\r\n\t@tab Preheader\r\n\t@section Preheader Style\r\n\t@tip Set the background color and borders for your email's preheader area.\r\n\t*/\r\n\t\t#templatePreheader{\r\n\t\t\t/*@editable*/background-color:#ffffff;\r\n\t\t\t/*@editable*/background-image:none;\r\n\t\t\t/*@editable*/background-repeat:no-repeat;\r\n\t\t\t/*@editable*/background-position:center;\r\n\t\t\t/*@editable*/background-size:cover;\r\n\t\t\t/*@editable*/border-top:0;\r\n\t\t\t/*@editable*/border-bottom:0;\r\n\t\t\t/*@editable*/padding-top:0px;\r\n\t\t\t/*@editable*/padding-bottom:0px;\r\n\t\t}\r\n\t/*\r\n\t@tab Preheader\r\n\t@section Preheader Text\r\n\t@tip Set the styling for your email's preheader text. Choose a size and color that is easy to read.\r\n\t*/\r\n\t\t#templatePreheader .mcnTextContent,#templatePreheader .mcnTextContent p{\r\n\t\t\t/*@editable*/color:#606060;\r\n\t\t\t/*@editable*/font-family:Helvetica;\r\n\t\t\t/*@editable*/font-size:12px;\r\n\t\t\t/*@editable*/line-height:100%;\r\n\t\t\t/*@editable*/text-align:left;\r\n\t\t}\r\n\t/*\r\n\t@tab Preheader\r\n\t@section Preheader Link\r\n\t@tip Set the styling for your email's preheader links. Choose a color that helps them stand out from your text.\r\n\t*/\r\n\t\t#templatePreheader .mcnTextContent a,#templatePreheader .mcnTextContent p a{\r\n\t\t\t/*@editable*/color:#606060;\r\n\t\t\t/*@editable*/font-weight:normal;\r\n\t\t\t/*@editable*/text-decoration:underline;\r\n\t\t}\r\n\t/*\r\n\t@tab Header\r\n\t@section Header Style\r\n\t@tip Set the background color and borders for your email's header area.\r\n\t*/\r\n\t\t#templateHeader{\r\n\t\t\t/*@editable*/background-color:#ffffff;\r\n\t\t\t/*@editable*/background-image:none;\r\n\t\t\t/*@editable*/background-repeat:no-repeat;\r\n\t\t\t/*@editable*/background-position:center;\r\n\t\t\t/*@editable*/background-size:cover;\r\n\t\t\t/*@editable*/border-top:1px none ;\r\n\t\t\t/*@editable*/border-bottom:1px none ;\r\n\t\t\t/*@editable*/padding-top:0px;\r\n\t\t\t/*@editable*/padding-bottom:0px;\r\n\t\t}\r\n\t/*\r\n\t@tab Header\r\n\t@section Header Text\r\n\t@tip Set the styling for your email's header text. Choose a size and color that is easy to read.\r\n\t*/\r\n\t\t#templateHeader .mcnTextContent,#templateHeader .mcnTextContent p{\r\n\t\t\t/*@editable*/color:#FFFFFF;\r\n\t\t\t/*@editable*/font-family:Courier New;\r\n\t\t\t/*@editable*/font-size:22px;\r\n\t\t\t/*@editable*/line-height:100%;\r\n\t\t\t/*@editable*/text-align:center;\r\n\t\t}\r\n\t/*\r\n\t@tab Header\r\n\t@section Header Link\r\n\t@tip Set the styling for your email's header links. Choose a color that helps them stand out from your text.\r\n\t*/\r\n\t\t#templateHeader .mcnTextContent a,#templateHeader .mcnTextContent p a{\r\n\t\t\t/*@editable*/color:#FFFFFF;\r\n\t\t\t/*@editable*/font-weight:normal;\r\n\t\t\t/*@editable*/text-decoration:underline;\r\n\t\t}\r\n\t/*\r\n\t@tab Body\r\n\t@section Body Style\r\n\t@tip Set the background color and borders for your email's body area.\r\n\t*/\r\n\t\t#templateBody{\r\n\t\t\t/*@editable*/background-color:#ffffff;\r\n\t\t\t/*@editable*/background-image:none;\r\n\t\t\t/*@editable*/background-repeat:no-repeat;\r\n\t\t\t/*@editable*/background-position:center;\r\n\t\t\t/*@editable*/background-size:auto;\r\n\t\t\t/*@editable*/border-top:0;\r\n\t\t\t/*@editable*/border-bottom:0;\r\n\t\t\t/*@editable*/padding-top:0px;\r\n\t\t\t/*@editable*/padding-bottom:0px;\r\n\t\t}\r\n\t/*\r\n\t@tab Body\r\n\t@section Body Text\r\n\t@tip Set the styling for your email's body text. Choose a size and color that is easy to read.\r\n\t*/\r\n\t\t#templateBody .mcnTextContent,#templateBody .mcnTextContent p{\r\n\t\t\t/*@editable*/color:#606060;\r\n\t\t\t/*@editable*/font-family:Georgia;\r\n\t\t\t/*@editable*/font-size:16px;\r\n\t\t\t/*@editable*/line-height:100%;\r\n\t\t\t/*@editable*/text-align:left;\r\n\t\t}\r\n\t/*\r\n\t@tab Body\r\n\t@section Body Link\r\n\t@tip Set the styling for your email's body links. Choose a color that helps them stand out from your text.\r\n\t*/\r\n\t\t#templateBody .mcnTextContent a,#templateBody .mcnTextContent p a{\r\n\t\t\t/*@editable*/color:#82A4A6;\r\n\t\t\t/*@editable*/font-weight:normal;\r\n\t\t\t/*@editable*/text-decoration:underline;\r\n\t\t}\r\n\t/*\r\n\t@tab Columns\r\n\t@section Column Style\r\n\t@tip Set the background color and borders for your email's columns.\r\n\t*/\r\n\t\t#templateColumns{\r\n\t\t\t/*@editable*/background-color:#062938;\r\n\t\t\t/*@editable*/background-image:none;\r\n\t\t\t/*@editable*/background-repeat:no-repeat;\r\n\t\t\t/*@editable*/background-position:center;\r\n\t\t\t/*@editable*/background-size:cover;\r\n\t\t\t/*@editable*/border-top:0;\r\n\t\t\t/*@editable*/border-bottom:0;\r\n\t\t\t/*@editable*/padding-top:0;\r\n\t\t\t/*@editable*/padding-bottom:0px;\r\n\t\t}\r\n\t/*\r\n\t@tab Columns\r\n\t@section Column Text\r\n\t@tip Set the styling for your email's column text. Choose a size and color that is easy to read.\r\n\t*/\r\n\t\t#templateColumns .columnContainer .mcnTextContent,#templateColumns .columnContainer .mcnTextContent p{\r\n\t\t\t/*@editable*/color:#606060;\r\n\t\t\t/*@editable*/font-family:Georgia;\r\n\t\t\t/*@editable*/font-size:16px;\r\n\t\t\t/*@editable*/line-height:100%;\r\n\t\t\t/*@editable*/text-align:left;\r\n\t\t}\r\n\t/*\r\n\t@tab Columns\r\n\t@section Column Link\r\n\t@tip Set the styling for your email's column links. Choose a color that helps them stand out from your text.\r\n\t*/\r\n\t\t#templateColumns .columnContainer .mcnTextContent a,#templateColumns .columnContainer .mcnTextContent p a{\r\n\t\t\t/*@editable*/color:#222222;\r\n\t\t\t/*@editable*/font-weight:normal;\r\n\t\t\t/*@editable*/text-decoration:underline;\r\n\t\t}\r\n\t/*\r\n\t@tab Footer\r\n\t@section Footer Style\r\n\t@tip Set the background color and borders for your email's footer area.\r\n\t*/\r\n\t\t#templateFooter{\r\n\t\t\t/*@editable*/background-color:#00d69e;\r\n\t\t\t/*@editable*/background-image:none;\r\n\t\t\t/*@editable*/background-repeat:no-repeat;\r\n\t\t\t/*@editable*/background-position:center;\r\n\t\t\t/*@editable*/background-size:cover;\r\n\t\t\t/*@editable*/border-top:0;\r\n\t\t\t/*@editable*/border-bottom:0;\r\n\t\t\t/*@editable*/padding-top:10px;\r\n\t\t\t/*@editable*/padding-bottom:0px;\r\n\t\t}\r\n\t/*\r\n\t@tab Footer\r\n\t@section Footer Text\r\n\t@tip Set the styling for your email's footer text. Choose a size and color that is easy to read.\r\n\t*/\r\n\t\t#templateFooter .mcnTextContent,#templateFooter .mcnTextContent p{\r\n\t\t\t/*@editable*/color:#FFFFFF;\r\n\t\t\t/*@editable*/font-family:'Helvetica Neue', Helvetica, Arial, Verdana, sans-serif;\r\n\t\t\t/*@editable*/font-size:9px;\r\n\t\t\t/*@editable*/line-height:100%;\r\n\t\t\t/*@editable*/text-align:center;\r\n\t\t}\r\n\t/*\r\n\t@tab Footer\r\n\t@section Footer Link\r\n\t@tip Set the styling for your email's footer links. Choose a color that helps them stand out from your text.\r\n\t*/\r\n\t\t#templateFooter .mcnTextContent a,#templateFooter .mcnTextContent p a{\r\n\t\t\t/*@editable*/color:#4caad8;\r\n\t\t\t/*@editable*/font-weight:normal;\r\n\t\t\t/*@editable*/text-decoration:underline;\r\n\t\t}\r\n\t@media only screen and (min-width:768px){\r\n\t\t.templateContainer{\r\n\t\t\twidth:600px !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\tbody,table,td,p,a,li,blockquote{\r\n\t\t\t-webkit-text-size-adjust:none !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\tbody{\r\n\t\t\twidth:100% !important;\r\n\t\t\tmin-width:100% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t#bodyCell{\r\n\t\t\tpadding-top:10px !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.columnWrapper{\r\n\t\t\tmax-width:100% !important;\r\n\t\t\twidth:100% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnRetinaImage{\r\n\t\t\tmax-width:100% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnImage{\r\n\t\t\twidth:100% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnCartContainer,.mcnCaptionTopContent,.mcnRecContentContainer,.mcnCaptionBottomContent,.mcnTextContentContainer,.mcnBoxedTextContentContainer,.mcnImageGroupContentContainer,.mcnCaptionLeftTextContentContainer,.mcnCaptionRightTextContentContainer,.mcnCaptionLeftImageContentContainer,.mcnCaptionRightImageContentContainer,.mcnImageCardLeftTextContentContainer,.mcnImageCardRightTextContentContainer,.mcnImageCardLeftImageContentContainer,.mcnImageCardRightImageContentContainer{\r\n\t\t\tmax-width:100% !important;\r\n\t\t\twidth:100% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnBoxedTextContentContainer{\r\n\t\t\tmin-width:100% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnImageGroupContent{\r\n\t\t\tpadding:9px !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnCaptionLeftContentOuter .mcnTextContent,.mcnCaptionRightContentOuter .mcnTextContent{\r\n\t\t\tpadding-top:9px !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnImageCardTopImageContent,.mcnCaptionBottomContent:last-child .mcnCaptionBottomImageContent,.mcnCaptionBlockInner .mcnCaptionTopContent:last-child .mcnTextContent{\r\n\t\t\tpadding-top:18px !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnImageCardBottomImageContent{\r\n\t\t\tpadding-bottom:9px !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnImageGroupBlockInner{\r\n\t\t\tpadding-top:0 !important;\r\n\t\t\tpadding-bottom:0 !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnImageGroupBlockOuter{\r\n\t\t\tpadding-top:9px !important;\r\n\t\t\tpadding-bottom:9px !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnTextContent,.mcnBoxedTextContentColumn{\r\n\t\t\tpadding-right:18px !important;\r\n\t\t\tpadding-left:18px !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcnImageCardLeftImageContent,.mcnImageCardRightImageContent{\r\n\t\t\tpadding-right:18px !important;\r\n\t\t\tpadding-bottom:0 !important;\r\n\t\t\tpadding-left:18px !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t\t.mcpreview-image-uploader{\r\n\t\t\tdisplay:none !important;\r\n\t\t\twidth:100% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t/*\r\n\t@tab Mobile Styles\r\n\t@section Heading 1\r\n\t@tip Make the first-level headings larger in size for better readability on small screens.\r\n\t*/\r\n\t\th1{\r\n\t\t\t/*@editable*/font-size:30px !important;\r\n\t\t\t/*@editable*/line-height:125% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t/*\r\n\t@tab Mobile Styles\r\n\t@section Heading 2\r\n\t@tip Make the second-level headings larger in size for better readability on small screens.\r\n\t*/\r\n\t\th2{\r\n\t\t\t/*@editable*/font-size:20px !important;\r\n\t\t\t/*@editable*/line-height:125% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t/*\r\n\t@tab Mobile Styles\r\n\t@section Heading 3\r\n\t@tip Make the third-level headings larger in size for better readability on small screens.\r\n\t*/\r\n\t\th3{\r\n\t\t\t/*@editable*/font-size:16px !important;\r\n\t\t\t/*@editable*/line-height:125% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t/*\r\n\t@tab Mobile Styles\r\n\t@section Heading 4\r\n\t@tip Make the fourth-level headings larger in size for better readability on small screens.\r\n\t*/\r\n\t\th4{\r\n\t\t\t/*@editable*/font-size:16px !important;\r\n\t\t\t/*@editable*/line-height:150% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t/*\r\n\t@tab Mobile Styles\r\n\t@section Boxed Text\r\n\t@tip Make the boxed text larger in size for better readability on small screens. We recommend a font size of at least 16px.\r\n\t*/\r\n\t\t.mcnBoxedTextContentContainer .mcnTextContent,.mcnBoxedTextContentContainer .mcnTextContent p{\r\n\t\t\t/*@editable*/font-size:14px !important;\r\n\t\t\t/*@editable*/line-height:150% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t/*\r\n\t@tab Mobile Styles\r\n\t@section Preheader Visibility\r\n\t@tip Set the visibility of the email's preheader on small screens. You can hide it to save space.\r\n\t*/\r\n\t\t#templatePreheader{\r\n\t\t\t/*@editable*/display:block !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t/*\r\n\t@tab Mobile Styles\r\n\t@section Preheader Text\r\n\t@tip Make the preheader text larger in size for better readability on small screens.\r\n\t*/\r\n\t\t#templatePreheader .mcnTextContent,#templatePreheader .mcnTextContent p{\r\n\t\t\t/*@editable*/font-size:14px !important;\r\n\t\t\t/*@editable*/line-height:150% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t/*\r\n\t@tab Mobile Styles\r\n\t@section Header Text\r\n\t@tip Make the header text larger in size for better readability on small screens.\r\n\t*/\r\n\t\t#templateHeader .mcnTextContent,#templateHeader .mcnTextContent p{\r\n\t\t\t/*@editable*/font-size:24px !important;\r\n\t\t\t/*@editable*/line-height:150% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t/*\r\n\t@tab Mobile Styles\r\n\t@section Body Text\r\n\t@tip Make the body text larger in size for better readability on small screens. We recommend a font size of at least 16px.\r\n\t*/\r\n\t\t#templateBody .mcnTextContent,#templateBody .mcnTextContent p{\r\n\t\t\t/*@editable*/font-size:18px !important;\r\n\t\t\t/*@editable*/line-height:150% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t/*\r\n\t@tab Mobile Styles\r\n\t@section Column Text\r\n\t@tip Make the column text larger in size for better readability on small screens. We recommend a font size of at least 16px.\r\n\t*/\r\n\t\t#templateColumns .columnContainer .mcnTextContent,#templateColumns .columnContainer .mcnTextContent p{\r\n\t\t\t/*@editable*/font-size:18px !important;\r\n\t\t\t/*@editable*/line-height:150% !important;\r\n\t\t}\r\n}\t@media only screen and (max-width: 480px){\r\n\t/*\r\n\t@tab Mobile Styles\r\n\t@section Footer Text\r\n\t@tip Make the footer content text larger in size for better readability on small screens.\r\n\t*/\r\n\t\t#templateFooter .mcnTextContent,#templateFooter .mcnTextContent p{\r\n\t\t\t/*@editable*/font-size:9px !important;\r\n\t\t\t/*@editable*/line-height:100% !important;\r\n\t\t}\r\n}</style></head>\r\n<body>\r\n  <table align=\"center\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" width=\"600\" style=\"width: 600px;\">\r\n    <tr>\r\n      <td align=\"center\" valign=\"top\" width=\"600\" style=\"width: 600px;\">\r\n        <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"templateContainer\" style=\"width: 100%; max-width: 600px !important;\">\r\n          <tr>\r\n            <td valign=\"top\" id=\"templatePreheader\">\r\n              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnImageBlock\" style=\"min-width: 100%;\">\r\n                <tbody class=\"mcnImageBlockOuter\">\r\n                  <tr>\r\n                    <td valign=\"top\" style=\"padding: 0px;\" class=\"mcnImageBlockInner\">\r\n                      <table align=\"left\" width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"mcnImageContentContainer\" style=\"min-width: 100%;\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td class=\"mcnImageContent\" valign=\"top\" style=\"padding-right: 0px; padding-left: 0px; padding-top: 0; padding-bottom: 0; text-align: center;\">\r\n                              <img\r\n                                align=\"center\"\r\n                                alt=\"ParkStash Logo\"\r\n                                src=\"https://res.cloudinary.com/ssaran97/image/upload/v1575913437/email/logo.png\"\r\n                                width=\"48\"\r\n                                style=\"max-width: 96px; padding-bottom: 0; display: inline !important; vertical-align: bottom;\"\r\n                                class=\"mcnImage\"\r\n                              />\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnDividerBlock\" style=\"min-width: 100%;\">\r\n                <tbody class=\"mcnDividerBlockOuter\">\r\n                  <tr>\r\n                    <td class=\"mcnDividerBlockInner\" style=\"min-width: 100%; padding: 0px 18px 15px;\">\r\n                      <table class=\"mcnDividerContent\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" style=\"min-width: 100%; border-top: 2px solid #00d69e;\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td>\r\n                              <span></span>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td valign=\"top\" id=\"templateHeader\">\r\n              <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"max-width:100%; min-width:100%;\" width=\"100%\" class=\"mcnTextContentContainer\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td valign=\"top\" align=\"center\" class=\"mcnTextContent\" style=\"padding: 0px 18px 9px; font-family: &quot;Merriweather Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 36px; line-height: 200%;\">\r\n                          <span style=\"color:#00d69E\"><span style=\"font-size:36px\"><strong><span style=\"font-family:merriweather sans,helvetica neue,helvetica,arial,sans-serif\">E-Permit request approved</span></strong></span></span>\r\n                      </td>\r\n                    </tr>\r\n                </tbody>\r\n              </table>\r\n            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnImageBlock\" style=\"min-width:100%;\">\r\n                <tbody class=\"mcnImageBlockOuter\">\r\n                 <tr>\r\n                  <td valign=\"top\" style=\"padding:9px\" class=\"mcnImageBlockInner\">\r\n                   <table align=\"left\" width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"mcnImageContentContainer\" style=\"min-width:100%;\">\r\n                     <tbody>\r\n                       <tr>\r\n                        <td class=\"mcnImageContent\" valign=\"top\" style=\"padding-right: 9px; padding-left: 9px; padding-top: 0; padding-bottom: 0; text-align:center;\">\r\n                          <img \r\n                            align=\"center\" alt=\"background\" \r\n                            src=\"${ENTERPRISE_IMG_URL}\" \r\n                            width=\"350\" \r\n                            style=\"max-width:400px; padding-bottom: 0; display: inline !important; vertical-align: bottom;\" \r\n                            class=\"mcnImage\">\r\n                        </td>\r\n                       </tr>\r\n                      </tbody>\r\n                   </table>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnTextBlock\" style=\"min-width: 100%;\">\r\n                <tbody class=\"mcnTextBlockOuter\">\r\n                  <tr>\r\n                    <td valign=\"top\" class=\"mcnTextBlockInner\" style=\"padding-top: 9px;\">\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"max-width: 100%; min-width: 100%;\" width=\"100%\" class=\"mcnTextContentContainer\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td\r\n                              valign=\"top\"\r\n                              class=\"mcnTextContent\"\r\n                              style=\"padding: 0px 18px 9px; font-family: Roboto, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-style: normal; font-weight: bold; line-height: 150%; text-align: center;\"\r\n                            ></td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnTextBlock\" style=\"min-width: 100%;\">\r\n                <tbody class=\"mcnTextBlockOuter\">\r\n                  <tr>\r\n                    <td valign=\"top\" class=\"mcnTextBlockInner\" style=\"padding-top: 9px;\">\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"max-width: 100%; min-width: 100%;\" width=\"100%\" class=\"mcnTextContentContainer\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td\r\n                              valign=\"top\"\r\n                              class=\"mcnTextContent\"\r\n                              style=\"padding: 0px 18px 9px; color: #222222; font-family: 'Merriweather Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 18px; font-style: normal; font-weight: normal; line-height: 150%;\" >\r\n                              <div style=\"text-align: left;\">\r\n                                <span style=\"font-size: 20px;\">\r\n                                  <span style=\"font-family: merriweather sans, helvetica neue, helvetica, arial, sans-serif;\">\r\n\t\t\t\t\t\t\t\t\r\n                                   <b> Hi \r\n\t\t\t\t\t\t\t\t   <span style=\"color: blue;\">${reciever.firstName || reciever.email || reciever.phone}</span>,                             <br /><br />\r\n                                    Please see below your parking E-permit reservation details:</b> <br /><br />\r\n\r\n\t\t\t\t\t\t\t\t\t${reciever.firstName? `\r\n\t\t\t\t\t\t\t\t\tName of the person: <b>${reciever.firstName} ${reciever.lastName}</b><br />\r\n\t\t\t\t\t\t\t\t\tYour License plate #: <b>${reciever.licensePlate} </b>                      <br />\r\n\t\t\t\t\t\t\t\t\t`: \"\"}\r\n                            \r\n                                    Issued By: <b>${ENTERPRISE} (${reciever.department || 'Computer Science'})</b>     <br />\r\n                                    Valid From : <b>${reciever.starts}  </b>              <br />\r\n                                    Valid Until : <b>${reciever.ends}  </b>              <br />\r\n                                    Confirmation number : <b>${reciever.id}  </b>            <br />\r\n                                    \r\n\t\t\t\t\t\t\t\t\tLink: <b><a href=\"${reciever.link}\" style=\"color: blue;\">${reciever.link}</a></b>    <br/> <br/>\r\n                                    If you have any questions, please contact ${ENTERPRISE}(${reciever.department || 'Computer Science'}) for more details. Please do not reply to this email    <br /><br />\r\n                                    Happy Parking!\r\n                                  </span>\r\n                                </span>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnDividerBlock\" style=\"min-width: 100%;\">\r\n                <tbody class=\"mcnDividerBlockOuter\">\r\n                  <tr>\r\n                    <td class=\"mcnDividerBlockInner\" style=\"min-width: 100%; padding: 20px 18px;\">\r\n                      <table class=\"mcnDividerContent\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" style=\"min-width: 100%; border-top: 2px solid #00d69e;\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td>\r\n                              <span></span>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnButtonBlock\" style=\"min-width:100%;\">\r\n                  <tbody class=\"mcnButtonBlockOuter\">\r\n                      <tr>\r\n                          <td style=\"padding-top:0; padding-right:18px; padding-bottom:18px; padding-left:18px;\" valign=\"top\" align=\"center\" class=\"mcnButtonBlockInner\">\r\n                              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"mcnButtonContentContainer\" width=\"135px\" style=\"border-collapse: separate !important;border-radius: 9px;background-color: #00D69E;\">\r\n                                  <tbody>\r\n                                      <tr>\r\n                                          <td align=\"center\" valign=\"middle\" class=\"mcnButtonContent\" style=\"font-family: &quot;Merriweather Sans&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 18px; padding: 15px;\">\r\n                                              <a class=\"mcnButton \" title=\"Navigate\" href=\"${ENTERPRISE_GEO_LOCATION_URL}\" target=\"_blank\" style=\"font-weight: bold;letter-spacing: normal;line-height: 100%;text-align: center;text-decoration: none;color: #FFFFFF;\">Navigate</a>\r\n                                          </td>\r\n                                      </tr>\r\n                                  </tbody>\r\n                              </table>\r\n                          </td>\r\n                      </tr>\r\n                  </tbody>\r\n              </table>\r\n              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnDividerBlock\" style=\"min-width: 100%;\">\r\n                <tbody class=\"mcnDividerBlockOuter\">\r\n                  <tr>\r\n                    <td class=\"mcnDividerBlockInner\" style=\"min-width: 100%; padding: 4px 18px;\">\r\n                      <table class=\"mcnDividerContent\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" style=\"min-width: 100%; border-top: 2px solid #00d69e;\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td>\r\n                              <span></span>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td valign=\"top\" id=\"templateBody\">\r\n              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnTextBlock\" style=\"min-width: 100%;\">\r\n                <tbody class=\"mcnTextBlockOuter\">\r\n                  <tr>\r\n                    <td valign=\"top\" class=\"mcnTextBlockInner\" style=\"padding-top: 9px;\">\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"max-width: 100%; min-width: 100%;\" width=\"100%\" class=\"mcnTextContentContainer\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td valign=\"top\" class=\"mcnTextContent\" style=\"padding: 0px 18px 9px; color: #ffffff; font-family: Roboto, 'Helvetica Neue', Helvetica, Arial, sans-serif; font-size: 18px; line-height: 200%; text-align: center;\">\r\n                              <span style=\"color: #000000;\"><span style=\"font-size: 24px;\">Join the community</span></span>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnFollowBlock\" style=\"min-width: 100%;\">\r\n                <tbody class=\"mcnFollowBlockOuter\">\r\n                  <tr>\r\n                    <td align=\"center\" valign=\"top\" style=\"padding: 9px;\" class=\"mcnFollowBlockInner\">\r\n                      <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnFollowContentContainer\" style=\"min-width: 100%;\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td align=\"center\" style=\"padding-left: 9px; padding-right: 9px;\">\r\n                              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"mcnFollowContent\">\r\n                                <tbody>\r\n                                  <tr>\r\n                                    <td align=\"center\" valign=\"top\" style=\"padding-top: 9px; padding-right: 9px; padding-left: 9px;\">\r\n                                      <table align=\"center\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\">\r\n                                        <tbody>\r\n                                          <tr>\r\n                                            <td align=\"center\" valign=\"top\">\r\n                                              <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"mcnFollowStacked\" style=\"display: inline;\">\r\n                                                <tbody>\r\n                                                  <tr>\r\n                                                    <td align=\"center\" valign=\"top\" class=\"mcnFollowIconContent\" style=\"padding-right: 10px; padding-bottom: 9px;\">\r\n                                                      <a href=\"https://www.facebook.com/ParkStash/\" target=\"_blank\">\r\n                                                        <img\r\n                                                          src=\"https://res.cloudinary.com/ssaran97/image/upload/v1593465697/email/facebook_color.png\"\r\n                                                          alt=\"Facebook\"\r\n                                                          class=\"mcnFollowBlockIcon\"\r\n                                                          width=\"48\"\r\n                                                          style=\"width: 48px; max-width: 48px; display: block;\"\r\n                                                        />\r\n                                                      </a>\r\n                                                    </td>\r\n                                                  </tr>\r\n                                                </tbody>\r\n                                              </table>\r\n                                              <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"mcnFollowStacked\" style=\"display: inline;\">\r\n                                                <tbody>\r\n                                                  <tr>\r\n                                                    <td align=\"center\" valign=\"top\" class=\"mcnFollowIconContent\" style=\"padding-right: 10px; padding-bottom: 9px;\">\r\n                                                      <a href=\"https://www.instagram.com/parkstash/\" target=\"_blank\">\r\n                                                        <img\r\n                                                          src=\"https://res.cloudinary.com/ssaran97/image/upload/v1593465820/email/instagram_color.png\"\r\n                                                          alt=\"Instagram\"\r\n                                                          class=\"mcnFollowBlockIcon\"\r\n                                                          width=\"48\"\r\n                                                          style=\"width: 48px; max-width: 48px; display: block;\"\r\n                                                        />\r\n                                                      </a>\r\n                                                    </td>\r\n                                                  </tr>\r\n                                                </tbody>\r\n                                              </table>\r\n                                              <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"mcnFollowStacked\" style=\"display: inline;\">\r\n                                                <tbody>\r\n                                                  <tr>\r\n                                                    <td align=\"center\" valign=\"top\" class=\"mcnFollowIconContent\" style=\"padding-right: 10px; padding-bottom: 9px;\">\r\n                                                      <a href=\"https://www.twitter.com/ParkStash/\" target=\"_blank\">\r\n                                                        <img\r\n                                                          src=\"https://res.cloudinary.com/ssaran97/image/upload/v1593465823/email/twitter_color.png\"\r\n                                                          alt=\"Twitter\"\r\n                                                          class=\"mcnFollowBlockIcon\"\r\n                                                          width=\"48\"\r\n                                                          style=\"width: 48px; max-width: 48px; display: block;\"\r\n                                                        />\r\n                                                      </a>\r\n                                                    </td>\r\n                                                  </tr>\r\n                                                </tbody>\r\n                                              </table>\r\n                                              <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" class=\"mcnFollowStacked\" style=\"display: inline;\">\r\n                                                <tbody>\r\n                                                  <tr>\r\n                                                    <td align=\"center\" valign=\"top\" class=\"mcnFollowIconContent\" style=\"padding-right: 0; padding-bottom: 9px;\">\r\n                                                      <a href=\"https://medium.com/@ParkStash\" target=\"_blank\">\r\n                                                        <img\r\n                                                          src=\"https://res.cloudinary.com/ssaran97/image/upload/v1593465822/email/medium_color.png\"\r\n                                                          alt=\"Medium\"\r\n                                                          class=\"mcnFollowBlockIcon\"\r\n                                                          width=\"48\"\r\n                                                          style=\"width: 48px; max-width: 48px; display: block;\"\r\n                                                        />\r\n                                                      </a>\r\n                                                    </td>\r\n                                                  </tr>\r\n                                                </tbody>\r\n                                              </table>\r\n                                            </td>\r\n                                          </tr>\r\n                                        </tbody>\r\n                                      </table>\r\n                                    </td>\r\n                                  </tr>\r\n                                </tbody>\r\n                              </table>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnTextBlock\" style=\"min-width: 100%;\">\r\n                <tbody class=\"mcnTextBlockOuter\">\r\n                  <tr>\r\n                    <td valign=\"top\" class=\"mcnTextBlockInner\" style=\"padding-top: 9px;\">\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" style=\"max-width: 100%; min-width: 100%;\" width=\"100%\" class=\"mcnTextContentContainer\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td valign=\"top\" class=\"mcnTextContent\" style=\"padding-top: 0; padding-right: 18px; padding-bottom: 9px; padding-left: 18px;\">\r\n                              <div style=\"text-align: center;\">\r\n                                <span style=\"font-size: 20px;\">\r\n                                  <span style=\"color: #000000;\">\r\n                                    <span style=\"font-family: merriweather sans, helvetica neue, helvetica, arial, sans-serif;\">\r\n                                      Sent with&nbsp;\r\n                                      <img data-file-id=\"966703\" height=\"16\" src=\"https://res.cloudinary.com/ssaran97/image/upload/v1575913437/email/heart.png\" style=\"border: 0px; width: 16px; height: 16px; margin: 0px;\" width=\"16\" />\r\n                                      &nbsp;from <strong>Park</strong>\r\n                                    </span>\r\n                                  </span>\r\n                                  <strong>\r\n                                    <span style=\"color: #00d69e;\"><span style=\"font-family: merriweather sans, helvetica neue, helvetica, arial, sans-serif;\">Stash</span></span>\r\n                                  </strong>\r\n                                </span>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n              <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" class=\"mcnDividerBlock\" style=\"min-width: 100%;\">\r\n                <tbody class=\"mcnDividerBlockOuter\">\r\n                  <tr>\r\n                    <td class=\"mcnDividerBlockInner\" style=\"min-width: 100%; padding: 18px;\">\r\n                      <table class=\"mcnDividerContent\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" style=\"min-width: 100%; border-top: 2px solid #00d69e;\">\r\n                        <tbody>\r\n                          <tr>\r\n                            <td>\r\n                              <span></span>\r\n                            </td>\r\n                          </tr>\r\n                        </tbody>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td valign=\"top\" id=\"templateColumns\">\r\n              <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"200\" class=\"columnWrapper\">\r\n                <tr>\r\n                  <td valign=\"top\" class=\"columnContainer\"></td>\r\n                </tr>\r\n              </table>\r\n              <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"200\" class=\"columnWrapper\">\r\n                <tr>\r\n                  <td valign=\"top\" class=\"columnContainer\"></td>\r\n                </tr>\r\n              </table>\r\n              <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"200\" class=\"columnWrapper\">\r\n                <tr>\r\n                  <td valign=\"top\" class=\"columnContainer\"></td>\r\n                </tr>\r\n              </table>\r\n            </td>\r\n          </tr>\r\n          <tr>\r\n            <td valign=\"top\" id=\"templateFooter\"></td>\r\n          </tr>\r\n        </table>\r\n      </td>\r\n    </tr>\r\n  </table>\r\n</body>\r\n</html>\r\n`","import moment from \"moment\";\r\nimport { defaultLocation } from \"../../config\";\r\nimport { AddressData } from \"../../hooks/places_v1\";\r\n\r\nconst now = moment();\r\nconst later = moment().add(\"hours\", 2);\r\n\r\ninterface Location {\r\n  lat: number;\r\n  lng: number;\r\n  address: string;\r\n}\r\nexport interface SearchNearbyQuery {\r\n  long: number;\r\n  lat: number;\r\n  start_date: string;\r\n  amenities?: string[],\r\n  end_date: string;\r\n  end_hour?: string;\r\n  start_hour?: string;\r\n  vehicle_classes: string[];\r\n  booking_type: \"daily\" | \"weekly\" | \"monthly\";\r\n}\r\nexport enum ActionTypes {\r\n  SET_SEARCH = \"SET_SEARCH\",\r\n  SET_ADDRESS_DATA = \"SET_ADDRESS_DATA\",\r\n // SET_START_DATE = 'SET_START_DATE'\r\n}\r\n\r\nexport interface SearchStoreState {\r\n  query: SearchNearbyQuery;\r\n  addressData: Partial<AddressData>;\r\n  locations: Location[];\r\n  error: boolean;\r\n  loading: boolean;\r\n}\r\ninterface Actions {\r\n  type: ActionTypes;\r\n  payload: Partial<SearchStoreState>;\r\n}\r\n\r\nconst intialState: SearchStoreState = {\r\n  query: {\r\n    long: -1,\r\n    lat: -1,\r\n    start_date: now.format(\"YYYY-MM-DD\"),\r\n    end_date: later.format(\"YYYY-MM-DD\"),\r\n    start_hour: now.format(\"HH:mm\"),\r\n    end_hour: later.format(\"HH:mm\"),\r\n    amenities: [],\r\n    booking_type: \"daily\",\r\n    vehicle_classes: [\"mid_size_car\"],\r\n  },\r\n  locations: [],\r\n  addressData: {\r\n    formattedAddress: '',\r\n    geo: defaultLocation\r\n  },\r\n  error: false,\r\n  loading: false,\r\n};\r\n\r\n\r\n\r\nexport default function rootReducer(state = intialState, action: Actions): any {\r\n  switch (action.type) {\r\n    case ActionTypes.SET_SEARCH:\r\n      return { ...state, query: { ...state.query, ...action.payload.query } };\r\n\r\n      case ActionTypes.SET_ADDRESS_DATA:\r\n        return { ...state, \r\n          addressData: { ...state.addressData, ...action.payload.addressData },\r\n          locations: [...state.locations, {\r\n            lat: action?.payload?.addressData?.geo?.lat,\r\n            lng: action?.payload?.addressData?.geo?.lng,\r\n            address: action?.payload?.addressData?.formattedAddress\r\n          }]\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","\r\nimport { post, authGet, authPost, customPost, authUpload, get, authDelete , deleteReq} from './request';\r\nimport { API, API2, ENTERPRISE, ENTERPRISE_GEO_LOCATION_URL, googleAPIKey  } from '../config'\r\nimport { EditAnnouncement, AddAnnouncement } from '../model/domain/announcements';\r\nimport { Garage, UpdateGarageModel, GarageOccupancyTable, AddGarageModel } from '../model/domain/garage';\r\nimport { FlatValue, TimeSeries } from '../model/domain/metrics';\r\nimport { EnterpriseRole } from '../model/domain/enterprise';\r\nimport { RootPermit } from '../store/reducer/permit';\r\nimport { getEmailTemplate } from '../utils/email';\r\n\r\nexport interface UserInfo {\r\n  id: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  department: string;\r\n  starts: string;\r\n  ends: string;\r\n  licensePlate: string;\r\n  type: string;\r\n  phone: string;\r\n  email: string;\r\n  location: string;\r\n  link: string;\r\n  isCompleting: boolean;\r\n}\r\n\r\n\r\nconst getMessageTemplate =(info: UserInfo)=>{\r\n  return `E-Permit request confirmation: ${info.id}. \\n\r\n  Hi ${info.firstName}, your request for E-permit from the ${ENTERPRISE} ${info.department? \"(\" +info.department+ \")\": \"\"} has been confirmed with ParkStash and it starts at ${info.starts} and ends on ${info.ends}. More detail has been sent to your email.\r\n  Permit Link: ${info.link} \\n\r\n  Navigation Link: ${ENTERPRISE_GEO_LOCATION_URL}\r\n  `;\r\n}\r\n\r\ninterface Body {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  licensePlate: string;\r\n  phone: string;\r\n  vaccine: string;\r\n  date: string;\r\n  end?: string;\r\n  type? : string;\r\n  location: string;\r\n  space: number;\r\n  link?: string;\r\n}\r\n\r\nconst getPlaces = (addr: string)=> fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${addr}&key=${googleAPIKey}`).then((res) => res.json()) \r\nconst sendTowEmail = (body: Body) => authPost('https://test.findparkstash.com/api/v1/utils/tow', body);\r\nconst sendTowEmail2 = (body: Body) => authPost('https://test.findparkstash.com/api/v1/utils/tow2', body);\r\nconst route = (route : string )=> API + route;\r\nconst route2 = (route : string )=> API2 + route;\r\n //User\r\n const auth = ()=> authGet(route(\"/v1/users/me\"), false);\r\n const getUser = auth;\r\n\r\n //Password Forget\r\n const forgotPassword = (props: any) => post(route(\"/users/password/forgot\"), props);\r\n const confirmEmail = (props: any) => post(route(\"/users/password/verify-forgot\"), props);\r\n const resetPassword = (header: any, props: any) => customPost( route(\"/users/password/change\"), header, props);\r\n\r\n const login = (props : any)=> post(route(\"/v1/login\"), props);\r\n const signup = (props: any)=> post(route(\"/v1/signup\"), props); \r\n \r\n//Enterpises\r\nconst selectEnterpise = (enterpriseId: string, userId: string)=> authPost(route(`/v1/enterprises/${enterpriseId}/users/${userId}/onboard/request`), {role: \"member\"}); \r\nconst getEnterprises = ()=> authGet(route(\"/v1/enterprises\"), false);\r\nconst getEnterpriseByUserId = (userId : string)=> authGet(route(`/v1/enterprises/search/by-user?userId=${userId}&fields=roles,capabilities`), false);\r\nconst getEnterprise = (eId : string)=> authGet(route(`/v1/enterprises/${eId}?fields=roles,capabilities`), false);\r\nconst getEnterpriseUsers = (eId : string, includeUnderCovers: boolean)=> authGet(route(`/v1/enterprises/${eId}/users?includeUnderCovers=${includeUnderCovers? 'true': 'false'}`));\r\nconst removeEnterpriseUser = (eid: string, userId : string)=> authPost(route(`/v1/enterprises/${eid}/users/${userId}/remove`),{});\r\nconst rejectEnterpriseUser = (eid: string, userId : string)=> authPost(route(`/v1/enterprises/${eid}/users/${userId}/onboard/reject`),{});\r\nconst acceptEnterpriseUser = (eid: string, userId : string)=> authPost(route(`/v1/enterprises/${eid}/users/${userId}/onboard/approve`), {});\r\nconst listMyScoreCardDescriptors = (eId: string, userId : string)=> authGet(route(`/v1/enterprises/scoreCardDescriptors?filter=user_specific&userId=${userId}&enterpriseId=${eId}`), false);\r\nconst listScoreCardDescriptors = ()=> authGet(route(`/v1/enterprises/scoreCardDescriptors`), false);\r\nconst getScoreCardValues = (eId: string, userId : string, scoreCards: string[])=> authGet(route(`/v1/enterprises/${eId}/users/${userId}/scoreCardValues?scoreCards=${scoreCards.join(',')}`), false);\r\n\r\n//Roles\r\nconst addRole = (eid : string, role: EnterpriseRole)=> authPost(route(`/v1/enterprises/${eid}/roles`), role);\r\nconst editRole = (eid : string,role: EnterpriseRole)=> authPost(route(`/v1/enterprises/${eid}/roles/edit`),role);\r\nconst assignRole = (eid : string,role: string, assigneeId: string)=> authPost(route(`/v1/enterprises/${eid}/roles/assign`), { role, assigneeId });\r\nconst removeRole = (eid : string, role: string)=> authPost(route(`/v1/enterprises/${eid}/roles/remove`), { role });\r\n\r\n //Metrics\r\n const getTimeSeries = (eId: string, props:  any)=> authGet(route(`/v1/enterprises/${eId}/metrics/timeSeries?timeSeriesQuery=`+ JSON.stringify(props)));\r\n const getTimeSeriesMetricDescriptor = (eId: string, metricType:  string)=> authGet(route(`/v1/enterprises/${eId}/metrics/timeSeriesMetricDescriptors/${metricType}`));\r\n\r\n //Garages\r\n const getGarages = (eid: string)=> authGet(route(`/v1/enterprises/${eid}/garages`));\r\n const addGarage = (eid : string, garage: AddGarageModel)=> authPost(route(`/v1/enterprises/${eid}/garages`), garage);\r\n const editGarage = (eid : string, garageId: string, garage: UpdateGarageModel)=> authPost(route(`/v1/enterprises/${eid}/garages/${garageId}/edit`), garage);\r\n  const removeGarage = (eid : string, garageId: string)=> authPost(route(`/v1/enterprises/${eid}/garages/${garageId}/remove`), {});\r\n //Occupancy Table\r\n const getOccupancyTables = (eId: string)=> authGet(route(`/v1/enterprises/${eId}/garageOccupancyTables`));\r\n const getOccupancyTableById = (eId: string, tId: string)=> authGet(route(`/v1/enterprises/${eId}/garageOccupancyTables/${tId}`), false);\r\n const addOccupancyTable = (eId: string, props: GarageOccupancyTable)=> authPost(route(`/v1/enterprises/${eId}/garageOccupancyTables`), props);\r\n const removeOccupancyTable = (eId: string,tId: string)=> authPost(route(`/v1/enterprises/${eId}/garageOccupancyTables/${tId}/remove`), {});\r\n const editOccupancyTable = (eId: string,tId: string, table: GarageOccupancyTable)=> authPost(route(`/v1/enterprises/${eId}/garageOccupancyTables/${tId}/edit`), table)\r\n\r\n //announcement\r\nconst getAnnoucements = (eid: string) => authGet(route(`/v1/enterprises/${eid}/announcements`));\r\nconst addAnnoucement = (eid: string, addBody : AddAnnouncement) => authPost(route(`/v1/enterprises/${eid}/announcements`), addBody);\r\nconst deleteAnnoucement = (eid : string, aid : string) => authPost(route(`/v1/enterprises/${eid}/announcements/${aid}/remove`), {});\r\nconst editAnnoucement = (eid : string, aid : string, editBody : EditAnnouncement) => authPost(route(`/v1/enterprises/${eid}/announcements/${aid}/edit`), editBody);\r\n\r\n//Widgets\r\nconst getWidgets = (eId : string)=>authGet(route(`/v1/enterprises/${eId}/dashboards`), true);\r\nconst getScoreCardOptions = (eId : string, resource = undefined)=> authGet(route(`/v1/enterprises/${eId}/metrics/flatValueMetricDescriptors/${resource? `search/by-resourceType?resourceType=${resource}`: \"\"}`), false);\r\nconst getFlatValue = (eId: string, metrics: FlatValue.Query)=>authGet(route(`/v1/enterprises/${eId}/metrics/flatValue?flatValueQuery=` + JSON.stringify(metrics)), false)\r\nconst getFlatValueMetricDes = (eId: string, metrics: FlatValue.MetricDescriptor)=>authGet(route(`/v1/enterprises/${eId}/metrics/flatValueMetricDescriptors/` + metrics), false)\r\nconst downloadCSv = (eId : string, download: string, ts: string)=> authPost(route(`/v1/enterprises/${eId}/metrics/csv-export/${download}?${ts}`), {},false);\r\n\r\nconst getPastAbnormalityEvent = (eId: string)=> authGet(route(`/v1/enterprises/${eId}/garages/pastAbnormalEvents`), false);\r\nconst getAbnormalityEvent = (eId: string)=> authGet(route(`/v1/enterprises/${eId}/garages/activeAbnormalEvents`), false);\r\nconst getConfig = ()=> authGet(route(`/config`), false);\r\n\r\nconst uploadImage = (file: any)=> authUpload(route(`/v1/utils/uploadTempImages`), file);\r\nconst getImageUrl = (f: string)=> authGet(route(`/v1/utils/downloadTempImage/${f}`), false)\r\nconst getCapabilityDescriptors = ()=> authGet(route(`/v1/enterprises/capabilityDescriptors`), false);\r\n\r\n\r\n\r\n const getAllPermits = () => get(route2(\"/epermit/all\"));\r\n const addEpermit = (epermit: Partial<RootPermit>) => post(route2(\"/epermit\"), { epermit } , false);\r\n \r\n const resetEpermit = () => deleteReq(route2(\"/epermit/reset\"));\r\n const addResidence = (epermit: Partial<RootPermit>, eId: string) => post(route2(\"/epermit/\"+ eId), { epermit } , false);\r\n\r\n\r\n const customEmail = (to: string, info: UserInfo) => authPost(route2('/email'), {\r\n  \"from\" :\"ParkStash <important@findparkstash.com>\",\r\n   to,\r\n  \"subject\": \"ParkStash E-Permit Details\",\r\n  \"html\": getEmailTemplate(info)\r\n});\r\n\r\nconst customSms = (to: string, info: UserInfo) => authPost(route2('/sms'), {\r\n   to,\r\n  \"msg\": getMessageTemplate(info)\r\n});\r\n\r\n\r\n\r\nexport default {\r\n  getGarages, getTimeSeries, addGarage, editGarage,\r\n  auth, getUser, login, signup, getTimeSeriesMetricDescriptor,\r\n  forgotPassword,confirmEmail, resetPassword, \r\n  selectEnterpise, getEnterprises, getEnterpriseByUserId, getEnterpriseUsers,\r\n  removeEnterpriseUser, rejectEnterpriseUser, acceptEnterpriseUser,\r\n  getAnnoucements, addAnnoucement, deleteAnnoucement, editAnnoucement,\r\n  getWidgets, getScoreCardOptions,\r\n  getFlatValue,  getFlatValueMetricDes, getEnterprise, removeGarage,\r\n  getOccupancyTables, addOccupancyTable, removeOccupancyTable, editOccupancyTable, getOccupancyTableById,\r\n  downloadCSv, getConfig,  getAbnormalityEvent, getPastAbnormalityEvent, uploadImage, getImageUrl, getCapabilityDescriptors,\r\n  removeRole, editRole, assignRole, addRole, listMyScoreCardDescriptors, getScoreCardValues, listScoreCardDescriptors,\r\n  \r\n  getPlaces, sendTowEmail, sendTowEmail2,\r\n  getAllPermits, addEpermit, addResidence, resetEpermit,\r\n  customEmail, customSms\r\n }\r\n","\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst useDebounce = (value: any, delay = 500) => {\r\n  // State and setters for debounced value\r\n  const [debouncedValue, setDebouncedValue] = useState(value);\r\n\r\n  useEffect(\r\n    () => {\r\n      const handler = setTimeout(() => {\r\n        setDebouncedValue(value);\r\n      }, delay);\r\n\r\n     \r\n      return () => {\r\n        clearTimeout(handler);\r\n      };\r\n    },\r\n    [value] \r\n  );\r\n\r\n  return debouncedValue;\r\n}\r\n\r\nexport default useDebounce;","import { useEffect, useState } from \"react\";\r\nimport api from \"../api\";\r\nimport useDebounce from \"./debounce\";\r\n\r\ntype Cood = {\r\n  lat: number;\r\n  lng: number;\r\n};\r\n\r\ninterface Address {\r\n  city: string;\r\n  country: string;\r\n  zipcode: string;\r\n  street: string;\r\n  state: string;\r\n}\r\nexport  interface AddressData {\r\n  geo: Cood;\r\n  formattedAddress: string;\r\n  address?: Address;\r\n}\r\ninterface State {\r\n  loading: boolean;\r\n  error: boolean;\r\n  success: boolean;\r\n  addressData : AddressData;\r\n}\r\n\r\nconst address_components = [\r\n  \"route\",\r\n  \"locality\",\r\n  \"administrative_area_level_1\",\r\n  \"country\",\r\n  \"postal_code\",\r\n];\r\n\r\nexport const usePlaces = (country = '', neededsAll = true) => {\r\n  \r\n  const defaultAddressData = {\r\n    geo: {\r\n      lat: -1,\r\n      lng: -1\r\n    },\r\n    address: {\r\n      city: \"\",\r\n      country: \"\",\r\n      zipcode: \"\",\r\n      street: \"\",\r\n      state: \"\",\r\n    },\r\n    formattedAddress: \"No Result Found\",\r\n  };\r\n\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const debouncedSearchText = useDebounce(searchText, 1500);\r\n  const [state, setState] = useState<State>({\r\n    loading: false,\r\n    success: false,\r\n    error: false,\r\n    addressData : defaultAddressData,\r\n  });\r\n\r\n  const getAddressComponent = (addresses: any[], component: string) =>\r\n    addresses.filter((address: any) =>\r\n      address.types.includes(component)\r\n    )[0]\r\n\r\n  const hasAllAddressComponent = (addresses: any[], address_components: string[]) =>\r\n    address_components.reduce(\r\n      (acc, curr) =>\r\n        acc &&\r\n        addresses.reduce(\r\n          (ac: boolean, address: any) =>\r\n            ac || address.types?.includes(curr),\r\n          false\r\n        ),\r\n      true\r\n    );\r\n\r\n  const formatAddress = (addresses: any) => ({\r\n    street: `${getAddressComponent(\r\n      addresses,\r\n      \"street_number\"\r\n    )?.short_name || ''} ${getAddressComponent(addresses, \"route\")?.short_name || ''}`.trim(),\r\n    city: getAddressComponent(addresses, \"locality\")?.short_name || '',\r\n    state: getAddressComponent(\r\n      addresses,\r\n      \"administrative_area_level_1\"\r\n    ).short_name || '',\r\n    country: getAddressComponent(addresses, \"country\")?.short_name || '',\r\n    zipcode: getAddressComponent(addresses, \"postal_code\")?.short_name || '',\r\n  })\r\n\r\n  const getAddress = () => {\r\n    if (searchText.length > 0) {  \r\n\r\n      api.getPlaces(searchText)\r\n        .then((res) => {\r\n          if (res.status === \"OK\" && res?.results?.length > 0) {\r\n            const filteredResults = res.results.filter(({ address_components }: any) =>\r\n              !country || (getAddressComponent(address_components, \"country\")?.short_name === country)\r\n            )\r\n\r\n            if (filteredResults.length === 0) throw new Error('No result')\r\n\r\n            const formattedAddress = filteredResults[0].formatted_address;\r\n            const geo = {\r\n              lat: filteredResults[0].geometry.location.lat,\r\n              lng: filteredResults[0].geometry.location.lng,\r\n            } as Cood;\r\n\r\n            const addresses = filteredResults[0].address_components;\r\n\r\n            if (hasAllAddressComponent(addresses, address_components) || !neededsAll) {\r\n              const address = formatAddress(addresses);\r\n              console.log({ address })\r\n              setState({\r\n                error: false,\r\n                loading: false,\r\n                success: true,\r\n                addressData: {\r\n                  geo,\r\n                  formattedAddress,\r\n                  address,\r\n                },\r\n              });\r\n            }\r\n          } else throw new Error('All Component not found')\r\n        })\r\n        .catch((error) => {\r\n          setState({ loading: false, error: true, success: false, addressData: defaultAddressData });\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getAddress()\r\n  }, [debouncedSearchText])\r\n\r\n  useEffect(() => {\r\n    if(searchText.length > 0){\r\n      setState({ loading: true, error: false, success: false, addressData: defaultAddressData });\r\n    } else {\r\n      setState({ loading: false, error: false, success: false, addressData: defaultAddressData });\r\n    }\r\n  }, [searchText])\r\n\r\n  return {\r\n    ...state,\r\n    searchText,\r\n    setSearchText\r\n  };\r\n};\r\n\r\nexport default { usePlaces };\r\n","import { AddressData } from \"../../hooks/places_v1\";\r\nimport { ActionTypes, SearchNearbyQuery } from \"../reducer/search\";\r\n\r\nconst defaultQuery = {\r\n  amenities: [],\r\n  vehicle_classes: [],\r\n  booking_type: \"daily\",\r\n};\r\n\r\nexport const setQuery = (query: Partial<SearchNearbyQuery>) => {\r\n  return async (dispatch: any) => {\r\n    dispatch({\r\n      type: ActionTypes.SET_SEARCH,\r\n      payload: { query },\r\n    });\r\n  };\r\n};\r\n\r\nexport const setAddressData = (addressData: Partial<AddressData>) => {\r\n  return async (dispatch: any) => {\r\n    dispatch({\r\n      type: ActionTypes.SET_ADDRESS_DATA,\r\n      payload: { addressData },\r\n    });\r\n\r\n    dispatch({\r\n      type: ActionTypes.SET_SEARCH,\r\n      payload: { query : {\r\n        geo: [addressData.geo?.lng,  addressData.geo?.lat, ],\r\n        lat: addressData.geo?.lat,\r\n        long: addressData.geo?.lng\r\n      } },\r\n    });\r\n  };\r\n};\r\n\r\n\r\nexport const setDefault = () => {\r\n  return async (dispatch: any) => {\r\n    dispatch({\r\n      type: ActionTypes.SET_SEARCH,\r\n      payload: { query: defaultQuery },\r\n    });\r\n  };\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Card, Grid, Loader } from \"platyplex_ui\";\r\nimport { Popover } from \"antd\";\r\nimport { disabledTxtColor2 } from \"../../../../config\";\r\nimport { useSize } from \"../../../../hooks/size\";\r\nimport { usePlaces } from \"../../../../hooks/places_v1\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAddressData } from \"../../../../store/actions/search\";\r\n\r\nconst LocationSearcher = () => {\r\n  const { container, width } = useSize();\r\n  const { searchText, addressData, loading, setSearchText } = usePlaces(\r\n    \"\",\r\n    false\r\n  );\r\n  const [visible, setVisible] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = ({ target }: any) => {\r\n    setSearchText(target.value);\r\n    setVisible(true);\r\n  };\r\n\r\n  return (\r\n    <Popover\r\n      visible={visible}\r\n      placement=\"bottom\"\r\n      content={\r\n        loading ? (\r\n          <Grid\r\n            style={{ minWidth: 500, maxWidth: \"90vw\" }}\r\n            customCols=\"1fr auto auto 1fr\"\r\n          >\r\n            <span />\r\n            <span>\r\n              <Loader.Spinner />\r\n            </span>\r\n            Loading\r\n          </Grid>\r\n        ) : (\r\n          <Grid\r\n            placeItems=\"center stretch\"\r\n            customCols=\"1fr auto\"\r\n            style={{ width }}\r\n          >\r\n            <div\r\n              className=\"pointer noselect\"\r\n              onClick={() => {\r\n                if (addressData.formattedAddress !== \"No Result Found\") {\r\n                  setSearchText(addressData.formattedAddress);\r\n                  dispatch(setAddressData(addressData));\r\n                }\r\n                setVisible(false);\r\n              }}\r\n            >\r\n              {addressData.formattedAddress}\r\n            </div>\r\n            <i\r\n              className=\"fa fa-times-circle pointer txt-md\"\r\n              onClick={() => setVisible(false)}\r\n            />\r\n          </Grid>\r\n        )\r\n      }\r\n    >\r\n      <Card margin=\"0\" grid placeItems=\"center stretch\">\r\n        <input\r\n          ref={container}\r\n          placeholder=\"Where to? \"\r\n          style={{\r\n            width: \"100%\",\r\n            background: disabledTxtColor2,\r\n            borderRadius: \"1.5em\",\r\n            padding: \".5em 20px\",\r\n            border: \"1px solid \" + disabledTxtColor2,\r\n          }}\r\n          onChange={handleChange}\r\n          value={searchText}\r\n        />\r\n      </Card>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default LocationSearcher;\r\n","\r\nimport React from 'react';\r\nimport styled from 'styled-components';\r\nimport { Avatar, Text as Txt , Header, Grid} from 'platyplex_ui';\r\nimport { mobileWidth,  gradient, disabledTxtColor } from '../../config';\r\nimport { useLocation } from \"react-router\";\r\nimport logo from '../../assets/parkstash_logo.png';\r\nimport { Popover, Menu, Badge } from 'antd';\r\n\r\nconst TopNavBar = () => {\r\n  const location = useLocation().pathname;\r\n  return (\r\n    <MiniNav>\r\n      <Text className=\"capitalize bold txt-md txt-left\" style={{ minWidth: \"100px\", width: \"100%\" }}>\r\n        {location === \"/\" || location === \"/overview\" ? \"Overview\" : location.replace(\"/\", \"\").replace(/-/g, \" \")}\r\n      </Text>\r\n\r\n      <Popover\r\n        placement=\"bottomRight\"\r\n        content={\r\n          <Menu style={{ zIndex: 1000 }}>\r\n            <Menu.Item key=\"0\" className=\"noselect\">\r\n              <Grid customCols='auto 1fr' onClick={() => {}}>\r\n                <i className='fas fa-sign-in-alt txt-md'></i>\r\n                <span>Logout</span>\r\n              </Grid>\r\n            </Menu.Item>\r\n          </Menu>\r\n        }\r\n        trigger=\"hover\"\r\n      >\r\n        <div>\r\n          <Avatar \r\n            className='avatar shadow' \r\n            style={{ background: \"white\", borderRadius: \"50%\", margin: \"0 1em\" }} \r\n            url={logo} \r\n          />\r\n        </div>\r\n      </Popover>\r\n    </MiniNav>)\r\n}\r\n\r\n\r\nconst Text = styled.div`\r\n    padding-left: 9.5em;\r\n    @media(max-width: ${mobileWidth}){\r\n       padding-left: 0;\r\n       font-size: 1.2em;\r\n    } \r\n  `;\r\n\r\nconst MiniNav = styled.div`\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n  position: fixed;\r\n  font-size: 15px;\r\n  top: 0;\r\n  right : 0;\r\n  left: 0;\r\n  padding: 0 1.5em 0 0;\r\n  z-index: 9;\r\n  width: 100vw;\r\n  height: 4.25em; \r\n\r\n  background: ${gradient};  \r\n  color: white;\r\n  display: grid;\r\n  grid-gap: 1em;\r\n  grid-template-columns: 1fr auto auto;\r\n  grid-template-rows: 1fr;\r\n  place-items: center end;\r\n    @media(max-width: ${mobileWidth}){\r\n      top : inherit;\r\n      padding-left: 0\r\n      grid-gap: .5em;\r\n    } `;\r\n\r\nexport default TopNavBar;","import mo, { Moment as MomentType} from 'moment-timezone';\r\n\r\nexport const moment = mo;\r\n\r\nlet currentTz = getTimezoneFromStore();\r\nlet tzChangeListeners : any[] = [];\r\n\r\nexport const defaultInterval = () => {\r\n  const endTime = moment();\r\n  const startTime = endTime.clone()\r\n    .set('hours', 0)\r\n    .set('minute', 0)\r\n    .set('second', 0)\r\n    .set('millisecond', 0);\r\n  return { endTime: endTime.toISOString(), startTime: startTime.toISOString() };\r\n};\r\n\r\nexport const currentMonth = (month = 0) => {\r\n  const endTime = moment();\r\n  const startTime = endTime.clone()\r\n    .set('month', endTime.month() + month)\r\n    .set('date', 1)\r\n    .set('hours', 0)\r\n    .set('minute', 0)\r\n    .set('second', 0)\r\n    .set('millisecond', 0);\r\n  return { endTime: endTime.toISOString(), startTime: startTime.toISOString() };\r\n};\r\n\r\n\r\n\r\nexport const yearToDate = () => {\r\n  const endTime = moment();\r\n  const startTime = endTime.clone()\r\n    .set('month', 0)\r\n    .set('date', 1)\r\n    .set('hours', 0)\r\n    .set('minute', 0)\r\n    .set('second', 0)\r\n    .set('millisecond', 0);\r\n  return { endTime: endTime.toISOString(), startTime: startTime.toISOString() };\r\n};\r\n\r\nexport const getInterval = (days: number)=>{\r\n  const endTime = moment();\r\n  const startTime = endTime.clone().add(-days, 'day');\r\n  return { endTime, startTime }\r\n}\r\n\r\nfunction getTimezoneFromStore() {\r\n\r\n \r\n}\r\n\r\ninterface TimezoneChangeListener {\r\n  (tz: string): void;\r\n}\r\nexport function addTimezoneChangeListener(listener: TimezoneChangeListener) {\r\n  const exists = !!tzChangeListeners.find(l => l === listener);\r\n  if (!exists) {\r\n    tzChangeListeners.push(listener);\r\n  }\r\n}\r\nexport function removeTimezoneChangeListener(listener: TimezoneChangeListener) {\r\n  tzChangeListeners = tzChangeListeners.filter(l => l === listener);\r\n}\r\n\r\nexport function getTimezone() {\r\n  return currentTz;\r\n}\r\n\r\nexport const FORMAT_DATETIME = 'YYYY-MM-DD hh:mm A';\r\nexport const FORMAT_TIME = 'hh:mm A';\r\nexport const FORMAT_DATETIME_2 = 'ddd MMM DD, YYYY hh:mm A';\r\n\r\n\r\nexport type Moment = MomentType;\r\n","import { primaryColor, primaryTxtColor } from \"../../config\";\r\n\r\nimport React from \"react\";\r\n\r\nexport default () => (\r\n  <span style={{ color: primaryTxtColor }}>\r\n    <span>Park</span>\r\n    <span style={{ color: primaryColor }}>Stash</span>\r\n  </span>\r\n);\r\n","import React from \"react\";\r\nimport styled, { keyframes } from \"styled-components\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { Avatar, Grid } from 'platyplex_ui';\r\nimport { useLocation } from \"react-router\";\r\nimport { disabledTxtColor, mobileWidth, primaryColor, primaryTxtColor } from \"../../config\";\r\nimport { Badge } from \"platyplex_ui\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Enterprise } from \"../../model/domain/enterprise\";\r\nimport logo from '../../assets/logo.png'\r\nconst Sidebar = ({ routes = [] }) => {\r\n  const location = useLocation().pathname;\r\n\r\n  const makeStr = (bool: boolean): string => String(bool);\r\n  const activeStyle = {\r\n    borderLeft: \".3em solid \" + primaryColor,\r\n    color: primaryColor,\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <LeftNav background={\"\"}>\r\n        <Grid.Item hideOnMobile>\r\n          <HideHover>\r\n            <Avatar src={logo}   style={{ fontSize: \"2em\" }}/>\r\n          </HideHover>\r\n          <ShowHover className={\"txt-md txt-center grid \"}>\r\n            <Avatar\r\n              medium\r\n              style={{ fontSize: \"0.9em\" }}\r\n              src={logo}\r\n            />\r\n            <div className=\"capitalize\"> {'Hooman'}</div>\r\n            <Badge\r\n              style={{ fontSize: \".7em\", padding: \".1em .4em\", borderWidth: 2 }}\r\n              inverted\r\n              className={\"shadow capitalize \"}\r\n            >\r\n              {\"member\"}\r\n            </Badge>\r\n          </ShowHover>\r\n        </Grid.Item>\r\n\r\n        {routes.map(({ to, name, icon, displayName }: any, i) => {        \r\n          return (\r\n            <MyNavLink\r\n              className={i > 4 ? \"hide-mobile\" : \"\"}\r\n              key={name}\r\n              style={\r\n    \r\n                to.includes(location) ? activeStyle : {}}\r\n              to={to[0] || \"/\"}\r\n            >\r\n              <i\r\n                style={{ fontSize: \"1.6em\", padding: \"0 .3em\" }}\r\n                className={icon}\r\n              ></i>\r\n              <ShowHover className={\"txt-center hide-mobile \"}>\r\n                {displayName || name}\r\n              </ShowHover>\r\n              <div style={{ height: \"2px\" }}></div>\r\n              <div style={{ width: \"100%\", height: \"2px\" }}>\r\n                {<Line />}\r\n              </div>\r\n            </MyNavLink>\r\n          );\r\n        })}\r\n      </LeftNav>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Line = styled.hr`\r\n  transform: scaleX(0);\r\n`;\r\nconst border = keyframes`from { transform: scaleX(0); } to { transform: scaleX(1);}`;\r\n\r\nconst ShowHover = styled.span`\r\n  display: none;\r\n`;\r\n\r\nconst HideHover = styled.span``;\r\n\r\nconst MyNavLink = styled(NavLink)`\r\n  display: grid;\r\n  text-decoration: none;\r\n  place-items: center;\r\n  color: ${primaryTxtColor};\r\n  font-size: 1.35em;\r\n  cursor: pointer;\r\n  grid-template-columns: 1fr;\r\n  padding: 0.8em 0.4em;\r\n\r\n  @media (max-width: ${mobileWidth}) {\r\n    border-left: 0 !important;\r\n    grid-template-columns: 1fr;\r\n    padding-left: 0.3em;\r\n  }\r\n\r\n  @media (min-width: ${mobileWidth}) {\r\n    &:hover ${Line} {\r\n      color: ${primaryColor};\r\n      animation: ${border} 300ms ease-out;\r\n      transform: scaleX(1);\r\n    }\r\n  }\r\n`;\r\n\r\nconst LeftNav = styled.div<{ background: string }>`\r\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);\r\n  font-size: .8em;\r\n  display: grid;\r\n  padding: .3em;\r\n  position: fixed;\r\n  z-index: 100;\r\n  left: 0;\r\n  bottom: 0;\r\n  top: 0;\r\n  color: ${primaryColor};\r\n  width: 6em;\r\n  grid-template-rows: repeat(16, auto);\r\n  align-items: center;\r\n  justify-items: stretch;\r\n  transition: 100ms ease-out;\r\n  background-color: white;\r\n  background-image: url(${(props) => props.background});\r\n  background-attachment: fixed;\r\n  @media (max-width: ${mobileWidth}) {\r\n    height: 55px;\r\n    width: 100vw;\r\n    top: inherit;\r\n    bottom: 0;\r\n    grid-template-columns: 1fr 1fr 1fr 1fr 1fr;\r\n    grid-template-rows: 1fr;\r\n  }\r\n  &:hover {\r\n    width: 17em;\r\n  }\r\n\r\n  &:hover ${HideHover} {\r\n    display: none;\r\n  }\r\n\r\n  &:hover ${ShowHover} {\r\n    display: block;\r\n  }\r\n\r\n  &:hover ${MyNavLink} {\r\n    grid-template-columns: auto 1fr;\r\n  }\r\n}\r\n`;\r\n\r\nexport default Sidebar;\r\n","import React, { useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport { mobileWidth, disabledTxtColor, gradient } from \"./config\";\r\nimport TopNavBar from \"./components/topnav\";\r\nimport { Grid, Text } from \"platyplex_ui\";\r\nimport { moment } from \"./utils/time\";\r\nimport ParkstashText from \"./components/parkstash-text\";\r\nimport Sidebar from \"./components/sidebar\";\r\n\r\nconst routes = [\r\n  {\r\n     \"to\":[\r\n        \"/\",\r\n        \"/overview\"\r\n     ],\r\n     \"name\":\"overview\",\r\n     \"displayName\":\"Overview\",\r\n     \"icon\":\"fa fa-heartbeat\"\r\n  },\r\n  {\r\n     \"to\":[\r\n        \"/e-permits\"\r\n     ],\r\n     \"name\":\"e-permits\",\r\n     \"displayName\":\"E-permits\",\r\n     \"icon\":\"fas fa-warehouse\"\r\n  },\r\n  {\r\n     \"to\":[\r\n        \"/citations/1\",\r\n        \"/citations/2\",\r\n        \"/citations/3\"\r\n     ],\r\n     \"name\":\"citations\",\r\n     \"displayName\":\"Citations\",\r\n     \"icon\":\"fas fa-money-check-alt\"\r\n  },\r\n  {\r\n    \"to\":[\r\n       \"/enforment-electric-vehicles-dashboard\"\r\n    ],\r\n    \"name\":\"electric\",\r\n    \"displayName\":\"Electric\",\r\n    \"icon\":\"fas fa-bolt\"\r\n },\r\n  {\r\n    \"to\":[\r\n       \"/legal\"\r\n    ],\r\n    \"name\":\"legal\",\r\n    \"displayName\":\"Legal\",\r\n    \"icon\":\"fa fa-gavel\"\r\n },\r\n {\r\n    \"to\":[\r\n       \"/help\"\r\n    ],\r\n    \"name\":\"help\",\r\n    \"displayName\":\"Help\",\r\n    \"icon\":\"fa fa-question-circle\"\r\n }\r\n];\r\n\r\nconst Layout = ({ children, style, sidebar, background, admin, avatarImg }: any) => {\r\n  useEffect(() => window.scrollTo(0, 0), []);\r\n  return (\r\n    <>\r\n      <div>\r\n            {sidebar && <>\r\n                <Sidebar routes={routes} />\r\n                <TopNavBar />\r\n            </>}\r\n        </div>\r\n        <Wrapper background={background} style={style} sidebar={sidebar}>\r\n            <div\r\n                className=\"left-on-desktop\"\r\n                style={{ width: '100%', height: '100%' }}\r\n            >\r\n                {children}\r\n            </div>\r\n            <Grid customCols='1fr' placeSelf=\"end stretch\" padding='0 0 .75em 0'>\r\n                \r\n                <Text color={disabledTxtColor} style={{ placeSelf: \"end center\" }} className=\"left-on-desktop\">\r\n                    © 2018-{moment().year().toString()} ParkStash, All Rights Reserved\r\n                </Text>\r\n\r\n                <Text\r\n            color={disabledTxtColor}\r\n            style={{ placeSelf: \"end center\" }}\r\n            className={sidebar ? \"left-on-desktop\" : \"\"}\r\n          >\r\n            This service is designed and maintained by <ParkstashText />\r\n          </Text>\r\n            </Grid>\r\n        </Wrapper>\r\n    </>\r\n  );\r\n};\r\n\r\ninterface Layout {\r\n  className?: string;\r\n  children: JSX.Element | JSX.Element[];\r\n  maxWidth?: number | string;\r\n  style?: React.CSSProperties;\r\n}\r\n\r\ninterface Top extends Layout {\r\n  customCols?: string;\r\n  noBackground?: boolean;\r\n}\r\n\r\ninterface Bottom extends Layout {\r\n  shiftUp?: boolean;\r\n}\r\n\r\nLayout.Top = ({ className, children, customCols = \"auto 1fr auto\", noBackground = false, maxWidth = '1500px', style = {} }: Top) => {\r\n  style = { ...style, maxWidth, minWidth: '85%' };\r\n  return (\r\n      <div className={className} style={{ paddingBottom: '10em', background: noBackground ? '' : gradient, width: '100%' }}>\r\n          <Grid mobileLayout={false} customCols={customCols} style={style} margin='auto'>\r\n              {children}\r\n          </Grid>\r\n      </div>\r\n  );\r\n};\r\n\r\nLayout.Bottom = ({\r\n  className,\r\n  shiftUp = true,\r\n  children,\r\n  maxWidth = \"1500px\",\r\n  style = {},\r\n}: Bottom) => {\r\n  return (\r\n    <Grid\r\n      margin=\"auto\"\r\n      className={className}\r\n      placeItems=\"start stretch\"\r\n      style={{\r\n        ...style,\r\n        marginTop: shiftUp ? \"-10em\" : \"1em\",\r\n        maxWidth,\r\n        minWidth: \"85%\",\r\n      }}\r\n    >\r\n      {children}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst Wrapper = styled.div<{ background: string | any; sidebar: any }>`\r\n  ${(props) => `\r\n    padding-top: ${props.sidebar ? \"4em\" : 0};\r\n    background: ${props.background ? `url(${props.background})` : \"#F0F3F4\"};`}\r\n  margin: auto;\r\n  min-height: 100vh;\r\n  display: grid;\r\n  place-items: start stretch;\r\n  transition: all 0.5s ease-out;\r\n  background-attachment: fixed;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  background-size: cover;\r\n  @media (max-width: ${mobileWidth}) {\r\n    width: 100vw;\r\n  }\r\n`;\r\n\r\nexport default Layout;\r\n","import ReactDOM from \"react-dom\";\r\nimport { Coords } from \"google-map-react\";\r\nimport location from '../../assets/marker.png'\r\nimport {\r\n  GoogleApiWrapper,\r\n  InfoWindow,\r\n  Map,\r\n  Marker,\r\n  Polygon,\r\n} from \"google-maps-react\";\r\nimport { Grid, Text } from \"platyplex_ui\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport LocationSearcher from \"./location-searcher\";\r\nimport { setAddressData } from \"../../../store/actions/search\";\r\nimport Layout from \"../../../layout\";\r\n\r\nexport class MapContainer extends React.Component<any, any> {\r\n  state = {\r\n    showingInfoWindow: true,\r\n    name: \"\",\r\n    revenue: 0,\r\n    id: 1,\r\n    zoom: 12,\r\n    citation: false,\r\n    transaction: 0,\r\n    activeMarker: {},\r\n    markPosition: { lat: -1, lng: -1 },\r\n    selectedPlace: {},\r\n  };\r\n\r\n  link = React.createRef();\r\n\r\n  render() {\r\n    const stokes = [\"red\", \"blue\", \"green\", \"coral\", \"purple\"];\r\n    const data = [\r\n      { \r\n        id: 1,\r\n        coord: [\r\n          {\r\n            lat: 39.02223,\r\n            lng: -76.95807,\r\n            address: \"10308 TULSA DRIVE, Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.02419,\r\n            lng: -76.95898,\r\n            address: \"10412 TULSA DRIVE, Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.02448,\r\n            lng: -76.95843,\r\n            address: \"10416 TRUXTON ROAD, Adelphi, MD 20783\",\r\n          },\r\n        ],\r\n        revenue: 18200,\r\n        transaction: 830,\r\n        name: \"Thomas E. Dernoga\",\r\n      },\r\n\r\n      {\r\n        id: 1,\r\n        coord: [\r\n          {\r\n            lat: 39.03768,\r\n            lng: -76.94938,\r\n            address: \"10700 Cherry Tree Ct, Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.03771,\r\n            lng: -76.94871,\r\n            address: \"10701 Cherry Tree Ct, Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.03733,\r\n            lng: -76.94876,\r\n            address: \"3229 Cherry Mill Drive , Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.03736,\r\n            lng: -76.95051,\r\n            address: \"3217  Cherry Mill Drive, Adelphi, MD 20783\",\r\n          },\r\n          {\r\n            lat: 39.03768,\r\n            lng: -76.95013,\r\n            address: \"10801 Cherry Blossom Court , Adelphi, MD 20783\",\r\n          },\r\n        ],\r\n        revenue: 18200,\r\n        transaction: 830,\r\n        name: \"Thomas E. Dernoga\",\r\n      },\r\n\r\n      {\r\n        id: 3,\r\n        coord: [\r\n          {\r\n            lat: 39.06866,\r\n            lng: -76.84537,\r\n            address: \"9300 Montpelier Drive, Laurel, MD 20707\",\r\n          },\r\n          {\r\n            lat: 39.06995,\r\n            lng: -76.84352,\r\n            address: \"9314 Montpelier Drive, Laurel, MD 20707\",\r\n          },\r\n        ],\r\n        revenue: 14300,\r\n        transaction: 1122,\r\n        name: \"Deni L. Taveras\",\r\n      },\r\n      {\r\n        id: 2,\r\n        coord: [\r\n          {\r\n            lat: 39.0103099,\r\n            lng: -76.975656,\r\n            address: \"2002 Evansdale Dr, Hyattsville, MD 20783, USA\",\r\n          },\r\n          {\r\n            lat: 39.0107624,\r\n            lng: -76.9728488,\r\n            address: \"2024 Evansdale Dr, Hyattsville, MD 20783, USA\",\r\n          },\r\n          {\r\n            lat: 39.01139,\r\n            lng: -76.974312,\r\n            address: \"8801 Royal Crest Dr, Hyattsville, MD 20783, USA\",\r\n          },\r\n        ],\r\n        revenue: 11878,\r\n        transaction: 943,\r\n        name: \"Todd M. Turner, Chair\",\r\n      },\r\n      {\r\n        id: 2,\r\n        coord: [\r\n          {\r\n            lat: 38.9912064,\r\n            lng: -76.8426131,\r\n            address: \"9401 Copernicus Dr, Lanham, MD 20706, USA\",\r\n          },\r\n          {\r\n            lat: 38.9912458,\r\n            lng: -76.840856,\r\n            address: \"9414 Copernicus Dr, Lanham, MD 20706, USA\",\r\n          },\r\n          {\r\n            lat: 38.9902376,\r\n            lng: -76.84184719999999,\r\n            address: \"7300 Galileo Ct, Lanham, MD 20706, USA\",\r\n          },\r\n          {\r\n            lat: 38.9908361,\r\n            lng: -76.8411263,\r\n            address: \"7307 Galileo Ct, Lanham, MD 20706, USA\",\r\n          },\r\n          {\r\n            lat: 38.990958,\r\n            lng: -76.8400901,\r\n            address: \"7407 Vandenberg Ct, Lanham, MD 20706, USA\",\r\n          },\r\n          {\r\n            lat: 38.9903286,\r\n            lng: -76.8405406,\r\n            address: \"7400 Vandenberg Ct, Lanham, MD 20706, USA\",\r\n          },\r\n        ],\r\n        revenue: 11878,\r\n        transaction: 943,\r\n        name: \"Todd M. Turner, Chair\",\r\n      },\r\n\r\n      {\r\n        id: 2,\r\n        coord: [\r\n          {\r\n            lat: 38.972629,\r\n            lng: -76.977105,\r\n            address: \"2000 Van Buren St, Hyattsville, MD 20782, USA\",\r\n          },\r\n          {\r\n            lat: 38.9752606,\r\n            lng: -76.97740250000001,\r\n            address: \"7003 20th Ave, Hyattsville, MD 20783, USA\",\r\n          },\r\n          {\r\n            lat: 38.9725482,\r\n            lng: -76.977695,\r\n            address: \"6700 20th Ave, Hyattsville, MD 20783, USA\",\r\n          },\r\n        ],\r\n        revenue: 11878,\r\n        transaction: 943,\r\n        name: \"Todd M. Turner, Chair\",\r\n      },\r\n    ];\r\n\r\n    const onMarkerClick = (props: any, marker: any, e: any) => {\r\n      this.setState({\r\n        selectedPlace: props,\r\n        activeMarker: marker,\r\n        showingInfoWindow: true,\r\n      });\r\n    };\r\n\r\n    return (\r\n      <Layout sidebar style={{ gridTemplateRows: \"1fr auto\" }}>\r\n        <Layout.Top>\r\n          \r\n<Grid margin=\".75em\" cols='2' gridGap='.25em'>\r\n      <Link to=\"/citations/1\">\r\n        <Text color=\"white\" bold size='1.25em' >\r\n         Analytics\r\n        </Text>\r\n      </Link>\r\n      <Link to=\"/map\">\r\n        <Text color=\"white\" bold size='1.25em' style={{textDecoration: 'underline'}}> \r\n          Map\r\n        </Text>\r\n      </Link>\r\n    </Grid>\r\n        </Layout.Top>\r\n        <Layout.Bottom style={{width: \"calc(100% - 5em)\", marginLeft: '5em', height: \"100%\"}}  >\r\n    \r\n    <Grid\r\n        placeSelf=\"stretch\"\r\n        style={{ width: \"95%\", height: \"100%\", position: \"relative\" }}\r\n      >\r\n        <NavLink\r\n          to={`/citations/${this.state.id}`}\r\n          style={{ display: \"none\" }}\r\n          ref={this.link as any}\r\n        ></NavLink>\r\n        <div\r\n          style={{ placeSelf: \"start stretch\", zIndex: 10, gridColumnStart: 1 }}\r\n        >\r\n          <LocationSearcher />\r\n        </div>\r\n        <Map\r\n          style={{ gridColumnStart: \"1\" }}\r\n          google={this.props.google as any}\r\n          center={this.props.search.addressData.geo}\r\n          initialCenter={this.props.search.addressData.geo}\r\n          zoom={this.state.zoom}\r\n          onZoomChanged={(_: any, { zoom }: any) => this.setState({ zoom })}\r\n          onClick={(mapProps, map, clickEvent) =>\r\n            console.log({\r\n              lat: clickEvent.latLng.lat(),\r\n              lng: clickEvent.latLng.lng(),\r\n            })\r\n          }\r\n        >\r\n          {data.map(({ coord, name, revenue, transaction, id}, i) =>\r\n            this.state.zoom > 14 ? (\r\n              <Polygon\r\n                paths={coord}\r\n                strokeOpacity={0.8}\r\n                strokeColor={stokes[i]}\r\n                strokeWeight={2}\r\n                onMouseover={(_: any, __: any, e: any) =>\r\n                  this.setState({\r\n                    name,\r\n                    revenue,\r\n                    id,\r\n                    transaction,\r\n                    markPosition: { lat: e.latLng.lat(), lng: e.latLng.lng() },\r\n                  })\r\n                }\r\n                onClick={(mapProps: any, map: any, clickEvent: any) => {}}\r\n                fillColor={stokes[i]}\r\n                fillOpacity={0.35}\r\n              />\r\n            ) : (\r\n              <Marker \r\n               onClick={()=>{\r\n                this.props.setAddressData({ lat: coord[0].lat, lng: coord[0].lng})\r\n                this.setState({ zoom: 15})}\r\n               }\r\n               position={coord[0]} />\r\n            )\r\n          )}\r\n          \r\n\r\n          {this.state.zoom > 14 && (\r\n            <Marker\r\n              opacity={0}\r\n              onMouseover={onMarkerClick}\r\n              position={this.state.markPosition}\r\n            />\r\n          )}\r\n\r\n          {!this.state.citation && (\r\n            <Marker position={this.props.search.addressData.geo} />\r\n          )}\r\n\r\n          <InfoWindowEx\r\n            google={this.props.google}\r\n            map={this.props.map}\r\n            marker={this.state.activeMarker as any}\r\n            visible={this.state.showingInfoWindow}\r\n          >\r\n            <div\r\n              className=\"cursor\"\r\n              onClick={() => {\r\n                const curr = this.link?.current as any;\r\n                curr?.click();\r\n              }}\r\n            >\r\n              <h1>{this.state.name}</h1>\r\n              <h2>City: {\"Adelphi\"}</h2>\r\n              <h2>\r\n                Revenue: $\r\n                {this.state.revenue\r\n                  ?.toString()\r\n                  .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\r\n              </h2>\r\n              <h2>\r\n               Zone: &nbsp;\r\n                {1}\r\n              </h2>\r\n              <h2>\r\n                # of Citations: &nbsp;\r\n                {this.state.transaction\r\n                  ?.toString()\r\n                  .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}\r\n              </h2>\r\n            </div>\r\n          </InfoWindowEx>\r\n        </Map>\r\n      </Grid>\r\n      </Layout.Bottom>\r\n    </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nfunction InfoWindowEx(props) {\r\n  const infoWindowRef = React.createRef() as any;\r\n  const contentElement = document.createElement(`div`);\r\n  useEffect(() => {\r\n    ReactDOM.render(React.Children.only(props.children), contentElement);\r\n    infoWindowRef?.current?.infowindow?.setContent(contentElement);\r\n  }, [props.children]);\r\n  return <InfoWindow ref={infoWindowRef} {...props} />;\r\n}\r\n\r\ninterface LayerProps {\r\n  strokeColor: string;\r\n  coord?: Coords[];\r\n  setActive: (props: any) => void;\r\n  name: string;\r\n  revenue: number;\r\n  locations?: string[];\r\n}\r\n\r\nconst Layer = (props: LayerProps) => {\r\n  const { strokeColor, coord, locations, revenue, setActive, name } = props;\r\n  console.log(props);\r\n  return (\r\n    <Polygon\r\n      paths={coord}\r\n      strokeColor={\"red\"}\r\n      strokeOpacity={0.8}\r\n      strokeWeight={2}\r\n      fillColor={\"red\"}\r\n      fillOpacity={0.35}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  const { search } = state;\r\n  return { search };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n  return {\r\n    setAddressData: ({ lat, lng} : any) => {\r\n      dispatch(setAddressData(\r\n        {\r\n          geo: { lat, lng }\r\n        } \r\n      ))\r\n    }\r\n  }\r\n}\r\n\r\nconst ConnectedMap = connect(mapStateToProps, mapDispatchToProps)(MapContainer);\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: \"AIzaSyCXprycu2n1TOaoO0wDiZkH8HavZbUDFFU\",\r\n})(ConnectedMap);\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Grid, Header } from \"platyplex_ui\";\r\nimport CountUp from \"react-countup\";\r\nimport { Progress, Tooltip } from \"antd\";\r\nimport API from \"../../api\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { disabledTxtColor } from \"../../config\";\r\nimport logger from \"../../utils/logger\";\r\nimport useInterval from \"../../hooks/interval\";\r\n\r\n//NOTE(Abhaya): pages/events/*.tsx refer to this module still\r\n//Render them inside score-card.tsx and then remove this module.\r\nexport const ScoreCard = ({\r\n  title,\r\n  faIcon,\r\n  span = 1,\r\n  color = \"white\",\r\n  children,\r\n  adjacentLabel,\r\n  hoverLabel,\r\n  borderRight,\r\n}: any) => {\r\n  const borderStyle = borderRight\r\n    ? { borderRight: \"1px solid \" + disabledTxtColor, padding: \"0 1em\" }\r\n    : {};\r\n  return (\r\n    <Grid\r\n      className={\"noselect span-\" + span}\r\n      style={{ ...borderStyle, minHeight: \"10em\", padding: '.25em' }}\r\n      placeSelf=\"stretch\"\r\n      gridGap=\".25em\"\r\n      customRows=\"auto 1fr\"\r\n    >\r\n      <Header\r\n        size={3.85}\r\n        color={color}\r\n        placeSelf=\"start stretch\"\r\n        style={{ lineHeight: \"1.1em\", height: \"2em\" }}\r\n      >\r\n        {title} &nbsp;\r\n        {faIcon && (\r\n          <Tooltip placement=\"topLeft\" title={hoverLabel}>\r\n            <i className={faIcon + \" pointer\"}></i>\r\n          </Tooltip>\r\n        )}\r\n      </Header>\r\n      <div style={{ color, placeSelf: \"start center\" }}>\r\n        <div style={{ height: \"6em\" }}>{children}</div>\r\n        <div\r\n          style={{ lineHeight: \"1em\" }}\r\n          dangerouslySetInnerHTML={{ __html: adjacentLabel }}\r\n        ></div>\r\n      </div>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nScoreCard.PercentBar = ({\r\n  percent,\r\n  type,\r\n  text,\r\n  status = false,\r\n  successPercent,\r\n}: any) => {\r\n  const gradient =\r\n    percent <= 50\r\n      ? \"#F2BE72\"\r\n      : `linear-gradient(to right, #F2BE72 ${50}%, #F76E49)`;\r\n  return (\r\n    <Progress\r\n      percent={percent}\r\n      style={{width: 150}}\r\n      strokeColor={status ? gradient : \"#5578D6\"}\r\n      successPercent={successPercent || 0}\r\n      type={type}\r\n      format={() => (\r\n        <div className=\"bold\" style={{ color: \"white\" }}>\r\n          {text || percent + \"%\"}\r\n        </div>\r\n      )}\r\n    />\r\n  );\r\n};\r\n\r\nconst intoHeadings = (str: string) =>\r\n  str.charAt(0).toUpperCase() + str.substring(1).replace(/ /g, \" \");\r\n\r\nconst FlatValue = ({\r\n  name,\r\n  flatValueQuery,\r\n  borderRight,\r\n  refreshInterval = -1,\r\n  refresh = true,\r\n}: any) => {\r\n  const [res, setRes] = useState({\r\n    value: 0,\r\n    hoverLabel: null,\r\n    adjacentLabel: undefined,\r\n    isPercent: false,\r\n    unit: undefined,\r\n    applicableResource: \"\",\r\n  });\r\n  const { value, hoverLabel, adjacentLabel, isPercent, unit } = res;\r\n  const eId = useSelector((state: any) => state.user.enterprise.id);\r\n\r\n  const getValue = (value: number, unit?: string) => {\r\n    if (unit === \"%\" || unit === \"cents\") value /= 100;\r\n\r\n    value = Math.round(value * 100) / 100;\r\n    return value || 0;\r\n  };\r\n\r\n  const getIcon = (resource: string) => {\r\n    switch (resource) {\r\n      case \"citation\":\r\n        return \"fas fa-money-check-alt\";\r\n\r\n      case \"announcement\":\r\n        return \"fas fa-bullhorn\";\r\n\r\n      case \"enterpriseUser\":\r\n        return \"fa fa-user\";\r\n\r\n      default:\r\n        return \"fa fa-car\";\r\n    }\r\n  };\r\n\r\n  const loadValue = async () => {\r\n    setRes({\r\n      isPercent: unit == \"%\",\r\n      hoverLabel: \"\",\r\n      unit: \"\",\r\n      adjacentLabel,\r\n      value: 500,\r\n      applicableResource: 'events',\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (refresh) loadValue();\r\n  }, [refresh]);\r\n  return (\r\n    <ScoreCard\r\n      borderRight={borderRight}\r\n      title={intoHeadings(name)}\r\n      hoverLabel={hoverLabel}\r\n      adjacentLabel={adjacentLabel}\r\n      faIcon={getIcon(res.applicableResource)}\r\n      unit={unit}\r\n    >\r\n      {isPercent ? (\r\n        <ScoreCard.PercentBar type=\"circle\" percent={Number(value)} />\r\n      ) : (\r\n        <div className=\"txt-lgx\">\r\n          {unit === \"cents\" && \"$\"}\r\n          {typeof value === \"number\" ? (\r\n            <CountUp duration={2} start={0} end={value as number} />\r\n          ) : (\r\n            value\r\n          )}\r\n        </div>\r\n      )}\r\n    </ScoreCard>\r\n  );\r\n};\r\n\r\nScoreCard.FlatValue = FlatValue;\r\nexport default ScoreCard;\r\n","import { colors } from '../json/colors.json';\r\n\r\nexport const getColor = (index: number) => colors[index % colors.length];","import React, { useState } from \"react\";\r\nimport Pie from \"@vx/shape/lib/shapes/Pie\";\r\nimport { Group } from \"@vx/group\";\r\nimport { getColor } from \"../../utils/color\";\r\nimport { Tooltip } from \"antd\";\r\n\r\nconst defaultMargin = { top: 0, right: 0, bottom: 0, left: 0 };\r\n\r\nexport type PieProps = {\r\n    width: number;\r\n    height: number;\r\n    data: any[];\r\n    text: any;\r\n    margin?: typeof defaultMargin;\r\n};\r\n\r\nexport default function PieChart({\r\n    width,\r\n    height,\r\n    text,\r\n    data,\r\n    margin = defaultMargin,\r\n}: PieProps) {\r\n\r\n    const innerWidth = width - margin.left - margin.right;\r\n    const innerHeight = height - margin.top - margin.bottom;\r\n    const radius = Math.min(innerWidth, innerHeight) / 2;\r\n    const centerY = innerHeight / 2;\r\n    const centerX = innerWidth / 2;\r\n    const donutThickness = 10;\r\n    const [selected, setSelected] = useState(-1);\r\n    const event = (i = -1) => ({\r\n        onTouchStart: () => setSelected(i),\r\n        onTouchMove: () => setSelected(i),\r\n        onMouseMove: () => setSelected(i),\r\n        onMouseLeave: () => setSelected(-1)\r\n    })\r\n\r\n    return (\r\n        <svg width={width} height={height}>\r\n            <rect\r\n                rx={14}\r\n                width={width}\r\n                height={height}\r\n                fill=\"transparent\"\r\n            />\r\n            <g>\r\n                <text\r\n                    fill=\"white\"\r\n                    x={centerX}\r\n                    fontWeight='bold'\r\n                    textAnchor=\"middle\"\r\n                    dy='8px'\r\n                    y={centerY}\r\n                    fontSize={24}\r\n                >  {text}\r\n                </text>\r\n            </g>\r\n            <Group top={centerY + margin.top} left={centerX + margin.left}>\r\n                <Pie\r\n                    data={data}\r\n                    fill='#5578D6'\r\n                    pieValue={(d: any) => d.value}\r\n                    outerRadius={radius}\r\n                    innerRadius={radius - donutThickness}\r\n                    cornerRadius={3}\r\n                    padAngle={0.005}\r\n                    children={(pie: any) => (\r\n                        pie.arcs.map((item: any, i: number) => (\r\n                            <g key={0}>\r\n                                {item.data.label ?\r\n                                    <Tooltip title={item.data.label}>\r\n                                        <path\r\n                                            d={pie.path(item)}\r\n                                            fill={getColor(i) + (selected === -1 ? 'FF' : selected === i ? 'BB' : '50')}\r\n                                            {...event(i)}\r\n                                        />\r\n                                    </Tooltip> :\r\n\r\n                                    <path d={pie.path(item)} fill={getColor(i)} />}\r\n                            </g>\r\n                        ))\r\n                    )}\r\n                />\r\n            </Group>\r\n        </svg>\r\n    );\r\n}","export type ValueType = 'DOUBLE' | 'INT';\r\n\r\n//not exhaustive here list below; more will be added later\r\nexport type Unit = '%' | 'none' | 'cents';\r\n\r\nexport type ResourceType = 'garage' | 'event' | 'enterpriseUser' | 'announcement' | 'citation';\r\n\r\nexport const IntervalPreset_E = {\r\n  'last_7_days': 'last_7_days',\r\n  'last_30_days': 'last_30_days',\r\n  'last_90_days': 'last_90_days', \r\n  'last_365_days': 'last_365_days', \r\n  'current_month': 'current_month', \r\n  'last_month': 'last_month', \r\n  'year_to_date': 'year_to_date', \r\n  'today': 'today', \r\n  'custom': 'custom'\r\n} as const;\r\n\r\nexport declare namespace TimeSeries {\r\n  export type ReducerFunction = 'MEAN' | 'MAX' | 'MIN' | 'COUNT' | 'SUM';\r\n\r\n  export type CrossSeriesReducerFunction = ReducerFunction | 'NONE';\r\n\r\n  export type AlignmentPeriod = '5m' | '30m' | '1h' | '4h' | '1d' | '1w' | '1m';\r\n\r\n  export type IntervalPreset = (typeof IntervalPreset_E)[keyof typeof IntervalPreset_E];\r\n\r\n  export type Point = {\r\n    at: Date,\r\n    isMissing: boolean, \r\n    value: number \r\n  };\r\n\r\n  export type Points = Point[];\r\n\r\n  export interface MetricDescriptor {\r\n    displayName: string;\r\n    description: string;\r\n\r\n    //this is a unique field\r\n    type: string;\r\n\r\n    applicableResource: ResourceType;\r\n    valueType: ValueType;\r\n    unit: Unit;\r\n  \r\n    maxAlignmentPeriod: AlignmentPeriod;\r\n    minAlignmentPeriod: AlignmentPeriod;\r\n  \r\n    defaultAlignmentReducer: ReducerFunction;\r\n  }\r\n  \r\n  export interface TimeSeries {\r\n  \r\n    //null if it is crossSeriesReduced time series\r\n    resourceId: string | null,\r\n  \r\n    displayLabel: string,\r\n  \r\n    //See https://cloud.google.com/monitoring/api/ref_v3/rest/v3/TimeInterval for interval\r\n    //if `isMissing` is true, then `value`should be ignored; this booelan field allows for\r\n    //uniform interval across time series. A timeSeries is guaranteed to have atleast one or more\r\n    //`isMissing: false` point. for gauge metric kind, startTime and endTime are same\r\n    points: Points\r\n  }\r\n\r\n  export interface DayFilterQuery {\r\n    /*0th is sunday and 6th is saturday*/\r\n    days: boolean[];\r\n    /*\r\n      hours should be between 0 and 24\r\n      it is parsed as (start, end]\r\n      \r\n      e.g. hours: [8, 9] => (8, 9]    //everything between 8:01  and 9:00\r\n        hours: [0, 24] => (0, 24]     //everything between 00:01 and 24:00\r\n    */\r\n    hours: [number, number];\r\n  }\r\n  \r\n  export interface Query {\r\n    metricType: string,\r\n  \r\n    //If missing, returns time series for all the resources.\r\n    //Empty array is taken as missing.\r\n    //If one or more resource_ids dont match, just ignores them.\r\n    //resource type is assumed to be one mentioned in MetricDescriptor.\r\n    resourceIds?: string[],\r\n\r\n    alignment?: {\r\n      alignmentPeriod: AlignmentPeriod;\r\n      alignmentReducer: ReducerFunction;\r\n    }\r\n\r\n    dayFilter?: DayFilterQuery;\r\n\r\n    crossSeriesReducer: CrossSeriesReducerFunction;\r\n\r\n    intervalPreset: IntervalPreset;\r\n\r\n    customInterval?: { startTime: Date, endTime: Date };\r\n  }\r\n\r\n  export interface ParsedTimeSeriesQuery {\r\n    metricType: string,\r\n  \r\n    resourceIds?: string[],\r\n\r\n    alignment?: {\r\n      alignmentPeriod: AlignmentPeriod;\r\n      alignmentReducer: ReducerFunction;\r\n    }\r\n\r\n    dayFilter?: DayFilterQuery;\r\n\r\n    crossSeriesReducer: CrossSeriesReducerFunction;\r\n\r\n    interval: { startTime: Date, endTime: Date };\r\n  }\r\n  \r\n  export interface Result {\r\n  \r\n    metricType: string;\r\n  \r\n    unit: Unit;\r\n  \r\n    //buckets individual timeSeries into following interval\r\n    //bigger alignmentPeriod means bigger bucket size\r\n    //automatically adjusted based on the interval provided in query\r\n    alignmentPeriod: AlignmentPeriod;\r\n  \r\n    //what reducerFunction was used to collapse one or more datapoints into buckets\r\n    alignmentReducer: ReducerFunction;\r\n  \r\n    crossSeriesReducer: CrossSeriesReducerFunction;\r\n  \r\n    //this may be different than what was requested in query\r\n    interval: { startTime: Date, endTime: Date };\r\n\r\n    //array of one or more time series\r\n    timeSeries: TimeSeries[];\r\n  }\r\n}\r\n\r\nexport declare namespace FlatValue {\r\n\r\n  //TODO: have labels later\r\n  export namespace LabelValue {\r\n    export type String = {\r\n      type: 'string';\r\n    }\r\n  \r\n    export type Bool = {\r\n      type: 'boolean'\r\n    }\r\n  \r\n    export type Number = {\r\n      type: 'number';\r\n    }\r\n  \r\n    export type Enum = {\r\n      type: 'enum',\r\n      options: string[];\r\n    }\r\n  \r\n    export type EnumMulti = {\r\n      type: 'enum[]',\r\n      options: string[]\r\n    }\r\n  \r\n    export type ResourceId = {\r\n      type: 'id',\r\n      resourceType: ResourceType\r\n    }\r\n  \r\n    export type ResourceIdMulti = {\r\n      type: 'id[]',\r\n      resourceType: ResourceType\r\n    }\r\n  \r\n    export type LabelValueType = LabelValue.String | LabelValue.Bool | LabelValue.Number | LabelValue.Enum | LabelValue.EnumMulti | LabelValue.ResourceId | LabelValue.ResourceIdMulti;\r\n  }\r\n\r\n  export interface MetricDescriptor {\r\n    displayName: string,\r\n    description: string,\r\n    type: string,\r\n    applicableResource: ResourceType,\r\n    valueType: ValueType,\r\n    unit: Unit,\r\n\r\n    labels?: {\r\n      key: string,\r\n      description: string,\r\n      required: boolean,\r\n      value: LabelValue.LabelValueType\r\n    }[]\r\n  }\r\n\r\n  export interface FlatValue {\r\n    isMissing: boolean;\r\n    value: number;\r\n  }\r\n  \r\n  export interface Query {\r\n    metricType: string;\r\n  }\r\n  \r\n  export interface Result {\r\n    metricType: string,\r\n    unit: Unit,\r\n\r\n    hoverLabel?: string;\r\n    adjacentLabel?: string;\r\n  \r\n    flatValue: FlatValue;\r\n  }\r\n}","import { useState, useEffect } from 'react';\r\nimport { useMetricData } from '../../hooks/metrics';\r\nimport { defaultInterval, moment } from '../../utils/time';\r\nimport API from \"../../api\";\r\nimport { TimeSeries, IntervalPreset_E } from '../../model/domain/metrics';\r\n\r\nfunction getAnalyticsCharts() {\r\n  const me: EnterpriseEvent = this;\r\n\r\n  const chart = (title: string, metricType: string, chartType: string, crossSeriesReducer = 'NONE') => ({\r\n    title,\r\n    timeSeriesQuery: {\r\n      metricType,\r\n      resourceIds: [me.id],\r\n      crossSeriesReducer,\r\n      alignment: {\r\n        alignmentPeriod: '1d',\r\n        alignmentReducer: 'SUM'\r\n      },\r\n      intervalPreset: 'last_7_days',\r\n    },\r\n    backgroundColor: '#FFFFFF',\r\n    xAxisLabel: 'T',\r\n    yAxisLabel: 'Occupancy',\r\n    chartTypes: [chartType]\r\n  });\r\n\r\n  return {\r\n    revenue: chart('Revenue by Type', 'event_revenue', 'stackedBar', 'SUM'),\r\n    transactions: chart('Number of Citation', 'event_transaction_count', 'multiLine', 'SUM'),\r\n    reservations: chart('Towings Per Garage', 'event_reservation_occupancy', 'stackedBar',)\r\n  };\r\n};\r\n\r\nfunction getLiveCharts() {\r\n  const me: EnterpriseEvent = this;\r\n  const intervalPreset = me.liveQueryIntervalPreset;\r\n\r\n  const revenueAndTransactions = {\r\n    \"title\": \"Revenue & Transactions\",\r\n    \"revenueTimeSeriesQuery\": {\r\n      \"metricType\": \"event_revenue\",\r\n      \"resourceIds\": [],\r\n      \"crossSeriesReducer\": \"NONE\",\r\n      \"alignment\": {\r\n        \"alignmentPeriod\": \"1h\",\r\n        \"alignmentReducer\": \"SUM\"\r\n      },\r\n      intervalPreset\r\n    },\r\n    \"transactionTimeSeriesQuery\": {\r\n      \"metricType\": \"event_transaction_count\",\r\n      \"resourceIds\": [],\r\n      \"crossSeriesReducer\": \"NONE\",\r\n      \"alignment\": {\r\n        \"alignmentPeriod\": \"1h\",\r\n        \"alignmentReducer\": \"SUM\"\r\n      },\r\n      intervalPreset\r\n    },\r\n    \"backgroundColor\": \"#FFFFFF\",\r\n    \"xAxisLabel\": \"T\",\r\n    \"yAxisLabel\": \"Occupancy\",\r\n    \"chartTypes\" : [\"combined\"]\r\n  };\r\n\r\n  const reservations = {\r\n    \"title\": \"Total Cars Parked\",\r\n    \"timeSeriesQuery\": {\r\n      \"metricType\": \"event_reservation_occupancy\",\r\n      \"resourceIds\": [],\r\n      \"crossSeriesReducer\": \"NONE\",\r\n      intervalPreset\r\n    },\r\n    \"backgroundColor\": \"#FFFFFF\",\r\n    \"xAxisLabel\": \"T\",\r\n    \"yAxisLabel\": \"Occupancy\",\r\n    \"chartTypes\" : [ \"stackedBar\"]\r\n  };\r\n\r\n  return {\r\n    reservations,\r\n    revenueAndTransactions\r\n  };\r\n};\r\n\r\nconst [getAnalyticsStats, getLiveStats] = (() => {\r\n  function sumPoints(points) {\r\n    return points.reduce((sum, point) => point.isMissing? sum: sum + point.value, 0)\r\n  }\r\n\r\n  function getStats(epId: string, type: 'analytics' | 'live'): Promise<Stats> {\r\n    const me = this as EnterpriseEvent;\r\n    const intervalPreset = type === 'analytics'\r\n      ? me.analyticsQueryIntervalPreset\r\n      : me.liveQueryIntervalPreset;\r\n\r\n    const alignmentPeriod = '1d';\r\n\r\n    const revenueQuery = {\r\n      metricType: 'event_revenue',\r\n      resourceIds: [me.id],\r\n      crossSeriesReducer: 'NONE',\r\n      alignment: {\r\n        alignmentPeriod,\r\n        alignmentReducer: 'SUM'\r\n      },\r\n      intervalPreset\r\n    };\r\n  \r\n    const transactionQuery = {\r\n      ...revenueQuery,\r\n      metricType: 'event_transaction_count', \r\n      crossSeriesReducer: 'SUM' \r\n    };\r\n\r\n    console.log(JSON.stringify(revenueQuery, null, 2));\r\n    console.log(JSON.stringify(transactionQuery, null, 2));\r\n  \r\n    return Promise.all([\r\n      API.getTimeSeries(epId, transactionQuery),\r\n      API.getTimeSeries(epId, revenueQuery)\r\n    ]).then( ([ r1, r2 ]) => {\r\n\r\n      if (r1?.timeSeriesResult && r2?.timeSeriesResult)  {\r\n      //revenue\r\n      const ts1 = r2.timeSeriesResult as TimeSeries.Result;\r\n      const normal = sumPoints(ts1.timeSeries[0].points);\r\n      const dynamic = sumPoints(ts1.timeSeries[1].points);\r\n      const total = normal + dynamic;\r\n      \r\n      //transactions\r\n      const ts2 = r1.timeSeriesResult as TimeSeries.Result;\r\n      const transactions = sumPoints(ts2.timeSeries[0].points);\r\n      return { revenue: { normal, dynamic, total }, transactions };\r\n      }\r\n\r\n\r\n    })\r\n  }\r\n\r\n  function getAnalyticsStats(epId: string): Promise<Stats> {\r\n    const me = this as EnterpriseEvent;\r\n    return getStats.call(me, epId, 'analytics');\r\n  }\r\n\r\n  function getLiveStats(epId: string): Promise<Stats> {\r\n    const me = this as EnterpriseEvent;\r\n    return getStats.call(me, epId, 'live');\r\n  }\r\n\r\n  return [getAnalyticsStats, getLiveStats];\r\n})();\r\n\r\nexport interface Stats {\r\n \r\n  revenue: { normal: number; dynamic: number; total: number; }\r\n  transactions: number;\r\n}\r\n\r\nexport interface EnterpriseEvent {\r\n  id: string;\r\n  name: string;\r\n  start: Date;\r\n  end: Date;\r\n  getAnalyticsCharts: { (): { revenue: any; transactions: any; reservations: any } };\r\n  getLiveCharts: { (): { revenueAndTransactions: any, reservations: any }  };\r\n  getAnalyticsStats: { (epId: string): Promise<Stats> };\r\n  getLiveStats: { (epId: string): Promise<Stats> };\r\n  analyticsQueryIntervalPreset: TimeSeries.IntervalPreset;\r\n  liveQueryIntervalPreset: TimeSeries.IntervalPreset;\r\n  reservationOccupancy: {\r\n    garageName: string;\r\n    occupancy: number;\r\n    staffs: number;\r\n  }[]\r\n}\r\n\r\nexport function getEnterpriseEvent(eventId: string) {\r\n  return getEnterpriseEvents().find(e => e.id === eventId);\r\n}\r\n\r\nexport function getEnterpriseEvents(): EnterpriseEvent[] {\r\n\r\n  const analyticsQueryIntervalPreset = IntervalPreset_E.last_7_days;\r\n  const liveQueryIntervalPreset = 'last_7_day';\r\n const  reservationOccupancy = [\r\n  {\r\n    garageName: 'T. Dernoga',\r\n    occupancy: .95,\r\n    staffs: 4,\r\n    expStaffs: 2\r\n  },\r\n  {\r\n    garageName: 'T. Turner',\r\n    occupancy: .82,\r\n    staffs: 3,\r\n    expStaffs: 3\r\n  },\r\n  {\r\n    garageName: 'D. Taveras',\r\n    occupancy: .81,\r\n    staffs: 2,\r\n    expStaffs: 3\r\n  },\r\n  {\r\n    garageName: 'J. Ivey',\r\n    occupancy: .15,\r\n    staffs: 2,\r\n    expStaffs: 3\r\n  },\r\n  {\r\n    garageName: 'J. Ivey',\r\n    occupancy: .12,\r\n    staffs: 2,\r\n    expStaffs: 3\r\n  },\r\n  {\r\n    garageName: 'A. Jones',\r\n    occupancy: .09,\r\n    staffs: 2,\r\n    expStaffs: 3\r\n  }\r\n]\r\n  const e1: any = {\r\n    id: '5b345cb3ea260d03b87438dd',\r\n    name: 'Thomas E. Dernoga',\r\n    revenueAmt: 18200,\r\n    towedCars: 589,\r\n    transaction: 830,\r\n    street: 79,\r\n    grades: 67,\r\n    sidewalk: 43,\r\n    analyticsQueryIntervalPreset,\r\n    liveQueryIntervalPreset,\r\n    reservationOccupancy\r\n  };\r\n\r\n  const bindFunctions = (e: EnterpriseEvent) => {\r\n    e.getAnalyticsCharts = getAnalyticsCharts.bind(e); \r\n    e.getLiveCharts = getLiveCharts.bind(e); \r\n    e.getAnalyticsStats = getAnalyticsStats.bind(e);\r\n    e.getLiveStats = getLiveStats.bind(e);\r\n  }\r\n  bindFunctions(e1);\r\n\r\n  const e2: any = {\r\n    \r\n    id: '5b345cb3ea260d03b87438de',\r\n    name: 'Todd M. Turner, Chair',\r\n    revenueAmt: 11878,\r\n    towedCars: 445,\r\n    transaction: 943,\r\n    street: 63,\r\n    grades: 42,\r\n    sidewalk: 38,\r\n    analyticsQueryIntervalPreset,\r\n    liveQueryIntervalPreset,\r\n    reservationOccupancy\r\n  };\r\n  bindFunctions(e2);\r\n\r\n  const e3: any = {\r\n    id: '5b345cb3ea260d03b87438dd22',\r\n    name: 'Deni L. Taveras',\r\n    revenueAmt: 14300,\r\n    transaction: 1122,\r\n    towedCars: 452,\r\n    street: 98,\r\n    grades: 56,\r\n    sidewalk: 27,\r\n    analyticsQueryIntervalPreset,\r\n    liveQueryIntervalPreset,\r\n    reservationOccupancy\r\n  };\r\n  bindFunctions(e3);\r\n  return [e1, e2, e3];\r\n}\r\n\r\nconst selectedEnterpriseEventManager = (() => {\r\n  let selectedEnterpriseEvent = getEnterpriseEvents()[0];\r\n\r\n  let listeners : any[] = [];\r\n\r\n  return {\r\n    get selectedEnterpriseEvent() {\r\n      return selectedEnterpriseEvent;\r\n    },\r\n\r\n    addSelectedEnterpriseChangeListener(fn: any) {\r\n      const exists = !!listeners.find(l => l === fn);\r\n      if (!exists) {\r\n        listeners.push(fn);\r\n      }    \r\n    },\r\n\r\n    removeSelectedEnterpriseChangeListener(listener: any) {\r\n      listeners = listeners.filter(l => l === listener);\r\n    },\r\n\r\n    selectEnterpriseEvent(eventId: string) {\r\n      if (selectedEnterpriseEvent.id === eventId) return;\r\n      const event = getEnterpriseEvents().find(e => e.id === eventId);\r\n      if (!event) return;\r\n      selectedEnterpriseEvent = event;\r\n      listeners.forEach(l => l(event));\r\n    }\r\n  }\r\n})()\r\n\r\nexport function useSelectEnterpriseEvent() {\r\n  const [E, setE] = useState<any>(selectedEnterpriseEventManager.selectedEnterpriseEvent);\r\n\r\n  useEffect(() => {\r\n    const listener = (event: EnterpriseEvent) => {\r\n      setE(event);\r\n    }\r\n\r\n    selectedEnterpriseEventManager.addSelectedEnterpriseChangeListener(listener);\r\n\r\n    return () => selectedEnterpriseEventManager.removeSelectedEnterpriseChangeListener(listener);\r\n  },[]);\r\n\r\n  return {\r\n    enterpriseEvent: E, \r\n    selectEnterpriseEvent: (eventId: string) => {\r\n      selectedEnterpriseEventManager.selectEnterpriseEvent(eventId);\r\n    }\r\n  }\r\n}\r\n","import { useState, useEffect } from 'react';\r\n\r\nexport default function usePromise<T>(promise: Promise<T>): { data: T | null, error: Error | null, loading: boolean; } {\r\n  const [state, setState] = useState({\r\n    data: null,\r\n    error: null,\r\n    loading: true\r\n  });\r\n\r\n  useEffect(() => {\r\n    promise\r\n      .then(result => {\r\n        setState({\r\n          data: result,\r\n          error: null,\r\n          loading: false\r\n        })\r\n      })\r\n      .catch(error => {\r\n        setState({\r\n          data: null,\r\n          error: error,\r\n          loading: true\r\n        })\r\n      });\r\n  }, [promise])\r\n\r\n   return state;\r\n}","import { Notification } from \"platyplex_ui\";\r\n\r\nexport const asyncHandler = async ({\r\n  apiCall,\r\n  successMessage,\r\n  errorMessage,\r\n  defaultMessage,\r\n}: any) => {\r\n  try {\r\n    const res = await apiCall();\r\n    if (res.success === false) throw new Error(res.message);\r\n    if (successMessage) {\r\n      Notification.success({ title: \"Succcess\", message: successMessage });\r\n    }\r\n    return res;\r\n  } catch (e) {\r\n    if (errorMessage) {\r\n      Notification.error({ title: \"Error\", message: errorMessage });\r\n    } else if (defaultMessage) {\r\n      Notification.error({\r\n        title: \"Error\",\r\n        message: e.message || e || \"Error\",\r\n      });\r\n    }\r\n    return { success: false, message: e.message || e || \"Error\" };\r\n  }\r\n};\r\n\r\nexport const toQuery = (query: any): string => {\r\n  return Object.keys(query).reduce((acc: string, curr: string, i: number) => {\r\n    return `${acc ? acc + \"&\" : \"\"}${curr}=${query[curr as any]}`;\r\n  }, \"\");\r\n};\r\n\r\nexport const toCurrency = (num = 0, decimals = 2): string =>\r\n  `$${num.toString()\r\n    .replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, \"$1,\")}`;\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport { Grid, Header as Text, List, Empty , Loader} from 'platyplex_ui';\r\nimport { ScoreCard } from '../../../components/score-card/old-score-card';\r\nimport { overflow } from '../../../utils/text';\r\nimport { moment } from '../../../utils/time';\r\nimport { invertedTxtColor } from '../../../config';\r\nimport PieChart from '../../../components/chart/components/graph/pie-chart'\r\nimport { getEnterpriseEvents, useSelectEnterpriseEvent, Stats } from '../model';\r\nimport { Select } from 'antd';\r\nimport usePromise from '../../../hooks/promise_hook';\r\nimport { toCurrency } from '../../../utils';\r\nimport { useParams } from 'react-router';\r\n\r\nconst enterpriseEvents = getEnterpriseEvents();\r\n\r\nconst Header = () => {\r\n    const { id } = useParams<{id: any}>();\r\n\r\n    const { enterpriseEvent, selectEnterpriseEvent} = useSelectEnterpriseEvent();\r\n    const { data, loading } = usePromise<Stats>(useMemo(() => enterpriseEvent.getAnalyticsStats('5f0387891c154a299fc0104f'),\r\n        []));\r\n\r\n    useEffect(()=>{\r\n        switch(id){\r\n            case '3':   \r\n            selectEnterpriseEvent('5b345cb3ea260d03b87438dd22')\r\n            break;\r\n\r\n            case '2':  \r\n            selectEnterpriseEvent('5b345cb3ea260d03b87438de')\r\n            break;\r\n\r\n            default: \r\n            selectEnterpriseEvent('5b345cb3ea260d03b87438dd')\r\n        }\r\n    }, [id])\r\n    return (\r\n        <Grid\r\n            cols='5'\r\n            style={{ gridColumn: '1/-1', marginBottom: '1em' }}\r\n            width='100%'\r\n            padding='1.5em 1.5em 0 1.5em'\r\n        >\r\n            <div\r\n                id='header'\r\n                className='grid'\r\n                style={{\r\n                    width: '100%',\r\n                    margin: '0 0 .75em 0',\r\n                    gridColumn: '1/-1',\r\n                    gridTemplateColumns: '1fr auto'\r\n                }}>\r\n                <Select\r\n                    style={{ width: '300px', placeSelf: 'start', color: 'white' }}\r\n                    disabled={loading}\r\n                    placeholder=\"Select\"\r\n                    onChange={eventIds => selectEnterpriseEvent(eventIds)}\r\n                    value={enterpriseEvent.id}>\r\n                    {enterpriseEvents.map(e => (\r\n                        <Select.Option\r\n                            key={e.id}\r\n                            className='capitalize'\r\n                            value={e.id}>\r\n                            {e.name}\r\n                        </Select.Option>))}\r\n                </Select>\r\n                <Select\r\n                    style={{ width: '300px', placeSelf: 'start', color: 'white' }}\r\n                    disabled={loading}\r\n                    placeholder=\"Select\"\r\n                    onChange={eventIds => selectEnterpriseEvent(eventIds)}\r\n                    value={'Weekly'}>\r\n                {['Weekly', 'Daily', 'Monthly'].map((e)=> <Select.Option value={e}>{e}</Select.Option>)}\r\n                </Select>\r\n                <div>\r\n                </div>\r\n                <Text size={4.6} color={invertedTxtColor} className='hide-mobile'>  Updated at: {moment().format('hh:mm A')}</Text>\r\n                   \r\n                \r\n            </div>\r\n\r\n\r\n           <ScoreCard title='Total Revenue' faIcon='fa fa-money' hoverLabel='Total Revenue' borderRight>\r\n                {loading\r\n                    ? <Loader.Spinner color='inherit' />\r\n                    : <PieChart\r\n                        height={130}\r\n                        width={130}\r\n                        text={data ? toCurrency(enterpriseEvent.revenueAmt) : 'N/A'}\r\n                        data={data ? [\r\n                            { label: `Normal Pricing (${1000} total)`, value: data.revenue.normal },\r\n                        ] : [{ label: 'N/A', value: 'N/A' }]} />\r\n                }\r\n\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Citations' faIcon='fas fa-money-check-alt' hoverLabel='Revenue' borderRight>\r\n                {loading\r\n                    ? <Loader.Spinner color='inherit' />\r\n                    : <span className='txt-lgx'>{data ? enterpriseEvent.transaction : 'N/A'}</span>\r\n                }\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Cars Towed' faIcon='fas fa-money-check-alt' hoverLabel='Revenue' borderRight>\r\n                {loading\r\n                    ? <Loader.Spinner color='inherit' />\r\n                    : <span className='txt-lgx'>{data ? enterpriseEvent.towedCars : 'N/A'}</span>\r\n                }\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Top Violation' faIcon='fas fa-money-check-alt' hoverLabel='Revenue' borderRight>\r\n            <Text color='white' size={'1.1em'}>Street Cleaning ({enterpriseEvent.street ||  272})</Text>\r\n             <Text color='white' size={'1.1em'}>Parking on grades ({enterpriseEvent.grades ||8})</Text>\r\n             <Text color='white' size={'1.1em'}>Sidewalk ({enterpriseEvent.sidewalk || 7})</Text>\r\n      \r\n            </ScoreCard>\r\n            <ScoreCard title='Performance' faIcon='fa fa-car' hoverLabel='Occupancy Count' span={1}>\r\n                <Grid placeSelf='start' >\r\n                    <Grid\r\n              \r\n                        placeItems='stretch'\r\n                        width='100%'\r\n                        color='white'\r\n                        gridGap='.2em 1.5em'\r\n                    >\r\n                        <List\r\n                            loading={loading}\r\n                            empty={\r\n                                <div style={{ gridColumn: '1/-1' }}>\r\n                                    <Empty text={'No Garage Occupancy'} color=\"white\" style={{ width: '7em', margin: '0 auto' }} />\r\n                                </div>\r\n                            }\r\n                            pagination={{ items: 3 }}\r\n                            list={enterpriseEvent.reservationOccupancy}\r\n                            map={(({ garageName, occupancy, staffs, expStaffs }: any) => {\r\n                                return (\r\n                                    <Grid customCols='1fr auto'>\r\n                                        <span className='txt-overflow'style={{color: 'white'}}>{garageName}</span>\r\n                                        <ScoreCard.PercentBar\r\n                                            status\r\n                                            percent={occupancy * 100}\r\n                                            text={`${occupancy * 100}%`}\r\n                                        />\r\n                                   \r\n                                    </Grid>\r\n                                )\r\n                            })}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </ScoreCard>\r\n        </Grid>);\r\n}\r\n\r\nexport default Header;\r\n","import React, { useMemo } from 'react';\r\nimport { AxisBottom, AxisLeft, AxisRight } from '@vx/axis';\r\nimport {  ScaleBand } from 'd3-scale';\r\n\r\nexport const XAxis = ({ scale,  tickFormat, axisStyleProps}: { scale:  ScaleBand<string>, tickFormat: any, axisStyleProps: any}) => {\r\n  const width = (() => {\r\n    const range = scale.range();\r\n    return range[1] - range[0]\r\n  })();\r\n\r\n  const maxTicks = width < 800? 5: 10;\r\n\r\n  const tickValues = useMemo(() => {\r\n    const dates = scale.domain();\r\n    \r\n    const mod = Math.floor(dates.length / maxTicks);\r\n    const tickFilter = ((_: any, index: number)=> dates.length < 10 || index % mod == 0);\r\n\r\n    return dates.filter(tickFilter);\r\n  }, [maxTicks]);\r\n\r\n  const  tickLabelProps = () => ({\r\n    fontWeight: 'bold',\r\n    fill: 'gray',\r\n    fontSize: 11,\r\n    textAnchor: 'middle'\r\n  })\r\n\r\n  return (\r\n      <AxisBottom\r\n        tickFormat={tickFormat}\r\n        tickLabelProps={tickLabelProps}\r\n        scale={scale}\r\n        tickValues={tickValues} {...axisStyleProps}\r\n        hideTicks={false}\r\n      />\r\n  );\r\n};\r\n\r\nexport const YAxisLeft = ({ scale, tickFormat, axisStyleProps }: any) => {\r\n  const tickValues = scale.ticks(10);\r\n  axisStyleProps = axisStyleProps || {};\r\n  const  tickLabelProps = () => ({\r\n    fontWeight: 'bold',\r\n    fill: 'gray',\r\n    fontSize: 11,\r\n    dx: -18,\r\n    dy: 5\r\n  })\r\n  return (\r\n      <AxisLeft\r\n        scale={scale}\r\n        tickLabelProps={tickLabelProps}\r\n        tickFormat={tickFormat}\r\n        tickValues={tickValues} \r\n        {...axisStyleProps}\r\n      />\r\n  );\r\n};\r\n\r\nexport const YAxisRight = ({ scale, tickFormat, axisStyleProps }: any) => {\r\n  const tickValues = scale.ticks(10);\r\n  const  tickLabelProps = () => ({\r\n    fontWeight: 'bold',\r\n    fill: 'gray',\r\n    fontSize: 11,\r\n    dx: 12,\r\n    dy: 5\r\n  })\r\n  return (\r\n      <AxisRight\r\n        scale={scale}\r\n        tickFormat={tickFormat}\r\n        tickLabelProps={tickLabelProps}\r\n        tickValues={tickValues} {...axisStyleProps}/>\r\n  );\r\n};\r\n\r\nexport const defaultAxisStyle = {\r\n  hideAxisLine: true,\r\n  tickStroke: 'gray',\r\n  tickLength: 6,\r\n  hideTicks: true,\r\n  hideZero: false\r\n}\r\n","import { useState, useEffect } from \"react\";\r\n\r\nexport const useRect = ({ height, width }: { height: number; width: number; }): DrawAreaRect => {\r\n  //if axis ticks get cutoff, increase the margin of appropriate direction\r\n  const margin = {\r\n    top: 10,\r\n    right: 35,\r\n    bottom: 40,\r\n    left: 35\r\n  };\r\n\r\n  const calcRect = (width: any) =>({\r\n    width,\r\n    height,\r\n    innerWidth: width - margin.left - margin.right,\r\n    innerHeight: height - margin.top - margin.bottom,\r\n    margin,\r\n    xRange: [margin.left, width - margin.right],\r\n    yRange: [height - margin.bottom, margin.top]\r\n  })\r\n  const [ rect, setRect ] = useState(calcRect(width));\r\n  useEffect(()=>setRect(calcRect(width)), [width]);\r\n  return rect as any;\r\n}\r\n\r\n//given the height and width of the graph i.e. the drawArea + axis, computes margins\r\nexport interface DrawAreaRect {\r\n  readonly width: number;\r\n  readonly height: number;\r\n  readonly innerWidth: number;\r\n  readonly innerHeight: number;\r\n  readonly margin: {\r\n    readonly left: number;\r\n    readonly top: number;\r\n    readonly right: number;\r\n    readonly bottom: number;\r\n  }\r\n  readonly xRange: [number, number];\r\n  readonly yRange: [number, number];\r\n}","import { scaleLinear, scaleBand } from '@vx/scale';\r\nimport { DrawAreaRect } from './rect';\r\n\r\ntype Scale = { yMax: number, rect: DrawAreaRect, points: any, zoom? : number };\r\n\r\nexport const useScale = ({ rect,  points, yMax, zoom = 1.15 }: Scale) => ({\r\n  xAxis: getXBandScale({rect, points}),\r\n  yAxis: {\r\n    scale: scaleLinear({\r\n      domain: [0, zoom * yMax],\r\n      range: rect.yRange,\r\n    })\r\n  }\r\n});\r\n\r\nfunction getXBandScale({ rect, points }: { rect: DrawAreaRect, points: any }) {\r\n  const getDate = (d: any) => (new Date(d?.date || '2010')).toISOString();;\r\n  const getDates = (points: any[]) => {\r\n    const dates = []\r\n    for (let i = points.length - 1; i >= 0; i--) {\r\n      dates.push(getDate(points[i]))\r\n    }\r\n    return dates;\r\n  }\r\n\r\n  return {\r\n    scale: scaleBand<string>({\r\n      domain: getDates(points),\r\n      range: rect.xRange,\r\n      padding: 0.2,\r\n    })\r\n  }\r\n}","import * as Sentry from '@sentry/browser';\r\n\r\nexport default {\r\n    log: (error: any) => {\r\n        console.log(error)\r\n        Sentry.captureException(error)\r\n    }\r\n}","import { useMemo } from \"react\";\r\nimport { TimeSeries } from \"../../../model/domain/metrics\";\r\nimport logger from \"../../../utils/logger\";\r\n\r\nexport const useData = (timeSeriesResult: any) => useMemo(() => getStackedPoints(timeSeriesResult), [timeSeriesResult]);\r\n\r\nconst getStackedPoints = (timeSeriesResult: TimeSeries.Result) => {\r\n  const stackedPoints: any[] = [];\r\n  let max = 0;\r\n  let linearMax = 0;\r\n\r\n  try {\r\n    if (!timeSeriesResult) return { points: stackedPoints, max, linearMax };\r\n    const { timeSeries } = timeSeriesResult\r\n    const reference = timeSeries[0]\r\n    const numPoints = reference.points.length;\r\n    const numResource = timeSeries.length\r\n\r\n    for (let i = 0; i < numPoints; i++) {\r\n      let stackedPoint = { date: reference.points[i].at };\r\n      let totalValue = 0;\r\n\r\n      for (let j = 0; j < numResource; j++) {\r\n        const point = timeSeries[j].points[i];\r\n        const resource = timeSeries[j].displayLabel;\r\n\r\n        if (point.isMissing) {\r\n          stackedPoint[resource] = null;\r\n        } else {\r\n          totalValue += point.value;\r\n          linearMax = Math.max(linearMax, point.value)\r\n          stackedPoint[resource] = point.value;\r\n        }\r\n      }\r\n      stackedPoints.push(stackedPoint);\r\n      max = max < totalValue ? totalValue : max;\r\n    }\r\n  } catch (e) {\r\n    logger.log(e)\r\n  }\r\n  return { points: stackedPoints, max, linearMax };\r\n}\r\n\r\nexport const useCombinedData = (timeSeriesResults: TimeSeries.Result[]) => useMemo(() => {\r\n  const points: any = [];\r\n  let max = 0;\r\n  const hasError = timeSeriesResults.reduce((acc, ts: TimeSeries.Result) => !ts?.timeSeries || acc, false);\r\n  if (hasError) return { points, max };\r\n\r\n  const reference = timeSeriesResults[0].timeSeries[0]\r\n  const numPoints = reference.points.length;\r\n  const numResource = timeSeriesResults.length\r\n\r\n  const formatLabel = (s: string) => s.replace(/_/g, ' ')\r\n  for (let i = 0; i < numPoints; i++) {\r\n    let combinedPoint = { date: reference.points[i].at };\r\n\r\n    for (let j = 0; j < numResource; j++) {\r\n      const point = timeSeriesResults[j].timeSeries[0].points[i];\r\n      const resource = formatLabel(timeSeriesResults[j].metricType);\r\n\r\n      if (point.isMissing) {\r\n        combinedPoint[resource] = null;\r\n      } else {\r\n        combinedPoint[resource] = point.value;\r\n      }\r\n    }\r\n\r\n    points.push(combinedPoint);\r\n  }\r\n\r\n  return { points, max };\r\n}, [timeSeriesResults]);","export const getKeys = (points: any[]) => {\r\n    if(points?.length < 1) return [];\r\n    return Object.keys(points[0]).filter(k => k !== 'date')\r\n}\r\n","import { getColor } from \"../utils/color\";\r\nimport { localPoint } from '@vx/event';\r\nimport { useTooltip } from '@vx/tooltip';\r\nimport { getKeys } from \"../utils/points\";\r\nimport {  ScaleBand } from 'd3-scale';\r\nimport { useMemo } from 'react';\r\ninterface TooltipData {\r\n    timestamp: string;\r\n    legend: { label: string, value: string, color: string }[];\r\n}\r\n\r\ninterface TooltipProps {\r\n   points: {[key: string]: string | number; date: string;}[],\r\n   setSelected? : any;\r\n   units?: string[];\r\n   xScale: ScaleBand<string>;\r\n   dateFormatter: {(d: string): string;}\r\n}\r\n/*\r\n      |                            |\r\n      |                            |\r\n      |                            |\r\n      |         |||          |||   |  \r\n      |         |||          |||   |  \r\n      |   |||   |||    |||   |||   |  \r\n      |   |||   |||    |||   |||   |  \r\n      |   |||   |||    |||   |||   |   \r\n      |   |||   |||    |||   |||   |  \r\n    ---------------------------------------------\r\n                *      *     *     *\r\n                a      b     c     d\r\n                \r\n      let x be the X position of the cursor then,\r\n      if (x <= a) {\r\n        show tooltip at middle of first bar\r\n      } else if (x <= b) {\r\n        show tooltip at middle of second bar\r\n      } else if (x <= c) {\r\n        show tooltip at middle of third bar\r\n      } else {\r\n        show tooltip at middle of last bar\r\n      }\r\n*/\r\nexport default ({points: points_, setSelected, units, xScale, dateFormatter }: TooltipProps) => {\r\n    const tooltip = useTooltip<TooltipData>();\r\n\r\n    //[tuesday, monday, sunday] -> [sunday, monday, tuesday]\r\n    //[sunday, monday, tuesday] -> [sunday, monday, tuesday]\r\n    const points = useMemo(() => {\r\n      return points_[0].date > points_[points_.length - 1].date\r\n        ? [...points_].reverse()\r\n        : points_;\r\n    }, [points_]);\r\n\r\n    /*\r\n      |                                       |\r\n      |                                       |\r\n      |                                       |\r\n      |         |||    |||   |||         |||  |  \r\n      |         |||    |||   |||         |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |  \r\n      |   |||   |||    |||   |||   |||   |||  |   \r\n    ---------------------------------------------\r\n          ^                                ^\r\n          |                                | \r\n        (band start)                    (band end)\r\n    */\r\n    const bandStart = xScale(points[0].date) || 0;\r\n    const bandEnd = xScale(points[points.length - 1].date) || 0 + xScale.bandwidth();\r\n\r\n    const getUnit = (i: number) => units? units[i % units.length] : '';\r\n\r\n    const getLegend = (i: number) => {\r\n        const keys = getKeys(points);\r\n        const toPercent = (n: number) => (n * 100).toFixed(2) + '%';\r\n        const toDollar = (n: number) => '$'+ (n / 100).toFixed(0) ;\r\n        const point = points[i] || {};\r\n\r\n        return keys.map((label: string, index: number) => {\r\n            let value = point[label] as any;\r\n            const isMissing = value == null;\r\n            const unit = getUnit(index);\r\n            value = unit === '%'\r\n              ? toPercent(value)\r\n              : unit === 'cents'\r\n              ? toDollar(value)\r\n              : value + ''; \r\n\r\n            return { label, value, color: getColor(index), isMissing }\r\n        })\r\n    }\r\n\r\n    //offsetting local point x, y so as to have `bandStart` as effective start\r\n    //helps calculation below.\r\n    const graphLocal = (event: any) => {\r\n      const { x, y } = localPoint(event) || { x: 0, y: 0};\r\n\r\n      return { x: x - bandStart, y };\r\n    }\r\n\r\n    return {\r\n        ...tooltip,\r\n        handleTooltip: (event: any, newSelected = -1) => {\r\n          let { x, y } = graphLocal(event) || {};\r\n          setSelected(newSelected);\r\n          \r\n          const i = x > bandEnd\r\n            ? points.length - 1\r\n            : x < 0\r\n            ? 0\r\n            : Math.floor(x! / xScale.step());\r\n\r\n          /*\r\n              |                                       |\r\n              |                                       |\r\n              |                                       |\r\n              |         |||    |||   |||         |||  |  \r\n              |         |||    |||   |||         |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |  \r\n              |   |||   |||    |||   |||   |||   |||  |   \r\n            ---------------------------------------------\r\n                                *\r\n                                ^\r\n                                |\r\n                                iX for i = 2 (mid point of the third bar line)\r\n          */\r\n          const iX = bandStart + i * xScale.step() + xScale.bandwidth() / 2;          \r\n\r\n          const timestamp = xScale.domain()[i];\r\n\r\n            //const i = bisect(timestamp);\r\n            const legend = getLegend(i);\r\n\r\n            // try replacing iX with x + bandStart, and if thats\r\n            // better then replce this\r\n            tooltip.showTooltip({\r\n                tooltipData: { timestamp: dateFormatter(timestamp), legend },\r\n                tooltipLeft: iX,\r\n                tooltipTop: y,\r\n            });\r\n\r\n        }\r\n    }\r\n}","import React from 'react'\r\nimport { TooltipWithBounds } from '@vx/tooltip';\r\nimport { Text, Grid } from 'platyplex_ui';\r\nimport { primaryColor } from '../../../config';\r\nimport { Line } from '@vx/shape';\r\n\r\nconst Tooltip = ({ tooltipOpen, tooltipLeft, tooltipTop, tooltipData, isSelected}: any) => {\r\n    if (!tooltipOpen && !tooltipData) return null;\r\n\r\n    return (\r\n        <TooltipWithBounds top={tooltipTop} left={tooltipLeft}>\r\n            <Grid placeItems=\"start\" customRows=\"auto 1fr\" gridGap=\".4em\" style={{zIndex: 10000}}>\r\n                <Text>{tooltipData.timestamp}</Text>\r\n                {tooltipData.legend\r\n                    .map(({ color, label, value, isMissing }: any, index: number) => (\r\n                        isMissing || value === '-1'? null :\r\n                            <div key={index} style={{ padding: 2, fontWeight: isSelected && isSelected(index)? 'bold': 'normal' }}>\r\n                                <span className='round' style={{ background: color }}></span>&nbsp;\r\n                                <span className='capitalize'><span dangerouslySetInnerHTML={{__html : label}}/>: &nbsp;{value}</span>\r\n                            </div>\r\n                    ))}\r\n            </Grid>\r\n        </TooltipWithBounds>\r\n    );\r\n}\r\n\r\nTooltip.Custom = ({ top, left, children}: any) => {\r\n    return (\r\n        <TooltipWithBounds top={top} left={left}>\r\n            {children}\r\n        </TooltipWithBounds>\r\n    );\r\n}\r\n\r\n\r\nTooltip.Line = ({ tooltipData, height, tooltipLeft: x }: any) => {\r\n    if (!tooltipData) return null;\r\n    return (\r\n        <g>\r\n            <Line\r\n                from={{ x, y: 0 }}\r\n                to={{ x, y: height }}\r\n                stroke={primaryColor}\r\n                strokeWidth={2}\r\n                pointerEvents=\"none\"\r\n                strokeDasharray=\"5,\"\r\n            />\r\n        </g>\r\n    )\r\n}\r\n\r\nexport default Tooltip;","import { TimeSeries } from \"../../model/domain/metrics\";\r\nimport {  ScaleLinear, ScaleBand } from 'd3-scale';\r\nimport { MetricDataStatus } from \"../../hooks/metrics\";\r\nimport { LineChart } from \"../../model/domain/dashboard\";\r\n\r\nexport enum Charts {\r\n    stackedArea = \"stackedArea\",\r\n    multiLine = \"multiLine\",\r\n    stackedBar = \"stackedBar\",\r\n    combined = \"combined\"\r\n}\r\n\r\nexport interface AdditionalChartProps {\r\n    filter?: boolean | React.ReactElement | null;\r\n    filterWidth?: number;\r\n    metricDataStatus: MetricDataStatus;\r\n    className?: string;\r\n    loading? : boolean;\r\n    legend?: false | { label : string};\r\n    isPercent?: boolean;\r\n    download? : string;\r\n    eId?: string; \r\n    inChartLegend? : boolean;\r\n    queries?: any; \r\n    chartTypes?: Charts[] | string[];\r\n}\r\n\r\nexport interface AdditionalMultiChartProps {\r\n  filter?: boolean | React.ReactElement | null;\r\n  filterWidth?: number;\r\n  loading? : boolean;\r\n  fixedAlignment: string;\r\n  metricDataStatuses: MetricDataStatus[];\r\n  className?: string;\r\n  inChartLegend? : boolean; \r\n  download? : string;\r\n  queries?: any;\r\n  eId?: string; \r\n  legend?:  false | { label : string };\r\n}\r\n\r\nexport type ChartProps = AdditionalChartProps & LineChart;\r\nexport type MultiMetricsChartProps = AdditionalMultiChartProps & LineChart;\r\n\r\nexport interface DrawAreaProps {\r\n  size: { height: number, width: number };\r\n  data: {\r\n    timeSeriesResult: TimeSeries.Result;\r\n  };\r\n  inChartLegend?: boolean;\r\n  chartType: Charts | string;\r\n}\r\n\r\nexport interface MultiDrawAreaProps {\r\n  size: { height: number, width: number };\r\n  fixedAlignment: string;\r\n  datas: {\r\n    timeSeriesResult: TimeSeries.Result;\r\n  } [];\r\n  chartType: Charts | string;\r\n  inChartLegend?: boolean;\r\n}\r\n\r\ntype EventHandler = (e :React.SyntheticEvent) => void;\r\n\r\nexport interface GraphEvent {\r\n    onTouchStart : EventHandler;\r\n    onTouchMove : EventHandler;\r\n    onMouseMove : EventHandler;\r\n    onMouseLeave : EventHandler;\r\n};\r\n\r\nexport type Graph = {\r\n    yScale: ScaleLinear<number, number>;\r\n    isSelected?: (i : number) => boolean;\r\n    noneSelected?: boolean;\r\n    points: any;\r\n    xScale: ScaleBand<string>;\r\n    event? : (i: number ) => GraphEvent\r\n};\r\n\r\nexport interface Points {\r\n  [key: string]: string | number;\r\n  date: string;\r\n};\r\n\r\nexport type CombinedGraph = Graph & { y2Scale: ScaleLinear<number, number>; points2: any }","import React from 'react'\r\nimport { GridRows } from '@vx/grid';\r\nconst accentColor = \"lightgray\";\r\n\r\nexport default function Grid({ yScale, width }: any) {\r\n    return <></>;\r\n    return (\r\n        <GridRows<any>\r\n            scale={yScale}\r\n            width={width}\r\n            stroke={accentColor}\r\n            strokeOpacity={0.5}\r\n            pointerEvents=\"none\"\r\n        />\r\n    );\r\n}","import React from 'react'\r\nimport { LinePath } from '@vx/shape';\r\nimport { getColor } from '../../utils/color';\r\nimport { Graph } from '../../types';\r\nimport { getKeys } from '../../utils/points';\r\n\r\nexport default function MultiLine({ points, isSelected, event, xScale, yScale }: Graph) {\r\n  const keys = getKeys(points);\r\n  const linePathX = (d: any) => xScale(d.date)! + xScale.bandwidth() / 2 || 0;\r\n  const linePathY = (d: any, key: string) => yScale(d[key]);\r\n  const reducer = (datum: any): boolean => datum !== null;\r\n\r\n  return (\r\n    <>\r\n      {points.map((data: any) => {\r\n        const left = linePathX(data);\r\n        return keys.map((key, i) => {\r\n          const top = yScale(data[key]);\r\n          if (data[key] == null) return null;\r\n          return (\r\n            <g key={`circle-${i}`}>\r\n              <circle\r\n                r={7 - points.length / 40}\r\n                cx={left}\r\n                cy={top}\r\n                {...(event ? event(i) : {})}\r\n                stroke={isSelected && isSelected(i) ? getColor(i) : ''}\r\n                fill={getColor(i) + (isSelected && isSelected(i)? '66' : 'BB')}\r\n              />\r\n            </g>\r\n          );\r\n        })\r\n\r\n      })}\r\n\r\n      {keys?.map((key, index) => (\r\n        <LinePath\r\n          x={linePathX}\r\n          y={(d) => linePathY(d, key)}\r\n          {...(event ? event(index) : {})}\r\n          data={points}\r\n          key={index}\r\n          defined={(d: any) => reducer(d[key])}\r\n          strokeWidth={isSelected && isSelected(index) ? 4 : 2}\r\n          stroke={getColor(index)}\r\n        />\r\n      )\r\n      )}\r\n    </>);\r\n}","import React from 'react'\r\nimport { AreaStack } from '@vx/shape';\r\nimport { getColor } from '../../utils/color';\r\nimport { Graph } from '../../types';\r\nimport { getKeys } from '../../utils/points';\r\n\r\n\r\nexport function StackedArea({ xScale, yScale, points, isSelected, noneSelected, event}: Graph) {\r\n  const keys = getKeys(points);\r\n  const reducer = (datum: any): boolean =>  datum.data;\r\n  const getY = (d: any, index: number) => d[index];\r\n  const getAreaStackX = (d: any) => xScale(d.data.date)!;\r\n  \r\n  return (\r\n    <AreaStack\r\n      keys={keys}\r\n      data={points}\r\n      defined={reducer}\r\n      x={getAreaStackX}\r\n      y0={d => yScale(getY(d, 0))}\r\n      y1={d => yScale(getY(d, 1))}\r\n    >\r\n      {({ stacks, path }) =>\r\n        stacks.map((stack, index) => {\r\n          const opacity = isSelected && isSelected(index)? '70' : noneSelected ? '50': '25';\r\n          const color = getColor(index) + opacity;\r\n            return (\r\n            <path\r\n              key={`stack-${index}`}\r\n              d={path(stack) || ''}\r\n              stroke={color}\r\n              strokeWidth={2}\r\n              {...event && event(index)}\r\n              fill={color}\r\n            />\r\n          )\r\n        })\r\n      }\r\n    </AreaStack>);\r\n}\r\n\r\nexport default StackedArea;","import React from 'react'\r\nimport { BarStack, AreaStack } from '@vx/shape';\r\nimport { scaleOrdinal } from '@vx/scale';\r\nimport { colors } from '../../json/colors.json';\r\nimport { Group } from '@vx/group';\r\nimport { getColor } from '../../utils/color';\r\nimport { Graph } from '../../types';\r\nimport { getKeys } from '../../utils/points';\r\n\r\nexport function StackedBar({ yScale, points, xScale, event, isSelected, noneSelected }: Graph) {\r\n  const keys = getKeys(points);\r\n  const getDate = (d: any) => (new Date(d?.date)).toISOString();\r\n\r\n  const colorScale = scaleOrdinal<string, string>({\r\n    domain: keys,\r\n    range: colors,\r\n  });\r\n\r\n  const reducer = (datum: any): boolean => datum.data;\r\n  const getY = (d: any, index: number) => d[index];\r\n  const getAreaStackX = (d: any) => xScale(d.data.date)!;\r\n\r\n  return (\r\n    <Group >\r\n      <BarStack<any, string>\r\n        keys={keys}\r\n        data={points}\r\n        xScale={xScale}\r\n        yScale={yScale}\r\n        color={colorScale}\r\n        x={getDate}\r\n      >\r\n        {barStacks => {\r\n          return barStacks.map(barStack => {\r\n            const index = barStack.index;\r\n            return barStack.bars.map((bar) => {\r\n              if (bar.bar.data[bar.key] == null) return null;\r\n              return (\r\n                <rect\r\n                  key={`bar-stack-${barStack.index}-${bar.index}`}\r\n                  x={bar.x}\r\n                  y={bar.y}\r\n                  opacity={noneSelected || (isSelected && isSelected(barStack.index))? 0.7 : 0.3}\r\n                  height={bar.height}\r\n                  width={bar.width}\r\n                  fill={getColor(index)}\r\n                />\r\n              )\r\n            })\r\n          })\r\n        }\r\n      }\r\n      </BarStack>\r\n\r\n      <AreaStack\r\n        keys={keys}\r\n        data={points}\r\n        defined={reducer}\r\n        x={getAreaStackX}\r\n        y0={d => yScale(getY(d, 0))}\r\n        y1={d => yScale(getY(d, 1))}\r\n      >\r\n        {({ stacks, path }) => stacks.map((stack, index) =>  (\r\n              <path\r\n                key={`stack-${index}`}\r\n                d={path(stack) || ''}\r\n                opacity={0}\r\n                {...event && event(index)}\r\n              />\r\n            )\r\n          )}\r\n      </AreaStack>\r\n    </Group>);\r\n};\r\n\r\nexport default StackedBar;","import React from 'react'\r\nimport { BarStack, LinePath } from '@vx/shape';\r\nimport { getColor } from '../../utils/color';\r\nimport { CombinedGraph } from '../../types';\r\nimport { scaleOrdinal } from '@vx/scale';\r\nimport { colors } from '../../json/colors.json';\r\nimport { Group } from '@vx/group';\r\nimport { getKeys } from '../../utils/points';\r\n\r\nexport function Combined({ y2Scale, yScale, points, points2, xScale , event}: CombinedGraph) {\r\n  const colorScale = scaleOrdinal<string, string>({\r\n    domain: getKeys(points),\r\n    range: colors,\r\n  });\r\n  const getBarStackX = (d: any) => (new Date(d?.date)).toISOString();\r\n  const keyLine = getKeys(points2)[0] || '';\r\n  const getLineY = (d: any) => y2Scale(d[keyLine]);\r\n  const getLineX = (d: any) => xScale(d.date)! + xScale.bandwidth() / 2;\r\n  const lineReducer = (datum: any): boolean => datum != null;\r\n\r\n  return (\r\n    <>\r\n      <Group >\r\n        <BarStack<any, string>\r\n          keys={getKeys(points)}\r\n          data={points}\r\n          xScale={xScale}\r\n          yScale={yScale}\r\n          color={colorScale}\r\n          x={getBarStackX}\r\n        >\r\n          {barStacks =>\r\n            barStacks.map(barStack => {\r\n              const index = barStack.index;\r\n              return barStack.bars.map((bar) => {\r\n                if (bar.bar.data[bar.key] == null) return null;\r\n                return (\r\n                  <rect\r\n                    key={`bar-stack-${barStack.index}-${bar.index}`}\r\n                    x={bar.x}\r\n                    y={bar.y}\r\n                    {...(event && event(-1))}\r\n                    opacity={0.6}\r\n                    height={bar.height}\r\n                    width={bar.width}\r\n                    fill={getColor(index)}\r\n                  />\r\n                )\r\n              })\r\n            }\r\n            )}\r\n        </BarStack>\r\n      </Group>\r\n\r\n      <LinePath<any>\r\n        x={getLineX}\r\n        y={getLineY}\r\n        data={points2}\r\n        defined={(d: any) => lineReducer(d[keyLine])}\r\n        strokeWidth={3}\r\n        {...(event && event(-1))}\r\n        stroke={getColor(1) + 'A0'}\r\n      />\r\n\r\n      {points2.map((d: any, i: number) => {\r\n        const left = getLineX(d);\r\n        const top = getLineY(d);\r\n        if(d[keyLine] == null) return null;\r\n        return (\r\n          <g key={`circle-${i}`}>\r\n            <circle\r\n              r={7 - points2.length/40}\r\n              cx={left}\r\n              cy={top}\r\n              fill={getColor(1) +  'BB'}\r\n            />\r\n          </g>\r\n        );\r\n      })}\r\n    </>);\r\n}\r\n\r\nexport default Combined;","import React from 'react';\r\nimport { Charts } from \"../types\";\r\nimport MultiLine from \"../components/graph/multi-line\";\r\nimport StackedArea from \"../components/graph/stacked-area\";\r\nimport StackedBar from \"../components/graph/stacked-bar\";\r\nimport Combined from '../components/graph/combined';\r\n\r\nexport const getChart = (chart:Charts | string, props: any) => {\r\n    switch (chart) {\r\n      case Charts.multiLine:\r\n        return <MultiLine {...props} />;\r\n  \r\n      case Charts.stackedArea:\r\n        return <StackedArea {...props} />;\r\n  \r\n      case Charts.stackedBar:\r\n        return <StackedBar {...props} />;\r\n      case Charts.combined:\r\n        return <Combined {...props}/>;\r\n      default:\r\n        return \"Error\";\r\n    }\r\n  }","import React, { useState } from 'react'\r\nimport { XAxis, YAxisLeft, YAxisRight, defaultAxisStyle } from '../axis';\r\nimport { useRect } from '../../hooks/rect';\r\nimport { useScale } from '../../hooks/scale';\r\nimport { useData, useCombinedData } from '../../hooks/data';\r\nimport useToolTip from '../../hooks/tooltip';\r\nimport Tooltip from '../tooltip';\r\nimport { DrawAreaProps, Graph, MultiDrawAreaProps, CombinedGraph, Charts } from '../../types';\r\nimport Grid from '../grid';\r\nimport { getChart } from '../../utils/chart';\r\nimport { TimeSeries } from '../../../../model/domain/metrics';\r\nimport { moment, getTimezone } from '../../../../utils/time';\r\nimport { LegendOrdinal } from '@vx/legend';\r\nimport { scaleOrdinal } from \"@vx/scale\";\r\nimport { colors } from '../../json/colors.json';\r\nimport { getKeys } from '../../utils/points';\r\n\r\nconst DrawArea = (props: DrawAreaProps) => {\r\n  const { size, chartType, data } = props;\r\n  const { timeSeriesResult } = data as any;\r\n  const { height, width } = size;\r\n  const rect = useRect({ height, width });\r\n  const { max, points, linearMax } = useData(timeSeriesResult);\r\n  const [selected, setSelected] = useState(-1);\r\n  const isSelected = (index: number) => selected === index;\r\n\r\n  const { xAxis, yAxis } = useScale({ rect: rect, yMax: chartType === Charts.multiLine ? linearMax : max, points });\r\n  const tickFormatY = getYTickFormatter(timeSeriesResult);\r\n  const tickFormatX = getXTickFormatter(timeSeriesResult);\r\n  const tooltipFormatter = getTooltipDateFormatter(timeSeriesResult);\r\n\r\n  const { tooltipData, hideTooltip, handleTooltip, tooltipLeft, tooltipTop, tooltipOpen } = useToolTip({\r\n    points,\r\n    setSelected,\r\n    units: [timeSeriesResult.unit],\r\n    xScale: xAxis.scale,\r\n    dateFormatter: tooltipFormatter\r\n  });\r\n\r\n  const event = (index = -1) => ({\r\n    onTouchStart: (e: any) => handleTooltip(e, index),\r\n    onTouchMove: (e: any) => handleTooltip(e, index),\r\n    onMouseMove: (e: any) => handleTooltip(e, index),\r\n    onMouseLeave: () => {\r\n      setSelected(-1);\r\n      hideTooltip();\r\n    }\r\n  })\r\n\r\n  const chartProps: Graph = {\r\n    yScale: yAxis.scale,\r\n    points,\r\n    xScale: xAxis.scale,\r\n    isSelected,\r\n    noneSelected: selected === -1,\r\n    event\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ height: height + 'px', width: '100%', position: 'relative' }}>\r\n        <SVG height={height} width={'100%'} {...event(-1)}>\r\n          <Tooltip.Line\r\n            height={height}\r\n            tooltipData={tooltipData}\r\n            tooltipLeft={tooltipLeft}\r\n          />\r\n\r\n          <g transform={`translate(0,${rect.height - rect.margin.bottom})`}>\r\n            <XAxis\r\n              scale={xAxis.scale}\r\n              tickFormat={tickFormatX}\r\n              axisStyleProps={defaultAxisStyle} />\r\n          </g>\r\n\r\n          <g transform={`translate(${rect.margin.left},0)`}>\r\n            <Grid yScale={yAxis.scale} width={rect.innerWidth} />\r\n            <YAxisLeft\r\n              scale={yAxis.scale}\r\n              tickFormat={tickFormatY}\r\n              axisStyleProps={defaultAxisStyle} />\r\n          </g>\r\n          {/*always have this below the <Grid />*/}\r\n          {getChart(chartType, chartProps)}\r\n\r\n        </SVG>\r\n        <Tooltip\r\n          tooltipOpen={tooltipOpen}\r\n          tooltipLeft={tooltipLeft}\r\n          tooltipTop={tooltipTop}\r\n          tooltipData={tooltipData}\r\n          isSelected={isSelected}\r\n          noneSelected={selected === -1}\r\n        />\r\n      </div>\r\n      {props.inChartLegend &&\r\n        <LegendOrdinal\r\n          scale={scaleOrdinal({\r\n            range: colors,\r\n            domain: getKeys(points)\r\n          })\r\n          }\r\n          style={{\r\n            fontSize: '13px',\r\n            display: 'grid',\r\n            textTransform: 'capitalize',\r\n            placeItems: 'center',\r\n            gridTemplateColumns: `repeat(${getKeys(points).length}, 1fr)`\r\n          }}\r\n          shape='circle'\r\n          labelMargin=\"0 15px 0 0\"\r\n        />\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nconst MultiDrawArea = (props: MultiDrawAreaProps) => {\r\n  const { size, chartType, datas } = props;\r\n  const [{ timeSeriesResult }, { timeSeriesResult: timeSeriesResult2 }] = datas;\r\n  const { height, width } = size;\r\n  const rect = useRect({ height, width });\r\n  const data1 = useData(timeSeriesResult);\r\n  const data2 = useData(timeSeriesResult2);\r\n  const dataComb = useCombinedData([timeSeriesResult, timeSeriesResult2]);\r\n\r\n  const { xAxis, yAxis } = useScale({\r\n    rect,\r\n    yMax: data1.max,\r\n    points: data1.points\r\n  });\r\n\r\n  const { yAxis: y2Axis } = useScale({\r\n    rect,\r\n    yMax: data2.max,\r\n    points: data2.points\r\n  });\r\n\r\n  const tickFormatYLeft = getYTickFormatter(timeSeriesResult);\r\n  const tickFormatYRight = getYTickFormatter(timeSeriesResult2);\r\n  const tickFormatX = getXTickFormatter({...timeSeriesResult2, ...props.fixedAlignment? {alignmentPeriod: props.fixedAlignment} : {}} as any);\r\n  const tooltipFormatter = getTooltipDateFormatter(timeSeriesResult);\r\n\r\n  const { tooltipData, hideTooltip, handleTooltip, tooltipLeft, tooltipTop, tooltipOpen } = useToolTip({\r\n    points: dataComb.points,\r\n    units: [timeSeriesResult.unit, ''],\r\n    setSelected: () => { },\r\n    xScale: xAxis.scale,\r\n    dateFormatter: tooltipFormatter\r\n  });\r\n\r\n\r\n  const event = (index = -1) => ({\r\n    onTouchStart: (e: any) => handleTooltip(e, index),\r\n    onTouchMove: (e: any) => handleTooltip(e, index),\r\n    onMouseMove: (e: any) => handleTooltip(e, index),\r\n    onMouseLeave: () => hideTooltip()\r\n  });\r\n  const chartProps: CombinedGraph = {\r\n    yScale: yAxis.scale,\r\n    points: data1.points,\r\n    points2: data2.points,\r\n    y2Scale: y2Axis.scale,\r\n    xScale: xAxis.scale,\r\n    event\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ height: height + 'px', width: '100%', position: 'relative' }}>\r\n        <SVG height={height} width={'100%'} {...event(-1)}>\r\n          <Tooltip.Line\r\n            height={height}\r\n            tooltipData={tooltipData}\r\n            tooltipLeft={tooltipLeft} />\r\n\r\n          <g transform={`translate(0,${rect.height - rect.margin.bottom})`}>\r\n            <XAxis\r\n              scale={xAxis.scale}\r\n              tickFormat={tickFormatX}\r\n              axisStyleProps={defaultAxisStyle} />\r\n          </g>\r\n\r\n          <g transform={`translate(${rect.margin.left},0)`}>\r\n            <Grid yScale={yAxis.scale} width={rect.innerWidth} />\r\n            <YAxisLeft\r\n              scale={yAxis.scale}\r\n              tickFormat={tickFormatYLeft}\r\n              axisStyleProps={defaultAxisStyle} />\r\n          </g>\r\n\r\n          <g transform={`translate(${rect.width - rect.margin.right},0)`}>\r\n            <YAxisRight\r\n              scale={y2Axis.scale}\r\n              tickFormat={tickFormatYRight}\r\n              axisStyleProps={defaultAxisStyle} />\r\n          </g>\r\n\r\n          {/*always have this below the <Grid />*/}\r\n          {getChart(chartType, chartProps)}\r\n\r\n        </SVG>\r\n        <Tooltip\r\n          tooltipOpen={tooltipOpen}\r\n          tooltipLeft={tooltipLeft}\r\n          tooltipTop={tooltipTop}\r\n          tooltipData={tooltipData} />\r\n      </div>\r\n      {props.inChartLegend &&\r\n        <LegendOrdinal\r\n          scale={scaleOrdinal({\r\n            range: colors,\r\n            domain: getKeys(dataComb.points)\r\n          })\r\n          }\r\n          style={{\r\n            fontSize: '13px',\r\n            display: 'grid',\r\n            placeItems: 'center',\r\n            textTransform: 'capitalize',\r\n            gridTemplateColumns: `repeat(${getKeys(dataComb.points).length}, 1fr)`\r\n          }}\r\n          shape='circle'\r\n          labelMargin=\"0 15px 0 0\"\r\n        />\r\n      }\r\n    </>\r\n  );\r\n}\r\ninterface SVGProps {\r\n  height: number | string,\r\n  width: number | string,\r\n  children: any,\r\n  onTouchStart: { (e: React.SyntheticEvent): void };\r\n  onTouchMove: { (e: React.SyntheticEvent): void };\r\n  onMouseMove: { (e: React.SyntheticEvent): void };\r\n  onMouseLeave: { (e: React.SyntheticEvent): void };\r\n}\r\n\r\nconst SVG = (o: SVGProps) => (\r\n  <svg width={o.width} height={o.height}>\r\n    <rect\r\n      x={0}\r\n      y={0}\r\n      width={o.width}\r\n      height={o.height}\r\n      fill={'transparent'}\r\n      onTouchStart={o.onTouchStart}\r\n      onTouchMove={o.onTouchMove}\r\n      onMouseMove={o.onMouseMove}\r\n      onMouseLeave={o.onMouseLeave} />\r\n    {o.children}\r\n  </svg>\r\n);\r\n\r\nDrawArea.Multi = MultiDrawArea;\r\nexport default DrawArea;\r\n\r\nfunction getYTickFormatter(ts: TimeSeries.Result) {\r\n  const identity = (n: any) => n % 1 != 0? null: n;\r\n  const centsFormatter = (n: number) => '$' + (n / 100).toFixed(0);\r\n  const percentFormatter = (n: number) => (n * 100).toFixed(1) + '%';\r\n\r\n  return ts.unit === '%'\r\n    ? percentFormatter\r\n    : ts.unit === 'cents'\r\n      ? centsFormatter\r\n      : identity;\r\n}\r\n\r\n/*\r\n  How TimeSeries Dates should be interpreted:\r\n\r\n  Data points are returned in descending order w.r.t \r\n  `at` field in time series points i.e. data at position 0 is\r\n  greater than data at position 1. Say following 2 successive data points:\r\n\r\n  [\r\n    { at: x, value: v1 isMissing: false },\r\n    { at: y, value: v2, isMissing: false }\r\n  ]\r\n\r\n  then,\r\n  \r\n  x is always greater than y.\r\n\r\n  Moreover, every time series result has `alignmentPeriod` field,\r\n  and according to that, successive data points differ w.r.t `at` field.\r\n\r\n  Following table shows the difference between x and y field for various\r\n  alignmentPeriods.\r\n\r\n  alignmentPeriod  |   x - y\r\n  =============================\r\n      1h           |   1 hours\r\n      1d           |   1 day\r\n      1w           |   1 week\r\n      1m           |   1 month\r\n\r\n  Another thing is that, the value associated with a\r\n  time series point whose `at` field is t1, is some aggregation of data points\r\n  that was collected between (t1, t2], and t2 - t1 is the alignmentPeriod.\r\n\r\n  Thus, for above, v1 is the aggregation of data points between x and y i.e. \r\n  including x but not y.\r\n\r\n  Similarly, v2 is the aggregation of data points between y and z i.e. including\r\n  y and not z; and y - z is the alignment period.\r\n\r\n  This brings to the point of how it affects label. \r\n\r\n  Say our alignmentPeriod was 1w, and the data points were marked at following:\r\n  [ \r\n    { at: 2020-01-14T00:00:00Z, value: v1, isMissing: false },\r\n    { at: 2020-01-07T00:00:00Z, value: v2, isMissing: false }\r\n  ]\r\n\r\n  then v1 is the accumulation of data between (07T00, 14T00].\r\n\r\n  What that means is, datapoints between Jan 7 00:01 AM and Jan 14 00:00 AM\r\n  are being considered. So, infact what we ought to show in the user friendly\r\n  label is not Jan 7 to Jan 14 but rather Jan 7 to Jan 13.\r\n\r\n  So, the display label math turns out to be [d - 1 - 1 week, d - 1].\r\n  \r\n  We do this math for 1m, 1w and 1d. Others aren't necessary, since the\r\n  time difference is already very small\r\n\r\n*/\r\n\r\nconst minusOneDay = (d: string) => moment(d).add(-1, 'day').toISOString();\r\n\r\nconst getXTickFormatter = (() => {\r\n  const f = (date: string, formatter: string) => moment(date).format(formatter);\r\n\r\n  const map: { [key in TimeSeries.AlignmentPeriod]: { (d: string): string } } = {\r\n    '1m': (d: string) => f(minusOneDay(d), 'MMM'),\r\n    '1w': (d: string) => {\r\n      d = minusOneDay(d);\r\n      const d0 = moment(d).subtract(6, 'day').toISOString();\r\n      return `${f(d0, 'MMM DD')} - ${f(d, 'MMM DD')}`;\r\n    },\r\n    '1d': (d: string) => {\r\n      d = minusOneDay(d);\r\n      return moment(d).get('month') === 0 ? f(d, 'MMM, YYYY') : f(d, 'MMM DD');\r\n    },\r\n    '4h': (d: string) => f(d, 'MMM DD'),\r\n    '1h': (d: string) => f(d, 'MMM DD h A'),\r\n    '30m': (d: string) => f(d, 'ddd h A'),\r\n    '5m': (d: string) => f(d, 'h:mm A')\r\n  };\r\n\r\n  const defaultFormatter = map['30m'];\r\n\r\n  return (ts: TimeSeries.Result) => {\r\n    return map[ts.alignmentPeriod] || defaultFormatter;\r\n  }\r\n})();\r\n\r\nconst getTooltipDateFormatter = (() => {\r\n  const f = (date: string, formatter: string) => moment(date).format(formatter);\r\n\r\n  const map: { [key in TimeSeries.AlignmentPeriod]: { (d: string): string } } = {\r\n    '1m': (d: string) => f(minusOneDay(d), 'MMM, YYYY'),\r\n    '1w': (d: string) => {\r\n      d = minusOneDay(d);\r\n      const d0 = moment(d).subtract(6, 'day').toISOString();\r\n      return `${f(d0, 'MMM DD, YYYY')} - ${f(d, 'MMM DD, YYYY')}`;\r\n    },\r\n    '1d': (d: string) => f(minusOneDay(d), 'MMM DD, YYYY'),\r\n    '4h': (d: string) => f(d, 'MMM DD, YYYY, ddd h A'),\r\n    '1h': (d: string) => f(d, 'MMM DD, YYYY, ddd h A'),\r\n    '30m': (d: string) => f(d, 'MMM DD, ddd h A'),\r\n    '5m': (d: string) => f(d, 'MMM DD, h:mm A')\r\n  };\r\n\r\n  const defaultFormatter = map['30m'];\r\n\r\n  return (ts: TimeSeries.Result) => {\r\n    return map[ts.alignmentPeriod] || defaultFormatter;\r\n  }\r\n})();","import React from \"react\";\r\nimport { Card } from 'platyplex_ui';\r\nimport { Table } from \"antd\";\r\nimport { getColor } from \"../utils/color\";\r\nimport { getKeys } from \"../utils/points\";\r\n\r\nexport default ({ points, legend }: { points: any, legend?: { label: string } }) => {\r\n  const tableProps = {\r\n    loading: points && points.length > 0 ? false : true,\r\n    style: { width: '100%' },\r\n    dataSource: getKeys(points).map((key: string, i: number) => ({ label: key, key: i, color: getColor(i) })),\r\n    columns: [\r\n      {\r\n        title: legend?.label,\r\n        dataIndex: 'label',\r\n        key: 'label',\r\n        render: (item: string) => <span className='capitalize'>{item}</span>\r\n      },\r\n      {\r\n        title: 'Color',\r\n        dataIndex: 'color',\r\n        key: 'color',\r\n        render: (color: string) => <span className='round' style={{ background: color }}></span>\r\n      }\r\n    ]\r\n  }\r\n\r\n  if (!legend) return null;\r\n  return (\r\n    <Card shadow width=\"100%\" >\r\n      <Table\r\n        pagination={false}\r\n        {...tableProps}\r\n      />\r\n    </Card>\r\n  )\r\n};","import { useState, useRef, useEffect } from \"react\";\r\n\r\nexport const useResize = ({ filterWidth } : { filterWidth?: number}) =>{\r\n    const [width, setWidth] = useState(300);\r\n    const container = useRef<any>(null);\r\n    const resize = () => setWidth(container?.current?.clientWidth);\r\n    useEffect(resize, [container?.current?.clientWidth, filterWidth]);\r\n    useEffect(() => {\r\n      window?.addEventListener(\"resize\", resize);\r\n      return () => window.removeEventListener(\"resize\", resize);\r\n    }, []);\r\n  \r\n    return {\r\n       container,\r\n       width\r\n    };\r\n  };","import React, { useEffect, useState } from \"react\";\r\nimport { Header, Grid, Notification } from 'platyplex_ui';\r\nimport { disabledTxtColor, primaryColor } from \"../../../config\";\r\nimport { overflow } from \"../../../utils/text\";\r\nimport { Charts } from \"../types\";\r\nimport charts from '../json/charts.json'\r\nimport api from \"../../../api\";\r\nimport logger from \"../../../utils/logger\";\r\nimport { TimeSeries } from '../../../model/domain/metrics';\r\n\r\ntype ReportQuery = {  [key: string]: TimeSeries.Query };\r\n\r\nconst createReport = (eId: string, reportType: string, queries: ReportQuery) => {\r\n  const ts = Object.keys(queries)\r\n  .reduce((acc, key, i) => acc + `${i > 0 ? '&' : ''}${key}=${JSON.stringify(queries[key])}`, '');\r\n\r\n}\r\n\r\nconst ChartHeader = ({\r\n  chartType,\r\n  chartTypes,\r\n  setChartType,\r\n  title, filter,\r\n  isPercent,\r\n  loading = false,\r\n  download,\r\n  eId,\r\n  queries\r\n}: any) => {\r\n  const [links, setLinks] = useState([])\r\n\r\n  return (\r\n    <Header\r\n      className=\"grid\"\r\n      color={primaryColor}\r\n      style={{\r\n        gridColumn: \"1/-1\",\r\n        width: \"100%\",\r\n        gridTemplateColumns: \"1fr auto auto\",\r\n        placeItems: \"start \",\r\n      }}\r\n      bold\r\n      size={4}\r\n    >\r\n      <Grid mobileLayout={false} customCols=\"auto 1fr auto\" gridGap=\".5em\" padding=\".2em .5em\"\r\n        width={'100%'}\r\n        style={{\r\n          placeItems: 'start',\r\n          borderRadius: \"1em\",\r\n          textTransform: \"capitalize\",\r\n          placeSelf: \"start\",\r\n        }}\r\n      >\r\n        <Header bold size={3.75} textAlign='left'>{overflow(title, 25)}</Header>\r\n        <div style={{ placeSelf: \"end\" }}>\r\n       \r\n        </div>\r\n        {filter}\r\n      </Grid>\r\n    </Header>\r\n  )\r\n};\r\nexport default ChartHeader;\r\n\r\nfunction downloadFromLink(link: string)  {\r\n  return new Promise((resolve: any, reject) => {\r\n    const el = document.createElement('a');\r\n    el.setAttribute('id', Math.random() + '');\r\n    el.setAttribute('href', link); \r\n    el.setAttribute('download', '');\r\n    el.setAttribute('style', 'width: 0px, height: 0px');\r\n  \r\n    document.body.appendChild(el); \r\n  \r\n    el.click();\r\n  \r\n    setTimeout(() => {\r\n      document.body.removeChild(el);\r\n      resolve();\r\n    }, 500);\r\n  })\r\n}","\r\nimport React from 'react';\r\nimport { Tooltip } from \"antd\";\r\nconst LIMIT = 20;\r\n\r\nexport const overflowTxt = (txt: string) => `${txt?.substring(0, LIMIT)}${txt?.length > LIMIT ? '...' : ''}`;\r\n\r\nexport const overflow = (txt: string, limit = LIMIT) =>{\r\nif(txt?.length <= limit) return txt;\r\nreturn(\r\n<Tooltip title={txt}>\r\n  <span className=\"cursor capitalize\">\r\n      { `${txt?.substring(0, limit)}${txt?.length > limit ? '...' : ''}`}\r\n </span>\r\n</Tooltip>)\r\n}","import React from \"react\";\r\nimport {Header, Loader } from 'platyplex_ui';\r\nconst Loading = ({ style }: any) => (\r\n    <div className=\"grid\" style={style}>\r\n      <div>\r\n        <Loader.Spinner />\r\n        <Header bold>Loading..</Header>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\nexport default Loading;","import React, { CSSProperties, useEffect, useState } from \"react\";\r\nimport { Card, Empty as EmptyEl } from 'platyplex_ui'\r\nimport Graph from \"./components/graph\";\r\nimport LegendTable from \"./components/legend-table\";\r\nimport { Charts, ChartProps, MultiMetricsChartProps } from \"./types\";\r\nimport { useResize } from \"./hooks/resize\";\r\nimport ChartHeader from \"./components/header\";\r\nimport Loader from './components/loading';\r\nimport { useChartType } from \"./hooks/chart-type\";\r\nimport { useData, useCombinedData } from \"./hooks/data\";\r\nimport { useSelector } from \"react-redux\";\r\n\r\nconst d100: CSSProperties = { height: '100%', width: '100%', textAlign: 'center', marginTop: \"1em\" };\r\nconst height = 400;\r\n\r\nconst Chart = ({ filter, loading, download, eId,  queries, metricDataStatus, legend, filterWidth, title, isPercent, chartTypes = [Charts.stackedBar], inChartLegend }: ChartProps) => {\r\n  const { chartType, setChartType } = useChartType({ chartTypes, isPercent })\r\n  const { container, width } = useResize({ filterWidth });\r\n  const { points } = useData(metricDataStatus.data?.timeSeriesResult);\r\n  return (\r\n    <>\r\n      <Card\r\n        placeSelf=\"stretch\"\r\n        shadow\r\n        grid\r\n        customCols={\"1fr\"}\r\n        gridGap={\"0 1em\"}\r\n        className=\"slide-up noselect\"\r\n      >\r\n        <ChartHeader\r\n          chartType={chartType}\r\n          chartTypes={chartTypes}\r\n          setChartType={setChartType}\r\n          title={title}\r\n          loading={loading}\r\n          isPercent={isPercent}\r\n          filter={filter}\r\n          eId={eId}\r\n          queries={ queries}\r\n        />\r\n        <div style={{ width: \"100%\", marginTop: \"1em\" }} ref={container}>\r\n          {metricDataStatus?.loading\r\n            ? <Loader style={{ ...d100, height }} />\r\n            : metricDataStatus?.error || !metricDataStatus?.data!?.timeSeriesResult\r\n              ? <EmptyEl text=\"Error Occured\" style={{ ...d100, height }} />\r\n              : <Graph\r\n                  inChartLegend={inChartLegend}\r\n                  chartType={chartType}\r\n                  size={{ height, width }}\r\n                  data={metricDataStatus.data as any}\r\n                />\r\n          }\r\n        </div>\r\n      </Card>\r\n      <LegendTable\r\n        legend={legend ? legend : undefined}\r\n        points={points}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nconst MultiMetricsChart = ({ filter, metricDataStatuses, legend, filterWidth, title, inChartLegend, fixedAlignment, download, eId, queries}: MultiMetricsChartProps) => {\r\n  const { container, width } = useResize({ filterWidth });\r\n  const isLoading = metricDataStatuses.reduce((acc, curr) => acc || curr.loading, false);\r\n  const hasError = metricDataStatuses.reduce((acc, curr) => acc || curr.error || !curr?.data?.timeSeriesResult, false);\r\n  const datas = metricDataStatuses.map(({ data }) => data);\r\n  const timeSeries = metricDataStatuses.map(({ data }) => data?.timeSeriesResult)\r\n  const { points } = useCombinedData(timeSeries as any);\r\n  return (\r\n    <>\r\n      <Card\r\n        placeSelf=\"stretch\"\r\n        shadow\r\n        grid\r\n        customCols={\"1fr auto\"}\r\n        gridGap={\"0 1em\"}\r\n        className=\"slide-up noselect\"\r\n      >\r\n        <ChartHeader\r\n          title={title}\r\n          filter={filter}\r\n          download={download}\r\n          eId={eId}\r\n          queries={queries}\r\n        />\r\n        <div style={{ width: \"100%\", marginTop: \"1em\" }} ref={container}>\r\n          {isLoading\r\n            ? <Loader style={{ ...d100, height }} />\r\n            : hasError\r\n              ? <EmptyEl text=\"Error Occured\" style={{ ...d100, height }} />\r\n              :\r\n              <Graph.Multi\r\n                fixedAlignment={fixedAlignment}\r\n                inChartLegend={inChartLegend}\r\n                chartType={Charts.combined}\r\n                size={{ height, width }}\r\n                datas={datas as any}\r\n              />\r\n          }\r\n        </div>\r\n      </Card>\r\n      <LegendTable\r\n        legend={legend ? legend : undefined}\r\n        points={points}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nChart.Multi = MultiMetricsChart\r\nexport default Chart;","import { useState, useEffect } from \"react\";\r\nimport { Charts } from \"../types\";\r\n\r\nexport const useChartType = ({ chartTypes, isPercent}: any) =>{\r\n    const [chartType, setChartType] = useState<Charts>(chartTypes[0] || Charts.stackedBar);\r\n    useEffect(() => {\r\n      if (isPercent)\r\n        setChartType(Charts.multiLine)\r\n    }, [isPercent]);\r\n\r\n    return { chartType, setChartType };\r\n  }; ","import React, { useState } from \"react\";\r\nimport { Grid, Text } from \"platyplex_ui\";\r\nimport Analytics from \"./analytics\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nenum Pages {\r\n  \"ANALYTICS\" = \"ANALYTICS\",\r\n}\r\n\r\nconst Events = () => {\r\n  const [activePage, setActivePage] = useState<Pages>(Pages.ANALYTICS);\r\n  const switches = (\r\n    <Grid margin=\".75em\" cols='2' gridGap='.25em'>\r\n      <Link to=\"/citations/1\">\r\n        <Text color=\"white\" bold size='1.25em' style={{textDecoration:  'underline'}}>\r\n         Analytics\r\n        </Text>\r\n      </Link>\r\n      <Link to=\"/map\">\r\n        <Text color=\"white\" bold size='1.25em'>\r\n          Map\r\n        </Text>\r\n      </Link>\r\n    </Grid>\r\n  );\r\n\r\n  return <Analytics switches={switches} />;\r\n};\r\n\r\nexport default Events;\r\n","import { useState, useEffect } from \"react\";\r\nimport API from \"../api\";\r\nimport { TimeSeries } from \"../model/domain/metrics\";\r\nimport logger from \"../utils/logger\";\r\nexport interface MetricDataStatus {\r\n  error: boolean;\r\n  loading: boolean;\r\n  data?: {\r\n    timeSeriesResult: TimeSeries.Result | null;\r\n    metricDescriptor: TimeSeries.MetricDescriptor;\r\n  };\r\n}\r\n\r\ninterface MetricDataProps {\r\n  timeSeriesQuery: TimeSeries.Query;\r\n  eId: string;\r\n  localStorageKey?: string;\r\n}\r\nexport const useMetricData = ({\r\n  timeSeriesQuery,\r\n  eId,\r\n  localStorageKey,\r\n}: MetricDataProps) => {\r\n  const [state, setState] = useState<TimeSeries.Query>({ ...timeSeriesQuery });\r\n  const [metricDataStatus, setMetricDataStatus] = useState<MetricDataStatus>({\r\n    error: false,\r\n    loading: false,\r\n    data: undefined,\r\n  });\r\n\r\n  const setIntervalPreset = (intervalPreset: TimeSeries.IntervalPreset) => {\r\n    setState({\r\n      ...state,\r\n      intervalPreset,\r\n    });\r\n  };\r\n\r\n  const getMetricData = async (query: TimeSeries.Query) => {\r\n    try {\r\n     \r\n      setMetricDataStatus({ data: null, loading: true, error: false });\r\n      const res = await Promise.all([\r\n        API.getTimeSeries(eId, query),\r\n        API.getTimeSeriesMetricDescriptor(eId, query.metricType),\r\n      ]);\r\n      const [{ timeSeriesResult }, { metricDescriptor }] = res;\r\n      setMetricDataStatus({\r\n        loading: false,\r\n        error: false,\r\n        data: {\r\n          timeSeriesResult,\r\n          metricDescriptor,\r\n        },\r\n      });\r\n    } catch (e) {\r\n      logger.log(e);\r\n      setMetricDataStatus({\r\n        loading: false,\r\n        error: true,\r\n        data: undefined,\r\n      });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n      getMetricData({ ...state });\r\n  }, [state]);\r\n\r\n\r\n  \r\n\r\n  return {\r\n    metricDataStatus,\r\n    setMetricDataStatus,\r\n    setIntervalPreset,\r\n    timeSeriesQuery: state,\r\n    refresh: (q?: TimeSeries.Query) => {\r\n      const query = { ...state, ...q };\r\n      setState(query);\r\n    },\r\n  };\r\n};\r\n\r\nexport default { useMetricData };\r\n","import React, { useMemo } from \"react\";\r\nimport Layout from '../../../layout';\r\nimport { Grid, Switch } from \"platyplex_ui\";\r\nimport Header from \"./header\";\r\nimport Chart from '../../../components/chart';\r\nimport { useMetricData } from '../../../hooks/metrics';\r\nimport { useSelectEnterpriseEvent } from '../model';\r\n\r\n\r\nconst Analytics = ({ switches }: { switches: JSX.Element }) => {\r\n    const eId = '5f0387d7b029fcbd73a1b3cc';\r\n    const { enterpriseEvent: activeEvent } = useSelectEnterpriseEvent();\r\n    const downloads = ['event-revenue', 'event-transactions', 'event-reservations']\r\n    const charts = (() => {\r\n      const c = activeEvent.getAnalyticsCharts();\r\n      return [c.revenue, c.transactions, c.reservations];\r\n    })();\r\n\r\n    const timeSeriesQueries = (() => {\r\n      const f = (charts, i: number) => ({ timeSeriesQuery: charts[i].timeSeriesQuery, eId });\r\n        return [f(charts, 0), f(charts, 1), f(charts, 2)];\r\n    })();\r\n\r\n    const metricDataStatuses = [\r\n      useMetricData(timeSeriesQueries[0]),\r\n      useMetricData(timeSeriesQueries[1]),\r\n      useMetricData(timeSeriesQueries[2])\r\n    ];\r\n   \r\n    useMemo(() => {\r\n      [0, 1, 2].forEach(i => {\r\n        metricDataStatuses[i].refresh(timeSeriesQueries[i].timeSeriesQuery);\r\n      });\r\n    }, [activeEvent.id]);\r\n\r\n    return (\r\n        <Layout sidebar>\r\n            <Layout.Top >\r\n                {switches}\r\n                <Header />\r\n            </Layout.Top>\r\n            <Layout.Bottom>\r\n                <Grid\r\n                 placeItems=\"start stretch\"\r\n                 padding=\"1em\"\r\n                 height=\"100%\"\r\n                 gridGap='.5em'\r\n                 style={{\r\n                   width: 1400,\r\n                   maxWidth: \"100vw\",\r\n                   marginLeft: \"auto\",\r\n                   marginRight: \"auto\",\r\n                 }}>\r\n                    <Grid cols={\"3\" } gridGap=\"0 1em\">\r\n                        {charts.map((chart: any, i) => <Chart\r\n                            isPercent={false}\r\n                            className='slide-up'\r\n                            inChartLegend\r\n                            metricDataStatus={metricDataStatuses[i].metricDataStatus}\r\n                            {...chart}\r\n                            download={downloads[i]}\r\n                            eId={eId}\r\n                            queries={{ timeSeriesQuery: charts[i].timeSeriesQuery }}\r\n                        />)}\r\n                    </Grid>\r\n                </Grid>\r\n            </Layout.Bottom>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Analytics;","import random from \"../../utils/random\";\r\nimport { Zone } from \"../actions/clients\";\r\nimport { savePermits } from \"../actions/permits\";\r\n\r\nexport enum PermitType {\r\n  Residential = 'Residential',\r\n  Visitor = 'Visitor'\r\n}\r\n\r\nexport interface Permit {\r\n  _id?: string;\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  liscensePlate: string;\r\n  starts: string;\r\n  ends: string;\r\n  phone: string;\r\n  type: PermitType;\r\n  zone: Zone;\r\n  employer: number;\r\n}\r\n\r\nexport enum ActionTypes {\r\n  ADD_PERMIT = \"ADD_PERMIT\",\r\n  REMOVE_PERMIT = \"REMOVE_PERMIT\",\r\n  LOAD_PERMIT = \"LOAD_PERMIT\",\r\n  EDIT_PERMIT = \"EDIT_PERMIT\",\r\n  REQUEST_PERMIT = \"REQUEST_PERMIT\",\r\n  ERROR_PERMIT = \"ERROR_PERMIT\",\r\n  SUCCESS_PERMIT = \"SUCCESS_PERMIT\",\r\n}\r\n\r\n\r\nexport interface RootPermit extends Permit {\r\n  residential: Permit[];\r\n  visitor: Permit[];\r\n}\r\n\r\ninterface State {\r\n  permits: RootPermit[];\r\n  error: boolean;\r\n  loading: boolean;\r\n}\r\nexport interface Actions {\r\n  type: ActionTypes;\r\n  payload: Partial<State> & {\r\n    permit: RootPermit;\r\n  };\r\n}\r\n\r\nconst intialState: State = {\r\n  permits: [],\r\n  error: false,\r\n  loading: false,\r\n};\r\n\r\n\r\n\r\nexport default function rootReducer(state = intialState, action: Actions): any {\r\n  let permits = [...state.permits] as any;\r\n\r\n  switch (action.type) {\r\n    case ActionTypes.LOAD_PERMIT:\r\n      return { ...state, permits: action.payload.permits?.filter((i: RootPermit) => i !== null && i !== undefined) };\r\n\r\n    case ActionTypes.REMOVE_PERMIT:\r\n      permits = state.permits.filter(\r\n        (v: Permit) => v._id !== action.payload.permit._id\r\n      );\r\n      savePermits(permits.filter((i: Permit) => i !== null && i !== undefined));\r\n      return {\r\n        ...state,\r\n        permits,\r\n      };\r\n\r\n    case ActionTypes.ADD_PERMIT:\r\n      const permit = action.payload.permit;\r\n      permits = [...state.permits, permit];\r\n      savePermits(permits.filter((i: Permit) => i !== null && i !== undefined));\r\n      return { ...state, permits };\r\n\r\n    case ActionTypes.EDIT_PERMIT:\r\n\r\n      const index: number = Number(action?.payload?.permit?._id) - 1;\r\n      permits[index] = action?.payload?.permit as Permit;\r\n      savePermits(permits.filter((i: Permit) => i !== null && i !== undefined));\r\n      return {\r\n        ...state,\r\n        permits,\r\n      };\r\n\r\n    case ActionTypes.ERROR_PERMIT:\r\n      return { ...state, error: true, loading: false };\r\n\r\n    case ActionTypes.REQUEST_PERMIT:\r\n      return { ...state, error: false, loading: true };\r\n\r\n    case ActionTypes.SUCCESS_PERMIT:\r\n      return { ...state, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport { gradient, primaryColor } from '../../config';\r\nimport { Grid, Modal, Card, Header, Button } from 'platyplex_ui';\r\n\r\nconst ErrorModal = ({\r\n    error, \r\n    buttonText = 'Close', \r\n    buttonAction = () => { }, \r\n    content\r\n}: {\r\n    error: any,\r\n    buttonText?: string,\r\n    buttonAction?: ()=> void,\r\n    content?: any\r\n}) => {\r\n    const message = error.message || error;\r\n    const m = Modal({\r\n        title: \"Error\",\r\n        modal: <Grid height='100vh'>\r\n            <Card shadow grid customRows='auto 1fr' style={{ borderRadius: '1em' }} gridGap={'.5em'}>\r\n                <i\r\n                    onClick={() => m.close()}\r\n                    style={{ color: primaryColor, placeSelf: 'start' }}\r\n                    className='fa fa-times hoverr bold txt-md'\r\n                >\r\n                </i>\r\n                <div style={{ maxWidth: '500px', minWidth: '280px' }}>\r\n                    {content ||\r\n                        <>\r\n                            <Header className='med' margin='.25em .25em 1em .25em'>{message}</Header>\r\n                        </>}\r\n                    <Button\r\n                        bg={gradient}\r\n                        noHover\r\n                        padding=\".5em\"\r\n                        rounded\r\n                        margin=\".8rem 0\"\r\n                        width=\"100%\"\r\n                        onClick={() => {\r\n                            buttonAction();\r\n                            m.close();\r\n                        }}\r\n                    >\r\n                        {buttonText}\r\n                    </Button>\r\n                </div>\r\n            </Card>\r\n        </Grid>,\r\n        hideCancel: true,\r\n    })\r\n    m.open()\r\n};\r\nexport default ErrorModal;","import { ActionTypes, Client } from \"../reducer/clients\";\r\nimport ErrorModal from \"../../components/modal\";\r\nimport { Notification} from 'platyplex_ui';\r\n\r\nexport enum ParkingLot {\r\n  Lot1 = 'Thomas E. Dernoga',\r\n  Lot2 = 'Deni L. Taveras',\r\n  Lot3 = 'Dannielle M. Glaros'\r\n} \r\n\r\nexport enum Zone {\r\n  R1 = 'R1',\r\n  R2 = 'R2',\r\n  R3 = 'R3',\r\n  R4 = 'R4'\r\n} \r\n\r\nexport const defaultClients: Client[] = [\r\n  {\r\n    id: \"1\",\r\n    name: \"Computer Science\",\r\n    open: true,\r\n    parkingSpace: 65,\r\n    overbooking: true,\r\n    communication: true,\r\n    \r\n    parkingLot: [ParkingLot.Lot1],\r\n    zone: [Zone.R1],\r\n\r\n    employee: 60,\r\n    handicap: 5,\r\n\r\n    employeeFee : 45,\r\n    handicapFee: 45,\r\n    residenceFee: 45\r\n  },\r\n  {\r\n    id: \"2\",\r\n    name: \"Mechanical Engineering\",\r\n    open: false,\r\n    parkingSpace: 120,\r\n    overbooking: true,\r\n    communication: true,\r\n    \r\n    parkingLot: [ParkingLot.Lot1],\r\n    zone: [Zone.R1],\r\n\r\n    employee: 105,\r\n    handicap: 15,\r\n    \r\n    employeeFee : 45,\r\n    handicapFee: 45,\r\n    residenceFee: 45\r\n  },\r\n\r\n  {\r\n    id: \"3\",\r\n    name: \"D. School\",\r\n    open: false,\r\n    parkingSpace: 100,\r\n    overbooking: true,\r\n    communication: true,\r\n  \r\n    parkingLot: [ParkingLot.Lot1],\r\n    zone: [Zone.R1],\r\n\r\n    employee: 90,\r\n    handicap: 10,\r\n    \r\n    employeeFee : 45,\r\n    handicapFee: 45,\r\n    residenceFee: 45\r\n  },\r\n\r\n  {\r\n    id: \"4\",\r\n    name: \"Buisness School\",\r\n    open: false,\r\n    parkingSpace: 100,\r\n    overbooking: true,\r\n    communication: true,\r\n  \r\n    parkingLot: [ParkingLot.Lot1],\r\n    zone: [Zone.R1],\r\n\r\n    employee: 90,\r\n    handicap: 10,\r\n    \r\n    employeeFee : 45,\r\n    handicapFee: 45,\r\n    residenceFee: 45\r\n  },\r\n];\r\n\r\nconst KEY = 'clients-standford';\r\nconst hasClients = () => {\r\n  const clients = localStorage.getItem(KEY);\r\n  try{\r\n  return clients && typeof clients === 'string' && typeof JSON.parse(clients) === 'object';\r\n  } catch(e){\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const saveClients = (clients: Client[]) => {\r\n  localStorage.setItem(KEY, JSON.stringify(clients))\r\n}\r\n\r\nconst loadClients = (): Client[] => {\r\n  if (!hasClients()) {\r\n    saveClients(defaultClients);\r\n    return defaultClients;\r\n  }\r\n\r\n  return JSON.parse(localStorage.getItem(KEY) || '[]')\r\n}\r\n\r\nconst DELAY = 2000;\r\n\r\nconst delay = (f: any) => new Promise(resolve => setTimeout(resolve, f));\r\n\r\nconst delayedResponse = async (action: any) => {\r\n  await delay(DELAY)\r\n  return action()\r\n};\r\n\r\n\r\nexport const asyncActions = async (dispatch: any, action: () => any) => {\r\n  dispatch({\r\n    type: ActionTypes.REQUEST_CLIENT\r\n  })\r\n\r\n  await delayedResponse(() => {\r\n    action();\r\n    dispatch({\r\n      type: ActionTypes.SUCCESS_CLIENT\r\n    });\r\n\r\n  })\r\n\r\n};\r\n\r\nexport const getClients = (modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => dispatch({\r\n      type: ActionTypes.LOAD_CLIENT,\r\n      payload: { clients: loadClients() },\r\n    }))\r\n  };\r\n};\r\n\r\nexport const addClient = (client: Client, modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => dispatch({\r\n      type: ActionTypes.ADD_CLIENT,\r\n      payload: { client },\r\n    }));\r\n  };\r\n};\r\n\r\nexport const removeClient = (client: Client, modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => {\r\n      dispatch({\r\n      type: ActionTypes.REMOVE_CLIENT,\r\n      payload: { client },\r\n    })\r\n    Notification.success({ title: 'Success', message: \"Permit Successfully Deleted\"})\r\n  }\r\n    );\r\n  };\r\n};\r\n\r\nexport const editClient = (client: Client, modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => {\r\n      dispatch({\r\n      type: ActionTypes.EDIT_CLIENT,\r\n      payload: { client },\r\n    })\r\n   \r\n  });\r\n  };\r\n};","import { saveClients } from \"../actions/clients\";\r\n\r\nexport enum Zone {\r\n  R1 = 'R1',\r\n  R2 = 'R2',\r\n  R3 = 'R3',\r\n  R4 = 'R4'\r\n} \r\n\r\nexport enum ParkingLot {\r\n  Lot1 = 'Thomas E. Dernoga',\r\n  Lot2 = 'Deni L. Taveras',\r\n  Lot3 = 'Dannielle M. Glaros'\r\n} \r\n\r\nexport interface Client {\r\n  id: string;\r\n  name: string;\r\n  open: boolean;\r\n  parkingLot: ParkingLot[],\r\n  parkingSpace: number;\r\n  overbooking: boolean;\r\n  employee: number;\r\n  handicap: number;\r\n  zone: Zone[];\r\n  communication: boolean;\r\n  employeeFee : number,\r\n  handicapFee: number,\r\n  residenceFee: number;\r\n}\r\n\r\ninterface State {\r\n  clients: Client[];\r\n  error: boolean;\r\n  loading: boolean;\r\n}\r\nexport enum ActionTypes {\r\n  ADD_CLIENT = \"ADD_CLIENT\",\r\n  REMOVE_CLIENT = \"REMOVE_CLIENT\",\r\n  LOAD_CLIENT = \"LOAD_CLIENT\",\r\n  EDIT_CLIENT = \"EDIT_CLIENT\",\r\n  REQUEST_CLIENT = \"REQUEST_CLIENT\",\r\n  ERROR_CLIENT = \"ERROR_CLIENT\",\r\n  SUCCESS_CLIENT = \"SUCCESS_CLIENT\",\r\n};\r\n\r\nexport interface Actions {\r\n  type: ActionTypes;\r\n  payload: Partial<State> & {\r\n    client: Client;\r\n  };\r\n}\r\n\r\nconst intialState: State = {\r\n  clients: [],\r\n  error: false,\r\n  loading: false,\r\n};\r\n\r\n\r\n\r\nexport default function rootReducer(state = intialState, action: Actions): any {\r\n  let clients = [...state.clients] as any;\r\n\r\n  switch (action.type) {\r\n    case ActionTypes.LOAD_CLIENT:\r\n      return { ...state, clients: action.payload.clients?.filter((i: Client) => i !== null && i !== undefined) };\r\n\r\n    case ActionTypes.REMOVE_CLIENT:\r\n      clients = state.clients.filter(\r\n        (v: Client) => v.id !== action.payload.client.id\r\n      );\r\n      saveClients(clients.filter((i: Client) => i !== null && i !== undefined));\r\n      return {\r\n        ...state,\r\n        clients,\r\n      };\r\n\r\n    case ActionTypes.ADD_CLIENT:\r\n      const client = { ...action.payload.client, id: String(clients.length + 1) };\r\n      clients = [...state.clients, client];\r\n      saveClients(clients.filter((i: Client) => i !== null && i !== undefined));\r\n      return { ...state, clients };\r\n\r\n    case ActionTypes.EDIT_CLIENT:\r\n      const index: number = Number(action?.payload?.client?.id) - 1;\r\n      clients[index] = action?.payload?.client as Client;\r\n      saveClients(clients.filter((i: Client) => i !== null && i !== undefined));\r\n      return {\r\n        ...state,\r\n        clients,\r\n      };\r\n\r\n    case ActionTypes.ERROR_CLIENT:\r\n      return { ...state, error: true, loading: false };\r\n\r\n    case ActionTypes.REQUEST_CLIENT:\r\n      return { ...state, error: false, loading: true };\r\n\r\n    case ActionTypes.SUCCESS_CLIENT:\r\n      return { ...state, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","export const random  = (length : number, number = false) =>{\r\n    let max : number = 123; //ascii for 'z'\r\n    let min : number = 97; //ascii for 'a'\r\n    let temp : string = '';\r\n  \r\n    for( let i : number = 0; i < length; i++){\r\n     let code: number =  Math.floor(Math.random() * (Math.floor(max) - Math.ceil(min))) + Math.floor(min);\r\n     temp += String.fromCharCode(code);\r\n   }\r\n    return temp.toUpperCase();\r\n  }\r\n  \r\n  export default random;","import random from \"../../utils/random\";\r\nimport { saveNotifications } from \"../actions/notifications\";\r\n\r\nexport interface Notification {\r\n    key: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    liscensePlate: string;\r\n    phone: string;\r\n}\r\n\r\ninterface State {\r\n  notifications: Notification[];\r\n  error: boolean;\r\n  loading: boolean;\r\n}\r\n\r\nexport enum ActionTypes {\r\n  ADD_NOTIFICATION = \"ADD_NOTIFICATION\",\r\n  REMOVE_NOTIFICATION = \"REMOVE_NOTIFICATIONT\",\r\n  LOAD_NOTIFICATION = \"LOAD_NOTIFICATION\",\r\n}\r\n\r\nexport interface Actions {\r\n  type: ActionTypes;\r\n  payload: Partial<State> & {\r\n    notification: Notification;\r\n  };\r\n}\r\n\r\nconst intialState: State = {\r\n  notifications: [],\r\n  error: false,\r\n  loading: false,\r\n};\r\n\r\n\r\nexport default function rootReducer(state = intialState, action: Actions): any {\r\n  let notifications = [...state.notifications] as any;\r\n \r\n  switch (action.type) {\r\n\r\n    case ActionTypes.LOAD_NOTIFICATION:\r\n      return { ...state, notifications: action.payload.notifications };\r\n\r\n    case ActionTypes.REMOVE_NOTIFICATION:\r\n      notifications = state.notifications.filter(\r\n        (v: Notification) => v.key !== action.payload.notification.key\r\n      );\r\n      saveNotifications(notifications.filter((i: Notification) => i !== null && i !== undefined));\r\n      return {\r\n        ...state,\r\n        notifications,\r\n      };\r\n\r\n    case ActionTypes.ADD_NOTIFICATION:\r\n      const notification = { ...action.payload.notification, key: random(8)};\r\n      notifications = [...state.notifications, notification];\r\n      saveNotifications(notifications.filter((i: Notification) => i !== null && i !== undefined));\r\n      return { ...state, notifications };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import ErrorModal from \"../../components/modal\";\r\nimport { Notification } from \"platyplex_ui\";\r\nimport {\r\n  Notification as NotificationType,\r\n  ActionTypes,\r\n} from \"../reducer/notifications\";\r\n\r\n\r\nexport const dataSource: NotificationType[] = [\r\n  {\r\n    key: 'LC4D6',\r\n    firstName: 'Emma'\t,\r\n    lastName: 'Doe',\r\n    email:\t'emma.doe@gmail.com',\r\n    phone:\t'612-982-6192',\r\n    liscensePlate:\t'L3CCZ80D'\r\n  }\r\n];\r\n\r\nconst KEY = \"notifications\";\r\n\r\nconst hasNotification = () => {\r\n  const permits = localStorage.getItem(KEY);\r\n  try {\r\n    return (\r\n      permits &&\r\n      typeof permits === \"string\" &&\r\n      typeof JSON.parse(permits) === \"object\"\r\n    );\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const saveNotifications = (notifications: NotificationType[]) => {\r\n  localStorage.setItem(KEY, JSON.stringify(notifications));\r\n};\r\n\r\nconst loadNotifications = (): NotificationType[] => {\r\n  if (!hasNotification()) {\r\n    saveNotifications(dataSource);\r\n    return dataSource;\r\n  }\r\n\r\n  return JSON.parse(localStorage.getItem(KEY) || \"[]\");\r\n};\r\n\r\nexport const getNotifications = (modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    dispatch({\r\n      type: ActionTypes.LOAD_NOTIFICATION,\r\n      payload: { notifications: loadNotifications() },\r\n    });\r\n  };\r\n};\r\nexport const addNotification = (\r\n  notification: Partial<NotificationType>,\r\n  modal = ErrorModal\r\n) => {\r\n  return async (dispatch: any) => {\r\n    dispatch({\r\n      type: ActionTypes.ADD_NOTIFICATION,\r\n      payload: { notification },\r\n    });\r\n  };\r\n};\r\n\r\nexport const removeNotification = (\r\n  notification: NotificationType,\r\n  modal = ErrorModal\r\n) => {\r\n  return async (dispatch: any) => {\r\n    Notification.success({\r\n      title: \"Success\",\r\n      message: \"Notification Successfully Deleted\",\r\n    });\r\n    dispatch({\r\n      type: ActionTypes.REMOVE_NOTIFICATION,\r\n      payload: { notification },\r\n    });\r\n  };\r\n};\r\n","import { ActionTypes, VehiclePermit } from \"../reducer/vehicle-permit\";\r\nimport ErrorModal from \"../../components/modal\";\r\n\r\nexport const defaultClients: VehiclePermit[] = [];\r\n\r\nconst KEY = 'vehicle-permit-standford';\r\nconst hasClients = () => {\r\n  const clients = localStorage.getItem(KEY);\r\n  try{\r\n  return clients && typeof clients === 'string' && typeof JSON.parse(clients) === 'object';\r\n  } catch(e){\r\n    return false;\r\n  }\r\n}\r\n\r\nexport const saveVehiclePermit = (clients: VehiclePermit[]) => {\r\n  localStorage.setItem(KEY, JSON.stringify(clients))\r\n}\r\n\r\nconst loadVehiclePermit = (): VehiclePermit[] => {\r\n  if (!hasClients()) {\r\n    saveVehiclePermit(defaultClients);\r\n    return defaultClients;\r\n  }\r\n\r\n  return JSON.parse(localStorage.getItem(KEY) || '[]')\r\n}\r\n\r\nconst DELAY = 2000;\r\n\r\nconst delay = (f: any) => new Promise(resolve => setTimeout(resolve, f));\r\n\r\nconst delayedResponse = async (action: any) => {\r\n  await delay(DELAY)\r\n  return action()\r\n};\r\n\r\nexport const asyncActions = async (dispatch: any, action: () => any) => {\r\n  dispatch({\r\n    type: ActionTypes.REQUEST_V_PERMIT\r\n  })\r\n\r\n  await delayedResponse(() => {\r\n    action();\r\n    dispatch({\r\n      type: ActionTypes.SUCCESS_V_PERMIT\r\n    });\r\n\r\n  })\r\n};\r\n\r\nexport const getVehiclePermit = (modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => dispatch({\r\n      type: ActionTypes.LOAD_V_PERMIT,\r\n      payload: { vehiclePermits: loadVehiclePermit() },\r\n    }))\r\n  };\r\n};\r\n\r\nexport const addVehiclePermit = (vehiclePermit: VehiclePermit, modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => dispatch({\r\n      type: ActionTypes.ADD_V_PERMIT,\r\n      payload: { vehiclePermit },\r\n    }));\r\n  };\r\n};\r\n","import { Zone } from \"../actions/clients\";\r\nimport { saveVehiclePermit } from \"../actions/vehicle-permit\";\r\n\r\nexport enum PermitType {\r\n  Residential = 'Residential',\r\n  Visitor = 'Visitor'\r\n};\r\nexport enum ActionTypes {\r\n  ADD_V_PERMIT = \"ADD_V_PERMIT\",\r\n  LOAD_V_PERMIT = \"LOAD_V_PERMIT\",\r\n  REQUEST_V_PERMIT = \"REQUEST_V_PERMIT\",\r\n  ERROR_V_PERMIT = \"ERROR_V_PERMIT\",\r\n  SUCCESS_V_PERMIT = \"SUCCESS_V_PERMIT\",\r\n}\r\n\r\n\r\nexport interface VehiclePermit{\r\n  _id?: string;\r\n  liscensePlate: string;\r\n  starts: string;\r\n  ends: string;\r\n  type: PermitType;\r\n  zone: Zone;\r\n  employer: number;\r\n};\r\n\r\ninterface State {\r\n  vehiclePermits: any[];\r\n  error: boolean;\r\n  loading: boolean;\r\n};\r\n\r\ninterface Actions {\r\n  type: ActionTypes;\r\n  payload: Partial<State> & {\r\n    vehiclePermit: VehiclePermit;\r\n  };\r\n};\r\n\r\nconst intialState: State = {\r\n  vehiclePermits: [],\r\n  error: false,\r\n  loading: false,\r\n};\r\n\r\n\r\nexport default function rootReducer(state = intialState, action: Actions): State {\r\n  let vehiclePermits = [...state.vehiclePermits] as any;\r\n\r\n  switch (action.type) {\r\n    case ActionTypes.LOAD_V_PERMIT:\r\n      return { ...state, vehiclePermits: action.payload.vehiclePermits?.filter((i: VehiclePermit) => i !== null && i !== undefined) };\r\n\r\n    case ActionTypes.ADD_V_PERMIT:\r\n      const vehiclePermit = action.payload.vehiclePermit;\r\n      vehiclePermits = [...state.vehiclePermits, vehiclePermit];\r\n      saveVehiclePermit(vehiclePermits.filter((i: VehiclePermit) => i !== null && i !== undefined));\r\n      return { ...state, vehiclePermits };\r\n    \r\n    case ActionTypes.ERROR_V_PERMIT:\r\n      return { ...state, error: true, loading: false };\r\n\r\n    case ActionTypes.REQUEST_V_PERMIT:\r\n      return { ...state, error: false, loading: true };\r\n\r\n    case ActionTypes.SUCCESS_V_PERMIT:\r\n      return { ...state, loading: false };\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import random from \"../../utils/random\";\r\nimport { saveNotifications } from \"../actions/notifications\";\r\n\r\nexport interface Dispatch {\r\n    key: string;\r\n    firstName: string;\r\n    lastName: string;\r\n    email: string;\r\n    liscensePlate: string;\r\n    phone: string;\r\n    time: string;\r\n}\r\n\r\ninterface State {\r\n  dispatches: Dispatch[];\r\n  error: boolean;\r\n  loading: boolean;\r\n}\r\n\r\nexport enum ActionTypes {\r\n  ADD_DISPATCH = \"ADD_DISPATCH\",\r\n  LOAD_DISPATCH = \"LOAD_DISPATCH\",\r\n}\r\n\r\nexport interface Actions {\r\n  type: ActionTypes;\r\n  payload: Partial<State> & { \r\n    dispatch: Dispatch;\r\n  };\r\n}\r\n\r\nconst intialState: State = {\r\n  dispatches: [],\r\n  error: false,\r\n  loading: false,\r\n};\r\n\r\n\r\nexport default function rootReducer(state = intialState, action: Actions): any {\r\n  let dispatches = [...state.dispatches] as any;\r\n \r\n  switch (action.type) {\r\n\r\n    case ActionTypes.LOAD_DISPATCH:\r\n      return { ...state, dispatches: action.payload.dispatches };\r\n\r\n    case ActionTypes.ADD_DISPATCH:\r\n      const dispatch = { ...action.payload.dispatch, key: random(8)};\r\n      dispatches = [...state.dispatches, dispatch];\r\n      saveNotifications(dispatches.filter((i: Notification) => i !== null && i !== undefined));\r\n      return { ...state, dispatches };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import { combineReducers } from 'redux'\r\nimport clients from './clients'\r\nimport permits from './permit'\r\nimport search from './search';\r\nimport notifications from './notifications';\r\nimport vehiclePermits from './vehicle-permit';\r\nimport dispatches from './dispatches';\r\n\r\nexport default combineReducers({\r\n clients,\r\n permits,\r\n search,\r\n vehiclePermits,\r\n notifications,\r\n dispatches\r\n})","import {\r\n  Dispatch,\r\n  ActionTypes,\r\n} from \"../reducer/dispatches\";\r\n\r\nexport const dataSource: Dispatch[] = [{\r\n  key: '111',\r\n  time: 'Wed, May 19, 2021 @ 09:04 PM',\r\n  firstName: 'Hooman'\t,\r\n  lastName: 'Bolandi',\r\n  email:\t'hooman.bolandi@gmail.com',\r\n  phone:\t'318-236-3390',\r\n  liscensePlate:\t'32TTY678'\r\n}];\r\n\r\nconst KEY = \"dispatches\";\r\n\r\nconst hasDispatches = () => {\r\n  const permits = localStorage.getItem(KEY);\r\n  try {\r\n    return (\r\n      permits &&\r\n      typeof permits === \"string\" &&\r\n      typeof JSON.parse(permits) === \"object\"\r\n    );\r\n  } catch (e) {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const saveDispatches = (dispatches: Dispatch[]) => {\r\n  localStorage.setItem(KEY, JSON.stringify(dispatches));\r\n};\r\n\r\nconst loadDispatches = (): Dispatch[] => {\r\n  if (!hasDispatches()) {\r\n    saveDispatches(dataSource);\r\n    return dataSource;\r\n  }\r\n\r\n  return JSON.parse(localStorage.getItem(KEY) || \"[]\");\r\n};\r\n\r\nexport const getDispatches = () => {\r\n  return async (dispatch: any) => {\r\n    dispatch({\r\n      type: ActionTypes.LOAD_DISPATCH,\r\n      payload: { dispatches: loadDispatches() },\r\n    });\r\n  };\r\n};\r\nexport const addDispatch = (\r\n  d: Partial<Dispatch>\r\n) => {\r\n  return async (dispatch: any) => {\r\n    dispatch({\r\n      type: ActionTypes.ADD_DISPATCH,\r\n      payload: { dispatch : d},\r\n    });\r\n  };\r\n};","import { createStore, applyMiddleware } from 'redux';\r\nimport  rootReducer  from './reducer';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport { getClients } from './actions/clients';\r\nimport { checkPermit, getPermits } from './actions/permits';\r\nimport { getNotifications } from './actions/notifications';\r\nimport { getDispatches } from './actions/dispatches';\r\nimport { getVehiclePermit } from './actions/vehicle-permit';\r\n\r\nconst logger = (store : any) =>( next : any) => (action : any) => {\r\n   console.group(action.type)\r\n   console.info('dispatching', action)\r\n   let result = next(action)\r\n   console.log('next state', store.getState())\r\n   console.groupEnd()\r\n   return result\r\n }\r\n\r\n \r\nconst ReduxThunk = require('redux-thunk').default\r\nconst store = createStore(rootReducer, composeWithDevTools(\r\n   \r\napplyMiddleware(ReduxThunk, logger)));\r\n\r\nstore.dispatch(getVehiclePermit() as any);\r\nstore.dispatch(getClients() as any);\r\n\r\nsetInterval(()=>store.dispatch(checkPermit() as any), 2000);\r\nstore.dispatch(getNotifications() as any);\r\nstore.dispatch(getDispatches() as any);\r\nsetTimeout(()=>store.dispatch(getPermits() as any), 0)\r\nexport default store;","import React, { useState } from \"react\";\r\nimport { Grid, Modal, Switch, Card, Button, Text } from \"platyplex_ui\";\r\nimport { gradient, primaryColor, primaryTxtColor } from \"../../../config\";\r\nimport { Table, Input, Select,  Popconfirm } from \"antd\";\r\nimport { Message } from \"../../client/form\";\r\nimport { moment } from \"../../../utils/time\";\r\nimport { Client } from \"../../../store/reducer/clients\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Permit, PermitType, RootPermit } from \"../../../store/reducer/permit\";\r\nimport { removePermit } from \"../../../store/actions/permits\";\r\nimport { useParams } from \"react-router\";\r\nimport random from \"../../../utils/random\";\r\nimport store from \"../../../store\";\r\n\r\nenum HistoryState {\r\n  ACTIVE = \"ACTIVE\",\r\n  UPCOMING = \"UPCOMING\",\r\n  EXPIRED = \"EXPIRED\",\r\n  CANCELLED = \"CANCELED\",\r\n}\r\n\r\nconst History = ({ client }: { client?: Client }) => {\r\n  let { id } = useParams<{id: any}>();\r\n  const [state, setter] = useState({\r\n    type: HistoryState.ACTIVE,\r\n    checked: false,\r\n  });\r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  const { vehiclePermits } = useSelector((state: any) => state.vehiclePermits);\r\n  const { permits, loading } = useSelector((state: any) => state.permits);\r\n  const setState = (props: any) => setter({ ...state, ...props });\r\n\r\n  const dispatch = useDispatch();\r\n \r\n\r\n  const flatPermits = (p: any[] )=>{\r\n    let arr = [...p];\r\n    arr.forEach((p: RootPermit)=> {\r\n      arr = [...arr, ...p.residential]\r\n      arr = [...arr, ...p.visitor]\r\n    })\r\n\r\n    return arr;\r\n\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Switch\r\n        style={{ padding: 0 }}\r\n        onClick={(type: any) => setState({ type })}\r\n        color={primaryTxtColor}\r\n        border={\"2px solid \" + primaryColor}\r\n        items={Object.keys(HistoryState)}\r\n        active={state.type}\r\n      />\r\n      <br />\r\n        <Table\r\n          bordered\r\n          style={{ maxWidth: '100%', overflowX: 'scroll'}}\r\n          pagination={{ pageSize: 25 }}\r\n          loading={loading}\r\n          dataSource={[...flatPermits(permits), ...vehiclePermits]}\r\n          columns={\r\n            permitColumns(clients, (p: RootPermit)=> dispatch(removePermit(p)))}\r\n        />\r\n    </>\r\n  );\r\n};\r\n\r\nconst Modall = ({ close, checked, permit, second_vaccine }: any) => {\r\n  const [done, setDone] = useState(false);\r\n  const nextState = () => setDone(true);\r\n  second_vaccine = Number(second_vaccine) || 7;\r\n\r\n  return (\r\n    <Grid height=\"100%\" width=\"100%\">\r\n      <Card\r\n        shadow\r\n        grid\r\n        placeItems=\"stretch\"\r\n        style={{ minWidth: \"40vw\", maxWidth: \"95vw\" }}\r\n        customCols=\"auto 1fr\"\r\n        mobileLayout={false}\r\n      >\r\n        <i\r\n          onClick={close}\r\n          className=\"fa fa-times-circle txt-md pointer hoverr\"\r\n          style={{\r\n            gridRow: done ? \"span 1\" : \"span 7\",\r\n            padding: \".25em\",\r\n            placeSelf: \"start\",\r\n            color: primaryColor,\r\n          }}\r\n        />\r\n        {done ? (\r\n          <Message\r\n            generate\r\n            user={{\r\n              id: \"CBL61W21\",\r\n              endDate: moment(permit.starts).add(\"days\", second_vaccine).toISOString(),\r\n            }}\r\n            admin\r\n            style={{ gridGap: \"1em\" }}\r\n            confirm={() => {\r\n            //  checked();\r\n              close();\r\n            }}\r\n          />\r\n        ) : (\r\n          <>\r\n            <Text bold style={{ marginTop: \"1.5em\" }}>\r\n             E-Permit Extension\r\n            </Text>\r\n            <Text textAlign=\"left\">\r\n              E-Permit ID: <b>{permit._id?.substring(0,5)}</b>\r\n            </Text>\r\n            <Text textAlign=\"left\">\r\n              Extended Date & Time:{\" \"}\r\n              <b>\r\n                {moment(permit.starts)\r\n                  .add(\"days\", 3)\r\n                  .format(\"ddd, MMM, DD, YYYY\")}\r\n              </b>\r\n            </Text>\r\n            <Button.Normal\r\n              style={{\r\n                borderRadius: \"1.3em\",\r\n                padding: \".5em\",\r\n                marginTop: \"1em\",\r\n                backgroundImage: `${gradient}`,\r\n                color: \"white\",\r\n                border: 0,\r\n                placeSelf: \"start\",\r\n                minWidth: \"15vw\",\r\n              }}\r\n              onClick={() => {\r\n                nextState();\r\n              }}\r\n              type=\"submit\"\r\n            >\r\n             Extend\r\n            </Button.Normal>\r\n          </>\r\n        )}\r\n      </Card>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport const permitColumns = (clients: Client[], removePermit: (p : Permit)=> void) => [\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Permit Type\r\n        <Select style={{ width: 65 }} defaultValue=\"All\">\r\n          <Select.Option value={\"Residential\"}>Residential</Select.Option>\r\n          <Select.Option value={\"Visitor\"}>Visitor</Select.Option>\r\n        </Select>\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"type\",\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n      Address\r\n        <Select style={{ width: 65 }} defaultValue=\"All\">\r\n          <Select.Option value={'Palo Alto, CA'}>Palo Alto, CA</Select.Option>\r\n        </Select>\r\n      </Grid>\r\n    ),\r\n    render: (c: Permit, a: any, i: number)=> 'Palo Alto, CA'\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        E-Permit ID\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 50 }} />\r\n      </Grid>\r\n    ),\r\n    render: (p: Permit)=> p?._id? p?._id?.substring(p?._id?.length -5)?.toUpperCase() :   random(5)\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        First Name\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 50 }} />\r\n      </Grid>\r\n    ),\r\n    render: (p: any) =>  !p?._id? 'N/A':  p.firstName || <span style={{color: 'coral'}}>Pending</span>,\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Last Name\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 50 }} />\r\n      </Grid>\r\n    ),\r\n    render: (p: any) =>  !p?._id? 'N/A': p.lastName || <span style={{color: 'coral'}}>Pending</span>,\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Email\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 80 }} />\r\n      </Grid>\r\n    ),\r\n    render: (p: any) =>  !p?._id? 'N/A': p.email || <span style={{color: 'coral'}}>Pending</span>,\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Phone Number\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 80 }} />\r\n      </Grid>\r\n    ),\r\n    render: (p: any) =>  !p?._id? 'N/A': (p.phone || <span style={{color: 'coral'}}>Pending</span>),\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Department\r\n        <Select style={{ width: 60 }} defaultValue=\"All\" />\r\n      </Grid>\r\n    ),\r\n    render: (i)=> clients[i.employer || 0]?.name || 'Computer Science',\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        License Plate #\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 65 }} />\r\n      </Grid>\r\n    ),\r\n    render: (i: any) => i.liscensePlate || <span style={{color: 'coral'}}>Pending</span>,\r\n    \r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n       Start Date\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 100 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"starts\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        End Date\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 100 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"ends\",\r\n  },\r\n\r\n\r\n];\r\n\r\nexport default History;\r\n","import { ActionTypes, Permit, PermitType, RootPermit } from \"../reducer/permit\";\r\nimport ErrorModal from \"../../components/modal\";\r\nimport { Notification } from \"platyplex_ui\";\r\nimport { moment } from \"../../utils/time\";\r\nimport random from \"../../utils/random\";\r\nimport api from \"../../api\";\r\nimport store from \"..\";\r\n\r\nexport const dataSource: RootPermit[] = [];\r\n\r\nconst KEY = \"permits\";\r\n\r\nexport const savePermits = (permits: RootPermit[]) => {\r\n  localStorage.setItem(KEY, JSON.stringify(permits));\r\n};\r\n\r\nconst loadPermits = (): Promise<RootPermit[]> => {\r\n    return api.getAllPermits().then((res)=>{\r\n      console.log(res)\r\n      if(res.success)\r\n        return res.epermits;\r\n      else \r\n        throw new Error(res.message)\r\n    })\r\n    .catch((e)=>[])\r\n};\r\n\r\nconst DELAY = 100;\r\n\r\nconst delay = (f: any) => new Promise((resolve) => setTimeout(resolve, f));\r\n\r\nconst delayedResponse = async (action: any) => {\r\n  await delay(DELAY);\r\n  return action();\r\n};\r\n\r\nexport const asyncActions = async (dispatch: any, action: () => any) => {\r\n  try{\r\n    dispatch({\r\n      type: ActionTypes.REQUEST_PERMIT,\r\n    });\r\n  \r\n    await delayedResponse(async() => {\r\n      await action();\r\n      dispatch({\r\n        type: ActionTypes.SUCCESS_PERMIT,\r\n      });\r\n    });\r\n  }\r\n  catch(e){\r\n    Notification.error({ title: 'Error', message: e?.message || JSON.stringify(e)})\r\n  }\r\n \r\n};\r\n\r\n\r\nexport const checkPermit = () => {\r\n  return async (dispatch: any) => {\r\n    api.getAllPermits()\r\n    .then((res)=>{\r\n      if(res.success){\r\n        if(JSON.stringify(res.epermits) !== JSON.stringify(store.getState().permits?.permits)){\r\n          dispatch(getPermits())\r\n        }\r\n      \r\n      }\r\n    })\r\n    .catch((e)=>console.log(e))\r\n  };\r\n};\r\n\r\n\r\nexport const getPermits = () => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, async () =>\r\n      dispatch({\r\n        type: ActionTypes.LOAD_PERMIT,\r\n        payload: { permits: await loadPermits() },\r\n      })\r\n    );\r\n  };\r\n};\r\n\r\nexport const addPermit = (permit: Partial<RootPermit>) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, async() =>{\r\n      const res =  await api.addEpermit(permit);\r\n      if(!res?.success) throw new Error('Error Adding');\r\n\r\n      dispatch(getPermits())\r\n     // const { epermit } = res\r\n\r\n      // dispatch({\r\n      //   type: ActionTypes.ADD_PERMIT,\r\n      //   payload: { permit: epermit },\r\n      // })\r\n    }\r\n    );\r\n  };\r\n};\r\n\r\nexport const removePermit = (permit: RootPermit) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => {\r\n      Notification.success({\r\n        title: \"Success\",\r\n        message: \"Permit Successfully Deleted\",\r\n      });\r\n      dispatch({\r\n        type: ActionTypes.REMOVE_PERMIT,\r\n        payload: { permit },\r\n      });\r\n    });\r\n  };\r\n};\r\n\r\nexport const editPermit = (permit: RootPermit, modal = ErrorModal) => {\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, () => {\r\n      dispatch({\r\n        type: ActionTypes.EDIT_PERMIT,\r\n        payload: { permit },\r\n      });\r\n    });\r\n  };\r\n};\r\n\r\nexport const addResidence = (\r\n  p: Permit,\r\n  rootPermit_id: string,\r\n  type: PermitType\r\n) => {\r\n\r\n  return async (dispatch: any) => {\r\n    asyncActions(dispatch, async () =>{\r\n      \r\n      const res = await api.addResidence(p, rootPermit_id);\r\n      if(!res?.success) throw new Error('Error Adding');\r\n\r\n     // const { epermit } = res;\r\n      //dispatch(editPermit(epermit));\r\n      dispatch(getPermits())\r\n    }\r\n  );\r\n  };\r\n};\r\n","import React from \"react\";\r\nimport { Card, Grid, Text, List } from \"platyplex_ui\";\r\nimport Layout from \"../../layout\";\r\nimport { Link, NavLink, useHistory } from \"react-router-dom\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Permit, RootPermit } from \"../../store/reducer/permit\";\r\nimport api from \"../../api\";\r\nimport { getPermits } from \"../../store/actions/permits\";\r\nimport { disabledTxtColor } from \"../../config\";\r\nimport logo from \"../../assets/logo.png\";\r\nexport const toRoute = (str: string) => str.toLowerCase().replace(/\\s+/g, \"-\");\r\nconst Home = () => {\r\n  const history = useHistory();\r\n  const dispatch = useDispatch();\r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  const { permits, loading } = useSelector((state: any) => state.permits);\r\n  return (\r\n    <Layout sidebar style={{ gridTemplateRows: \"1fr auto\" }}>\r\n      <Grid\r\n        style={{ height: \"100%\", width: 800, maxWidth: \"90vw\", margin: \"auto\" }}\r\n        customRows=\"auto 1fr\"\r\n      >\r\n        <Grid\r\n          customCols=\"1fr auto auto\"\r\n          placeItems=\"stretch\"\r\n          width=\"100%\"\r\n          padding=\".75em 0\"\r\n        >\r\n          <span />\r\n          <Text\r\n            className=\"pointer\"\r\n            color={loading ? disabledTxtColor : \"dodgerblue\"}\r\n            onClick={async () => {\r\n              dispatch(getPermits());\r\n            }}\r\n          >\r\n            <i className=\"fas fa-sync\" /> <span>&nbsp;Reload</span>\r\n          </Text>\r\n          <Text\r\n            className=\"pointer\"\r\n            color={loading ? disabledTxtColor : \"red\"}\r\n            onClick={async () => {\r\n              await api.resetEpermit();\r\n              setTimeout(() => dispatch(getPermits()), 500);\r\n            }}\r\n          >\r\n            <i className=\"fas fa-undo\" /> <span>&nbsp;Reset</span>\r\n          </Text>\r\n        </Grid>\r\n        <Grid\r\n          padding=\"0\"\r\n          placeItems={\"stretch\"}\r\n          gridGap=\"0\"\r\n          placeSelf=\"start stretch\"\r\n        >\r\n          <Text bold textAlign=\"left\" size=\"1.25em\">\r\n            {\" \"}\r\n            Parking Admin\r\n            <img src={logo} style={{ width: \"1.5em\", margin: \".5em\" }} />\r\n          </Text>\r\n          <Card>\r\n            <div style={{ textAlign: \"left\", padding: \"0 0 1em 1em\" }}>\r\n              <NavLink to={\"/e-permits\"} target=\"_\">\r\n                <div>E-Permit</div>\r\n              </NavLink>\r\n              <NavLink to={\"/map\"} target=\"_\">\r\n                Map\r\n              </NavLink>\r\n              <NavLink to={\"/e-permits/vehicle\"} target=\"_\">\r\n                <div>Client Vehicle E-Permit Form</div>\r\n              </NavLink>\r\n            </div>\r\n          </Card>\r\n          <br />\r\n          <Text bold textAlign=\"left\" size=\"1.25em\">\r\n            Premits\r\n          </Text>\r\n          <List\r\n            list={permits}\r\n            loading={loading}\r\n            map={(c: RootPermit, i) => {\r\n              const idenity = c.firstName || c.email || c.phone;\r\n              const isCompleted = c.firstName ? true : false;\r\n              return (\r\n                <Card style={{ textAlign: \"left\" }}>\r\n                  {i + 1}. &nbsp;\r\n                  <NavLink key={i} to={`/visitor/${i}`} target=\"_\">\r\n                    E-Permit ({idenity}, {clients[c.employer]?.name})\r\n                  </NavLink>\r\n                  {!isCompleted && (\r\n                    <>\r\n                      &nbsp; &nbsp;{\" \"}\r\n                      <i\r\n                        className=\"fas fa-exclamation-circle\"\r\n                        style={{ color: \"coral\" }}\r\n                      ></i>\r\n                      &nbsp;Incomplete\r\n                    </>\r\n                  )}\r\n                  <div style={{ paddingLeft: \"1em\", paddingTop: \".5em\" }}>\r\n                    <Text bold textAlign=\"left\">\r\n                      {idenity}'s Residents:\r\n                    </Text>\r\n                    {c.residential?.length === 0 && \" None\"}\r\n                    {c.residential?.map((p: Permit, j: number) =>\r\n                      generateUsers(p, j, i)\r\n                    ) || \"None\"}\r\n                  </div>\r\n                  <div style={{ paddingLeft: \"1em\", paddingTop: \"1em\" }}>\r\n                    <Text bold textAlign=\"left\">\r\n                      {idenity}'s Visitors:{\" \"}\r\n                    </Text>\r\n                    {c.visitor?.length === 0 && \" None\"}\r\n                    {c.visitor?.map((p: Permit, j: number) =>\r\n                      generateUsers(p, j, i)\r\n                    )}\r\n                  </div>\r\n                  <br />\r\n                </Card>\r\n              );\r\n            }}\r\n          />\r\n        </Grid>\r\n      </Grid>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nconst generateUsers = (p: Permit, j: number, i: number) => {\r\n  const isCompleted = p.firstName ? true : false;\r\n  return (\r\n    <div>\r\n      {j + 1}.&nbsp;\r\n      <NavLink key={i} target=\"_\" to={`visitor/${i}/sub-resident/${j}`}>\r\n        {isCompleted ? ` ${p.firstName} ${p.lastName}` : p.email || p.phone}\r\n      </NavLink>\r\n      {!isCompleted && (\r\n        <>\r\n          &nbsp; &nbsp;{\" \"}\r\n          <i\r\n            className=\"fas fa-exclamation-circle\"\r\n            style={{ color: \"coral\" }}\r\n          ></i>\r\n          &nbsp;Incomplete\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\nexport default Home;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Grid, Text, Header, Button } from \"platyplex_ui\";\r\nimport { useFormik } from \"formik\";\r\nimport { Input, DatePicker, Select } from \"antd\";\r\nimport { gradient, primaryColor } from \"../../config\";\r\nimport { moment } from \"../../utils/time\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addPermit ,addResidence} from \"../../store/actions/permits\";\r\nimport api from \"../../api\";\r\nimport { ParkingLot, Zone } from \"../../store/actions/clients\";\r\nimport { PermitType } from \"../../store/reducer/permit\";\r\nimport { Client } from \"../../store/reducer/clients\";\r\nimport { useParams } from \"react-router\";\r\nimport random from \"../../utils/random\";\r\n\r\nconst defaultValue = {\r\n  firstName: \"\",\r\n  lastName: \"\",\r\n  liscensePlate: \"\",\r\n  email: \"\",\r\n  starts: moment().set(\"minute\", 0).format(\"ddd, MMM DD, YYYY @ hh:mm A\"),\r\n  ends: moment()\r\n    .set(\"minute\", 0)\r\n    .set('year', 2023)\r\n    .format(\"ddd, MMM DD, YYYY @ hh:mm A\"),\r\n  phone: \"\",\r\n  done: false,\r\n  id: random(6),\r\n  employer: 0,\r\n  type: PermitType.Residential,\r\n  zone: Zone.R1,\r\n  parkingLot: ParkingLot.Lot1,\r\n};\r\n\r\nconst Form = ({ admin, header, onSubmit, link, partial, length, defaultValues, rootPermitId }: {\r\n  admin: boolean,\r\n   header?: any,\r\n    onSubmit?: any,\r\n     link?: string, \r\n     partial?: any, \r\n     length?: any,\r\n     defaultValues?: any\r\n     rootPermitId?: any;\r\n}) => {\r\n  const [user, setUser] = useState<any>(defaultValue);\r\n  const submit = (values: any) => {\r\n    setUser(values);\r\n    onSubmit && onSubmit(values);\r\n  };\r\n  const reset = () => setUser(defaultValue);\r\n  return user.done ? (\r\n    <Message reset={reset} user={user} admin={admin} />\r\n  ) : (\r\n    <FormComp defaultValues={defaultValues} rootPermitId={rootPermitId} submit={submit} admin={admin} header={header} dontAdd={!!onSubmit} link={link} partial={partial} length={length}/>\r\n  );\r\n};\r\n\r\nexport const Message = ({\r\n  reset,\r\n  user,\r\n  admin,\r\n  style,\r\n  confirm,\r\n\r\n  generate,\r\n}: any) => {\r\n  return (\r\n    <Grid placeSelf=\"center\" gridGap=\"2em\" style={style}>\r\n      <i\r\n        className=\"fas fa-check-circle\"\r\n        style={{ color: primaryColor, fontSize: \"6em\" }}\r\n      />\r\n      <Header bold>E-permit reservation successful!</Header>\r\n      <Text>\r\n        Your E-permit Reservation ID: <b>{user?.id || \"2NE3605\"}</b>\r\n      </Text>\r\n      {!admin ? (\r\n        <>\r\n          <Text>\r\n            Your E-permit reservation starts at{\" \"}\r\n            <b>\r\n              {user?.starts\r\n                ? moment(user.starts).format(`ddd, MMM DD, YYYY @ hh:mm A`)\r\n                : \"Fri, Jan 29, 2021 @ 5:00 PM\"}\r\n              .\r\n            </b>\r\n          </Text>\r\n          <Text>Confirmation details have been sent to your email.</Text>\r\n        </>\r\n      ) : generate ? (\r\n        <Text>\r\n          This E-Permit Expires:{\" \"}\r\n          <b>\r\n            {user?.endDate\r\n              ? moment(user.endDate).format(`ddd, MMM DD, YYYY @ hh:mm A`)\r\n              : \"Fri, Dec 11, 2021 at 5:00 PM\"}\r\n            .\r\n          </b>\r\n        </Text>\r\n      ) : (\r\n        <Text>\r\n          Confirmation details have been sent to ({user.email || user.phone}).\r\n        </Text>\r\n      )}\r\n      <Button.Normal\r\n        style={{\r\n          borderRadius: \"1.3em\",\r\n          padding: \".5em\",\r\n          marginTop: \"1em\",\r\n          backgroundImage: `${gradient}`,\r\n          color: \"white\",\r\n          border: 0,\r\n          minWidth: \"15vw\",\r\n        }}\r\n        type=\"submit\"\r\n        onClick={confirm ? confirm : reset}\r\n      >\r\n        Great\r\n      </Button.Normal>\r\n    </Grid>\r\n  );\r\n};\r\ntype Values =\r\n  | \"firstName\"\r\n  | \"lastName\"\r\n  | \"liscensePlate\"\r\n  | \"email\"\r\n  | \"starts\"\r\n  | \"ends\"\r\n  | \"phone\";\r\n\r\nconst vehicleFields = [\r\n  {\r\n    id: \"firstName\",\r\n    label: \"First Name\",\r\n    placeholder: \"Ex: John\",\r\n  },\r\n  {\r\n    id: \"lastName\",\r\n    label: \"Last Name\",\r\n    placeholder: \"Ex: Doe\",\r\n  },\r\n\r\n  {\r\n    id: \"email\",\r\n    label: \"Email Address\",\r\n    placeholder: \"Ex: johndoe@gmail.com\",\r\n  },\r\n\r\n  {\r\n    id: \"phone\",\r\n    label: \"Your Phone number\",\r\n  },\r\n\r\n  {\r\n    id: \"starts\",\r\n    label: \"E-Permit Start Date & Time\",\r\n\r\n  },\r\n\r\n  {\r\n    id: \"ends\",\r\n    label: \"E-Permit End Date & Time\",\r\n  },\r\n  {\r\n    id: \"liscensePlate\",\r\n    label: \"Your Vehicle License Plate #\",\r\n    placeholder: \"Ex: 293DEF\",\r\n  },\r\n] as any;\r\n\r\nconst FormComp = ({ submit, admin, header , dontAdd, link, partial, length = [], defaultValues, rootPermitId}: any) => {\r\n  const dispatch = useDispatch();\r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  let { id } = useParams() as any;\r\n  const isCompleting = defaultValues? true: false;\r\n  const {\r\n    handleSubmit,\r\n    handleChange,\r\n    errors,\r\n    values,\r\n    setFieldValue,\r\n  } = useFormik({\r\n    initialValues: {...defaultValue, ...defaultValues, isCompleting},\r\n    async onSubmit(values) {\r\n      if(!dontAdd){\r\n        if(rootPermitId){\r\n          dispatch(addResidence(values, rootPermitId, values.type));\r\n        } else {\r\n          dispatch(addPermit(values));\r\n        }\r\n       \r\n      }\r\n\r\n      const info =  {\r\n        id: values._id?.substring(values?._id?.length -5)?.toUpperCase()  || random(5),\r\n        isCompleting: values.firstName? true: false,\r\n        firstName: values.firstName,\r\n        lastName: values.lastName,\r\n        email: values.email,\r\n        licensePlate: values.liscensePlate,\r\n        phone: values.phone,\r\n        starts: values.starts,\r\n        ends: values.ends,\r\n        type: values.type,\r\n        department: clients[0]?.vaccine,\r\n        location: clients[0]?.name,\r\n        link: partial? link + `/sub-${values.type === 'Residential'? 'resident': 'visitor'}/${values.type === 'Residential'? length[0]: length[1]}` : (link || window.location.href)\r\n      }\r\n\r\n      if(values.email){\r\n        api\r\n        .customEmail (values.email, info)\r\n        .catch((e) => console.log(e))\r\n      }\r\n\r\n      if(values.phone){\r\n        api\r\n        .customSms(values.phone, info)\r\n        .catch((e) => console.log(e))\r\n      }\r\n\r\n\r\n   \r\n      submit({ ...values, done: true });\r\n    },\r\n  });\r\n\r\n  const defaultLocation = \"Palo Alto, CA\"\r\n  useEffect(() => {\r\n    if (id) {\r\n      const index = Number(id) - 1;\r\n      setFieldValue(\"employer\", clients[index]?.name || defaultLocation);\r\n    }\r\n  }, []);\r\n\r\n  const patients = clients[0]?.parkingSpace || 10;\r\n  const error = \r\n  admin? (!values.email &&  !values.phone):\r\n  vehicleFields.reduce(\r\n    (acc: boolean, { id }: any) =>\r\n      acc || Boolean(errors[id as Values]) || !values[id as Values],\r\n    false\r\n  );\r\n  return (\r\n    <Grid placeSelf=\"center\" placeItems=\"start center\" gridGap=\"1.5em\">\r\n      <Grid placeItems=\"stretch\" placeSelf=\"stretch\">\r\n        {!admin ? (\r\n          <>\r\n            {\" \"}\r\n            <Header textAlign=\"left\" className=\"med\">\r\n              Hi there!\r\n            </Header>\r\n            <Text textAlign=\"left\">\r\n              Welcome to ParkStash E-permit reservation system.\r\n            </Text>\r\n            <Text textAlign=\"left\">\r\n              Please enter your information below to generate E-Permit.\r\n            </Text>\r\n          </>\r\n        ) : (\r\n          <>\r\n            {header? header: \r\n            <Text bold textAlign=\"right\" color={primaryColor}>\r\n              ({patients - 5}/{patients}) Reservations at{\" \"}\r\n              {moment(values.starts).format(\"hh:mm a\")}\r\n            </Text>}\r\n            <Text textAlign=\"left\">\r\n              Please enter requester's information below to generate E-permit.\r\n            </Text>\r\n          </>\r\n        )}\r\n      </Grid>\r\n      <form onSubmit={handleSubmit}>\r\n        <Grid placeItems=\"stretch\" cols=\"2\" gridGap=\"2em 4em\">\r\n          \r\n        {admin? \r\n        <>\r\n        <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              Email\r\n            </Text>\r\n\r\n            <Input\r\n                    style={{ minWidth: \"20vw\", background: \"transparent\" }}\r\n                    name={'email'}\r\n                    value={values.email}\r\n                    onChange={handleChange}\r\n                    placeholder={\"Enter the Email\"}\r\n                  />\r\n          </div>\r\n\r\n\r\n          <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              Phone #\r\n            </Text>\r\n\r\n            <Input\r\n                    style={{ minWidth: \"20vw\", background: \"transparent\" }}\r\n                    name={'phone'}\r\n                    value={values.phone}\r\n                    onChange={handleChange}\r\n                    placeholder={\"Enter the Phone Number\"}\r\n                  />\r\n          </div>\r\n        </>\r\n        :\r\n        <>\r\n        <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              Permit Type\r\n            </Text>\r\n\r\n            <Select\r\n              style={{ width: \"100%\" }}\r\n              value={values.type}\r\n              onChange={(e) => setFieldValue(\"type\", e) }\r\n            >\r\n              {Object.keys(PermitType).map((v) => (\r\n                <Select.Option value={v}>{v}</Select.Option>\r\n              ))}\r\n            </Select>\r\n          </div>\r\n\r\n          <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              Department\r\n            </Text>\r\n\r\n            <Select\r\n              style={{ width: \"100%\" }}\r\n              value={values.employer}\r\n              disabled={id !== undefined}\r\n              onChange={(e) => setFieldValue(\"employer\", e)}\r\n            >\r\n              {clients.map((v: Client, i: number) => (\r\n                <Select.Option value={i}>{v.name}</Select.Option>\r\n              ))}\r\n            </Select>\r\n          </div>\r\n          {vehicleFields.map(\r\n            ({\r\n              id,\r\n              label,\r\n              placeholder,\r\n            }: {\r\n              id: Values;\r\n              label: string;\r\n              type: string | undefined;\r\n              placeholder: string;\r\n            }) => (\r\n              <div style={{ paddingTop: \".5em\" }} key={id}>\r\n                {id === \"liscensePlate\" && admin ? (\r\n                  <Text textAlign=\"left\" color={primaryColor} bold>\r\n                    Vehicle License Plate #\r\n                  </Text>\r\n                ) : (\r\n                  <Text textAlign=\"left\" color={primaryColor} bold>\r\n                    {label}\r\n                  </Text>\r\n                )}\r\n                {id === \"starts\" || id === \"ends\" ? (\r\n                  <DatePicker\r\n                    format=\"ddd, MMM, DD, YYYY, hh:mm a\"\r\n                    showTime={{ format: \"hh:mm A\" }}\r\n                    minuteStep={15}\r\n            \r\n                    style={{ minWidth: \"20vw\", background: \"transparent\" }}\r\n                    onChange={(e) =>\r\n                      setFieldValue(\r\n                        id,\r\n                        e?.format(\"ddd, MMM DD, YYYY @ hh:mm A\")\r\n                      )\r\n                    }\r\n                    value={moment(values[id])}\r\n                  />\r\n                ) : (\r\n                  <Input\r\n                    style={{ minWidth: \"20vw\", background: \"transparent\" }}\r\n                    name={id}\r\n                    disabled={defaultValues? defaultValues[id]? true: false : false}\r\n                    value={values[id]}\r\n                    onChange={handleChange}\r\n                    placeholder={placeholder}\r\n                  />\r\n                )}\r\n              </div>\r\n            )\r\n          )}\r\n\r\n          <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              City\r\n            </Text>\r\n\r\n            <Select\r\n              style={{ width: \"100%\" }}\r\n              defaultValue={defaultLocation}\r\n              disabled={id !== undefined}\r\n              onChange={(e) => setFieldValue(\"zone\", e)}\r\n            >\r\n              <Select.Option value={defaultLocation}>\r\n                {defaultLocation}\r\n              </Select.Option>\r\n            </Select>\r\n          </div>\r\n\r\n      \r\n          <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              Zone\r\n            </Text>\r\n\r\n            <Select\r\n              style={{ width: \"100%\" }}\r\n              value={values.zone}\r\n              disabled={id !== undefined}\r\n              onChange={(e) => setFieldValue(\"zone\", e)}\r\n            >\r\n              {Object.values(Zone).map((v) => (\r\n                <Select.Option value={v}>{v}</Select.Option>\r\n              ))}\r\n            </Select>\r\n          </div>\r\n          </>}\r\n          <div style={{ gridColumn: \"span 2\", display: \"grid\" }}>\r\n            <Button.Normal\r\n              style={{\r\n                borderRadius: \"1.3em\",\r\n                padding: \".5em\",\r\n                marginTop: \"1em\",\r\n                ...(!error\r\n                  ? {\r\n                      backgroundImage: `${gradient}`,\r\n                      color: \"white\",\r\n                      border: 0,\r\n                    }\r\n                  : {}),\r\n              }}\r\n              type=\"submit\"\r\n              disabled={error}\r\n              onSubmit={(e: any) => handleSubmit(e)}\r\n            >\r\n              Reserve E-Permit\r\n            </Button.Normal>\r\n          </div>\r\n        </Grid>\r\n      </form>\r\n    </Grid>\r\n  );\r\n};\r\nexport default Form;\r\n","import React from \"react\";\r\nimport { Grid, Button, Card, Header, Notification, Text } from \"platyplex_ui\";\r\nimport { Tooltip } from \"antd\";\r\nimport { disabledTxtColor, primaryColor } from \"../../../config\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Client } from \"../../../store/reducer/clients\";\r\n\r\nconst Analytics = () => {\r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  return (\r\n    <>\r\n      {clients.map(\r\n        ({\r\n          name,\r\n          parkingSpace,\r\n          employeeFee,\r\n          handicapFee,\r\n          \r\n          employee,\r\n          handicap,\r\n        }: Client) => (\r\n          <Card>\r\n            <Header bold margin=\"0 0 1em 0\">\r\n              <Grid customCols=\"3em 1fr 3em\" placeItems=\"center stretch\">\r\n                <span />\r\n                {name}\r\n                <Tooltip title=\"Download the current data on excel\">\r\n                  <Button\r\n                    faIcon=\"fa fa-download\"\r\n                    style={{ float: \"right\", fontSize: \".7em\" }}\r\n                    rounded\r\n                    minWidth=\"4.5em\"\r\n                    onClick={() =>\r\n                      Notification.success({\r\n                        title: \"Success\",\r\n                        message: \"File Downloaded\",\r\n                      })\r\n                    }\r\n                  />\r\n                </Tooltip>\r\n              </Grid>\r\n            </Header>\r\n            <Text></Text>\r\n\r\n            <Grid placeItems=\"stretch\" cols=\"3\" margin=\"1.5em 0\">\r\n              <div style={{ borderRight: \"2px solid \" + disabledTxtColor }}>\r\n                <Text># of Parking Spaces</Text>\r\n                <Text size=\"2.25em\" color={primaryColor} bold>\r\n                  {parkingSpace}\r\n                </Text>\r\n              </div>\r\n\r\n              <div style={{ borderRight: \"2px solid \" + disabledTxtColor }}>\r\n                <Text>Total # of Employee Permits</Text>\r\n                <Text size=\"2.25em\" color={primaryColor} bold>\r\n                  {employee}\r\n                </Text>\r\n              </div>\r\n\r\n              <div>\r\n                <Text># of Handicap Permits</Text>\r\n                <Text size=\"2.25em\" color={primaryColor} bold>\r\n                  {handicap}\r\n                </Text>\r\n              </div>\r\n            </Grid>\r\n\r\n            <Text>\r\n              Total Monthly Fee:{\" \"}\r\n              <span style={{ color: primaryColor }} className=\"bold\">\r\n                ${(employeeFee * employee + handicap * handicapFee) || 100}\r\n              </span>\r\n            </Text>\r\n          </Card>\r\n        )\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Analytics;\r\n","import { Grid, Text } from \"platyplex_ui\";\r\nimport React, { useState } from \"react\";\r\n\r\ninterface CollapseProps {\r\n  children: React.ReactElement | React.ReactElement[] | string;\r\n  heading: React.ReactElement | string | any;\r\n  collapse?: boolean;\r\n  pad?: string | number;\r\n}\r\n\r\nconst Collapse = ({ children, heading, collapse: defaultState, pad }: CollapseProps) => {\r\n  const [collapse, setCollapse] = useState(\r\n    defaultState === false ? false : true\r\n  );\r\n  return (\r\n    <Grid placeSelf=\"stretch\" placeItems=\"stretch\" gridGap=\".5em\">\r\n      <Grid\r\n        placeItems=\"center stretch\"\r\n        customCols=\"1fr auto\"\r\n        onClick={() => setCollapse(!collapse)}\r\n        className=\"pointer noselect\"\r\n        gridGap=\".5em\"\r\n      >\r\n        <Text textAlign=\"left\">{heading}</Text>\r\n        <i className={collapse ? \"fas fa-plus\" : \"fas fa-minus\"} />\r\n      </Grid>\r\n      {!collapse && (\r\n        <Grid\r\n          placeItems=\"stretch\"\r\n          className=\"slide-up\"\r\n          gridGap=\".5em\"\r\n          style={{ paddingLeft: pad || 0 }}\r\n        >\r\n          {children}\r\n        </Grid>\r\n      )}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Collapse;\r\n","import React from \"react\";\r\nimport { disabledTxtColor2 } from \"../../config\";\r\n\r\nconst Bar = ({ style }: any) => {\r\n  return (\r\n    <div\r\n      style={{\r\n       width: '100%',\r\n       borderBottom: '2px solid '+ disabledTxtColor2,\r\n      }}\r\n    >\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bar;\r\n","import React, { useState } from \"react\";\r\nimport {\r\n  Grid,\r\n  Button,\r\n  Card,\r\n  Text,\r\n  Notification,\r\n  List,\r\n  Placeholder,\r\n} from \"platyplex_ui\";\r\nimport Collapse from \"../../../components/collapse\";\r\nimport {\r\n  InputNumber,\r\n  Switch as SwitchAtnd,\r\n  Select,\r\n  Popconfirm,\r\n  Input,\r\n} from \"antd\";\r\nimport Bar from \"../../../components/bar\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Client, ParkingLot, Zone } from \"../../../store/reducer/clients\";\r\nimport {\r\n  addClient,\r\n  editClient,\r\n  removeClient,\r\n} from \"../../../store/actions/clients\";\r\nimport { useFormik } from \"formik\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nconst Rules = () => {\r\n  const { clients, loading } = useSelector((state: any) => state.clients);\r\n  const [add, setAdd] = useState(false);\r\n\r\n  const client: Client = {\r\n    id: \"\",\r\n    name: \"\",\r\n    open: false,\r\n    parkingSpace: 100,\r\n    overbooking: true,\r\n    communication: true,\r\n    employee: 10,\r\n    parkingLot: [],\r\n    handicap: 10,\r\n    zone: [],\r\n    employeeFee : 45,\r\n    handicapFee: 45,\r\n    residenceFee: 45\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid customCols=\"1fr auto\" placeItems=\"stretch\">\r\n        <Text bold textAlign=\"left\" style={{ marginLeft: \"1em\" }}>\r\n          Set/edit your Site E-permit rules below\r\n        </Text>\r\n        {!add && (\r\n          <Button rounded placeSelf=\"end\" onClick={() => setAdd(true)}>\r\n            Add\r\n          </Button>\r\n        )}\r\n      </Grid>\r\n\r\n      {add && (\r\n        <Card>\r\n          <ClientForm add client={client} cancelAdd={() => setAdd(false)} />\r\n        </Card>\r\n      )}\r\n      <Card grid placeItems=\"stretch\">\r\n        <List\r\n          list={clients}\r\n          loading={loading}\r\n          loader={\r\n            <>\r\n              <Placeholder />\r\n              <Placeholder />\r\n            </>\r\n          }\r\n          map={(client: Client, i: number) => (\r\n            <React.Fragment key={i}>\r\n              <Collapse\r\n                heading={\r\n                  <span>\r\n                    {client.name} &nbsp;\r\n                    <NavLink target=\"_blank\" to={`/`}>\r\n                      <i className=\"fa fa-link\" />\r\n                    </NavLink>\r\n                  </span>\r\n                }\r\n                collapse={!client.open || i === 0}\r\n                pad=\"1em\"\r\n              >\r\n                <ClientForm client={client} />\r\n              </Collapse>\r\n              <Bar />\r\n            </React.Fragment>\r\n          )}\r\n        />\r\n      </Card>\r\n    </>\r\n  );\r\n};\r\n\r\nconst ClientForm = ({\r\n  client,\r\n  cancelAdd,\r\n  add,\r\n}: {\r\n  client: Client;\r\n  cancelAdd?: () => void;\r\n  add?: boolean;\r\n}) => {\r\n  const dispatch = useDispatch();\r\n\r\n  const { handleSubmit, handleChange, values, setFieldValue } = useFormik({\r\n    initialValues: client,\r\n    async onSubmit(values) {\r\n      dispatch(add ? addClient(values) : editClient(values));\r\n      if (add && cancelAdd) {\r\n        cancelAdd();\r\n      }\r\n      Notification.success({\r\n        title: \"Success\",\r\n        message: \"Changes Saved\",\r\n      });\r\n    },\r\n  });\r\n\r\n  const error = !values.name;\r\n  return (\r\n    <form onChange={handleChange}>\r\n      <Grid customCols=\"auto auto auto\" placeSelf=\"stretch\" placeItems=\"start\">\r\n        <Grid customCols=\"auto auto\">\r\n          Address\r\n          <Input name={\"name\"} onChange={handleChange} value={values.name} />\r\n        </Grid>\r\n\r\n        <div>\r\n          Zone &nbsp;\r\n          <Select\r\n           mode=\"multiple\"\r\n            value={values.zone}\r\n            style={{minWidth: 100}}\r\n            onChange={(e) => setFieldValue(\"zone\", e)}\r\n          >\r\n            {Object.keys(Zone).map((v) => (\r\n              <Select.Option value={v}>{v}</Select.Option>\r\n            ))}\r\n          </Select>\r\n        </div>\r\n\r\n     \r\n        \r\n        <div>\r\n          # of Parking Spaces &nbsp;{\" \"}\r\n          <InputNumber\r\n            value={values.parkingSpace}\r\n            onChange={(e) => setFieldValue(\"parkingSpace\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          # of Employee Spaces &nbsp;{\" \"}\r\n          <InputNumber\r\n            value={values.employee}\r\n            onChange={(e) => setFieldValue(\"employee\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          # of Handicap Spaces &nbsp;{\" \"}\r\n          <InputNumber\r\n            value={values.handicap}\r\n            onChange={(e) => setFieldValue(\"handicap\", e)}\r\n          />\r\n        </div>\r\n\r\n       \r\n\r\n\r\n        <div>\r\n          Overstaying Allowed &nbsp;{\" \"}\r\n          <SwitchAtnd\r\n            checked={values.overbooking}\r\n            onChange={(e: boolean) => setFieldValue(\"overbooking\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          Navigation Allowed &nbsp; <SwitchAtnd defaultChecked />\r\n        </div>\r\n\r\n        <div>\r\n          Communication with employee allowed &nbsp;{\" \"}\r\n          <SwitchAtnd\r\n            checked={values.communication}\r\n            onChange={(e: boolean) => setFieldValue(\"communication\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          Employee Permit Monthly Fee &nbsp;\r\n          $<InputNumber\r\n            value={values.employeeFee}\r\n            onChange={(e) => setFieldValue(\"employeeFee\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          Handicap Permit Monthly Fee &nbsp;\r\n          $<InputNumber\r\n            value={values.handicapFee}\r\n            onChange={(e) => setFieldValue(\"handicapFee\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n        Visitor Permit Monthly Fee &nbsp;\r\n          $<InputNumber\r\n            value={values.residenceFee}\r\n            onChange={(e) => setFieldValue(\"residenceFee\", e)}\r\n          />\r\n        </div>\r\n\r\n        <div>\r\n          Visitor Permit Duration &nbsp;{\" \"}\r\n          <Select\r\n           defaultValue={3}\r\n            style={{minWidth: 100}}\r\n\r\n          >\r\n               {[2, 3,4,5].map((v) => (\r\n              <Select.Option value={v}>{v} days</Select.Option>\r\n            ))}\r\n          </Select>\r\n        </div>\r\n              \r\n        <div>\r\n        Resident Permit Duration &nbsp;{\" \"}\r\n        <Select\r\n            defaultValue={2}\r\n            style={{minWidth: 100}}\r\n          >\r\n            {[2, 3,4,5].map((v) => (\r\n              <Select.Option value={v}>{v} years</Select.Option>\r\n            ))}\r\n          </Select>\r\n        </div>\r\n        <span />\r\n        <span />\r\n        <Grid customCols=\"auto auto\">\r\n          {cancelAdd ? (\r\n            <Button rounded bg=\"red\" onClick={cancelAdd}>\r\n              Cancel\r\n            </Button>\r\n          ) : (\r\n            <Popconfirm\r\n              title={`Are you sure you want to delete ${client.name}?`}\r\n              onConfirm={() => dispatch(removeClient(client))}\r\n            >\r\n              <Button rounded bg=\"red\">\r\n                Remove\r\n              </Button>\r\n            </Popconfirm>\r\n          )}\r\n          <Button disabled={error} rounded onClick={handleSubmit}>\r\n            Save\r\n          </Button>\r\n        </Grid>\r\n      </Grid>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Rules;\r\n","import React, { useState } from \"react\";\r\nimport Layout from \"../../layout\";\r\nimport { Grid, Switch, Card, Text } from \"platyplex_ui\";\r\nimport { primaryColor, primaryTxtColor, url } from \"../../config\";\r\nimport Analytics from \"./analytics\";\r\nimport Rules from \"./rules\";\r\nimport History from \"./history\";\r\nimport img from \"../../assets/CalPolyLogo.png\";\r\nimport user from \"../../assets/user.svg\";\r\nimport { Client } from \"../../store/reducer/clients\";\r\nimport Form from \"../client/form\";\r\nimport { useSelector } from \"react-redux\";\r\ninterface Body {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  liscensePlate: string;\r\n  phone: string;\r\n  vaccine: string;\r\n  date: string;\r\n  location: string;\r\n  space: number;\r\n}\r\n\r\nenum User {\r\n  GENERATE = \"GENERATE\",\r\n  HISTORY = \"HISTORY\",\r\n}\r\n\r\nenum Admin {\r\n  GENERATE = \"GENERATE\",\r\n  HISTORY = \"HISTORY\",\r\n  ANALYTICS = \"ANALYTICS\",\r\n  RULES = \"RULES\",\r\n}\r\n\r\nconst Permits = ({ client, isAdmin }: { client?: Client, isAdmin?: boolean}) => {\r\n  const [state, setter] = useState<any>({\r\n    as: User.GENERATE,\r\n  });\r\n\r\n  const { permits } = useSelector((state: any) => state.permits);\r\n  const admin = isAdmin || !client;\r\n  const setState = (props: any) => setter({ ...state, ...props });\r\n  return (\r\n    <Layout\r\n      sidebar\r\n      style={{ gridTemplateRows: \"1fr auto\" }}\r\n      avatarImg={admin ? img : user}\r\n    >\r\n      <Layout.Top noBackground>\r\n        <span />\r\n      </Layout.Top>\r\n      <Layout.Bottom>\r\n        <Grid\r\n          placeItems=\"start stretch\"\r\n          padding=\"1em\"\r\n          height=\"100%\"\r\n          gridGap=\".5em\"\r\n          style={{\r\n            width: 1400,\r\n            maxWidth: \"100vw\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n          }}\r\n        >\r\n          <Card grid placeItems=\"end start\" width=\"100%\">\r\n            <Switch.underlined\r\n              style={{ padding: 0, textTransform: \"capitalize\" }}\r\n              onClick={(as) => setState({ as })}\r\n              color={primaryTxtColor}\r\n              border={\"4px solid \" + primaryColor}\r\n              items={Object.keys(admin ? Admin : User)}\r\n              active={state.as}\r\n            />\r\n          </Card>\r\n\r\n          {state.as === User.HISTORY ? (\r\n            <History client={client} />\r\n          ) : state.as === User.GENERATE ? (\r\n            <Card grid>\r\n              <Form admin link={`${url}/visitor/${permits.length}`} />\r\n            </Card>\r\n          ) : state.as === Admin.RULES ? (\r\n            <Rules />\r\n          ) : (\r\n            <Analytics />\r\n          )}\r\n        </Grid>\r\n      </Layout.Bottom>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Permits;\r\n","import { useState, useEffect } from 'react';\r\nimport { useMetricData } from '../../hooks/metrics';\r\nimport { defaultInterval, moment } from '../../utils/time';\r\nimport API from \"../../api\";\r\nimport { TimeSeries, IntervalPreset_E } from '../../model/domain/metrics';\r\n\r\nfunction getAnalyticsCharts() {\r\n  const me: EnterpriseEvent = this;\r\n\r\n  const chart = (title: string, metricType: string, chartType: string, crossSeriesReducer = 'NONE') => ({\r\n    title,\r\n    timeSeriesQuery: {\r\n      metricType,\r\n      resourceIds: [me.id],\r\n      crossSeriesReducer,\r\n      alignment: {\r\n        alignmentPeriod: '1d',\r\n        alignmentReducer: 'SUM'\r\n      },\r\n      intervalPreset: 'last_7_days',\r\n    },\r\n    backgroundColor: '#FFFFFF',\r\n    xAxisLabel: 'T',\r\n    yAxisLabel: 'Occupancy',\r\n    chartTypes: [chartType]\r\n  });\r\n\r\n  return {\r\n    revenue: chart('Revenue by Type', 'event_revenue', 'stackedBar', 'SUM'),\r\n    transactions: chart('Number of Citation', 'event_transaction_count', 'multiLine', 'SUM'),\r\n    reservations: chart('Towings Per Garage', 'event_reservation_occupancy', 'stackedBar',)\r\n  };\r\n};\r\n\r\nfunction getLiveCharts() {\r\n  const me: EnterpriseEvent = this;\r\n  const intervalPreset = me.liveQueryIntervalPreset;\r\n\r\n  const revenueAndTransactions = {\r\n    \"title\": \"Revenue & Transactions\",\r\n    \"revenueTimeSeriesQuery\": {\r\n      \"metricType\": \"event_revenue\",\r\n      \"resourceIds\": [],\r\n      \"crossSeriesReducer\": \"NONE\",\r\n      \"alignment\": {\r\n        \"alignmentPeriod\": \"1h\",\r\n        \"alignmentReducer\": \"SUM\"\r\n      },\r\n      intervalPreset\r\n    },\r\n    \"transactionTimeSeriesQuery\": {\r\n      \"metricType\": \"event_transaction_count\",\r\n      \"resourceIds\": [],\r\n      \"crossSeriesReducer\": \"NONE\",\r\n      \"alignment\": {\r\n        \"alignmentPeriod\": \"1h\",\r\n        \"alignmentReducer\": \"SUM\"\r\n      },\r\n      intervalPreset\r\n    },\r\n    \"backgroundColor\": \"#FFFFFF\",\r\n    \"xAxisLabel\": \"T\",\r\n    \"yAxisLabel\": \"Occupancy\",\r\n    \"chartTypes\" : [\"combined\"]\r\n  };\r\n\r\n  const reservations = {\r\n    \"title\": \"Total Cars Parked\",\r\n    \"timeSeriesQuery\": {\r\n      \"metricType\": \"event_reservation_occupancy\",\r\n      \"resourceIds\": [],\r\n      \"crossSeriesReducer\": \"NONE\",\r\n      intervalPreset\r\n    },\r\n    \"backgroundColor\": \"#FFFFFF\",\r\n    \"xAxisLabel\": \"T\",\r\n    \"yAxisLabel\": \"Occupancy\",\r\n    \"chartTypes\" : [ \"stackedBar\"]\r\n  };\r\n\r\n  return {\r\n    reservations,\r\n    revenueAndTransactions\r\n  };\r\n};\r\n\r\nconst [getAnalyticsStats, getLiveStats] = (() => {\r\n  function sumPoints(points) {\r\n    return points.reduce((sum, point) => point.isMissing? sum: sum + point.value, 0)\r\n  }\r\n\r\n  function getStats(epId: string, type: 'analytics' | 'live'): Promise<Stats> {\r\n    const me = this as EnterpriseEvent;\r\n    const intervalPreset = type === 'analytics'\r\n      ? me.analyticsQueryIntervalPreset\r\n      : me.liveQueryIntervalPreset;\r\n\r\n    const alignmentPeriod = '1d';\r\n\r\n    const revenueQuery = {\r\n      metricType: 'event_revenue',\r\n      resourceIds: [me.id],\r\n      crossSeriesReducer: 'NONE',\r\n      alignment: {\r\n        alignmentPeriod,\r\n        alignmentReducer: 'SUM'\r\n      },\r\n      intervalPreset\r\n    };\r\n  \r\n    const transactionQuery = {\r\n      ...revenueQuery,\r\n      metricType: 'event_transaction_count', \r\n      crossSeriesReducer: 'SUM' \r\n    };\r\n\r\n    console.log(JSON.stringify(revenueQuery, null, 2));\r\n    console.log(JSON.stringify(transactionQuery, null, 2));\r\n  \r\n    return Promise.all([\r\n      API.getTimeSeries(epId, transactionQuery),\r\n      API.getTimeSeries(epId, revenueQuery)\r\n    ]).then( ([ r1, r2 ]) => {\r\n\r\n      if (r1?.timeSeriesResult && r2?.timeSeriesResult)  {\r\n      //revenue\r\n      const ts1 = r2.timeSeriesResult as TimeSeries.Result;\r\n      const normal = sumPoints(ts1.timeSeries[0].points);\r\n      const dynamic = sumPoints(ts1.timeSeries[1].points);\r\n      const total = normal + dynamic;\r\n      \r\n      //transactions\r\n      const ts2 = r1.timeSeriesResult as TimeSeries.Result;\r\n      const transactions = sumPoints(ts2.timeSeries[0].points);\r\n      return { revenue: { normal, dynamic, total }, transactions };\r\n      }\r\n\r\n\r\n    })\r\n  }\r\n\r\n  function getAnalyticsStats(epId: string): Promise<Stats> {\r\n    const me = this as EnterpriseEvent;\r\n    return getStats.call(me, epId, 'analytics');\r\n  }\r\n\r\n  function getLiveStats(epId: string): Promise<Stats> {\r\n    const me = this as EnterpriseEvent;\r\n    return getStats.call(me, epId, 'live');\r\n  }\r\n\r\n  return [getAnalyticsStats, getLiveStats];\r\n})();\r\n\r\nexport interface Stats {\r\n \r\n  revenue: { normal: number; dynamic: number; total: number; }\r\n  transactions: number;\r\n}\r\n\r\nexport interface EnterpriseEvent {\r\n  id: string;\r\n  name: string;\r\n  start: Date;\r\n  end: Date;\r\n  getAnalyticsCharts: { (): { revenue: any; transactions: any; reservations: any } };\r\n  getLiveCharts: { (): { revenueAndTransactions: any, reservations: any }  };\r\n  getAnalyticsStats: { (epId: string): Promise<Stats> };\r\n  getLiveStats: { (epId: string): Promise<Stats> };\r\n  analyticsQueryIntervalPreset: TimeSeries.IntervalPreset;\r\n  liveQueryIntervalPreset: TimeSeries.IntervalPreset;\r\n  reservationOccupancy: {\r\n    garageName: string;\r\n    occupancy: number;\r\n    staffs: number;\r\n  }[]\r\n}\r\n\r\nexport function getEnterpriseEvent(eventId: string) {\r\n  return getEnterpriseEvents().find(e => e.id === eventId);\r\n}\r\n\r\nexport function getEnterpriseEvents(): EnterpriseEvent[] {\r\n\r\n  const analyticsQueryIntervalPreset = IntervalPreset_E.last_7_days;\r\n  const liveQueryIntervalPreset = 'last_7_day';\r\n const  reservationOccupancy = [\r\n  {\r\n    garageName: 'T. Dernoga',\r\n    occupancy: .95,\r\n    staffs: 4,\r\n    expStaffs: 2\r\n  },\r\n  {\r\n    garageName: 'T. Turner',\r\n    occupancy: .82,\r\n    staffs: 3,\r\n    expStaffs: 3\r\n  },\r\n  {\r\n    garageName: 'D. Taveras',\r\n    occupancy: .81,\r\n    staffs: 2,\r\n    expStaffs: 3\r\n  },\r\n  {\r\n    garageName: 'J. Ivey',\r\n    occupancy: .15,\r\n    staffs: 2,\r\n    expStaffs: 3\r\n  },\r\n  {\r\n    garageName: 'J. Ivey',\r\n    occupancy: .12,\r\n    staffs: 2,\r\n    expStaffs: 3\r\n  },\r\n  {\r\n    garageName: 'A. Jones',\r\n    occupancy: .09,\r\n    staffs: 2,\r\n    expStaffs: 3\r\n  }\r\n]\r\n  const e1: any = {\r\n    id: '5b345cb3ea260d03b87438dd',\r\n    name: 'Thomas E. Dernoga',\r\n    revenueAmt: 18200,\r\n    towedCars: 6,\r\n    transaction: 12,\r\n    street: 7,\r\n    grades: 6,\r\n    sidewalk: 4,\r\n    analyticsQueryIntervalPreset,\r\n    liveQueryIntervalPreset,\r\n    reservationOccupancy\r\n  };\r\n\r\n  const bindFunctions = (e: EnterpriseEvent) => {\r\n    e.getAnalyticsCharts = getAnalyticsCharts.bind(e); \r\n    e.getLiveCharts = getLiveCharts.bind(e); \r\n    e.getAnalyticsStats = getAnalyticsStats.bind(e);\r\n    e.getLiveStats = getLiveStats.bind(e);\r\n  }\r\n  bindFunctions(e1);\r\n\r\n  const e2: any = {\r\n    \r\n    id: '5b345cb3ea260d03b87438de',\r\n    name: 'Todd M. Turner, Chair',\r\n    revenueAmt: 11878,\r\n    towedCars: 445,\r\n    transaction: 943,\r\n    street: 63,\r\n    grades: 42,\r\n    sidewalk: 38,\r\n    analyticsQueryIntervalPreset,\r\n    liveQueryIntervalPreset,\r\n    reservationOccupancy\r\n  };\r\n  bindFunctions(e2);\r\n\r\n  const e3: any = {\r\n    id: '5b345cb3ea260d03b87438dd22',\r\n    name: 'Deni L. Taveras',\r\n    revenueAmt: 14300,\r\n    transaction: 1122,\r\n    towedCars: 452,\r\n    street: 98,\r\n    grades: 56,\r\n    sidewalk: 27,\r\n    analyticsQueryIntervalPreset,\r\n    liveQueryIntervalPreset,\r\n    reservationOccupancy\r\n  };\r\n  bindFunctions(e3);\r\n  return [e1, e2, e3];\r\n}\r\n\r\nconst selectedEnterpriseEventManager = (() => {\r\n  let selectedEnterpriseEvent = getEnterpriseEvents()[0];\r\n\r\n  let listeners : any[] = [];\r\n\r\n  return {\r\n    get selectedEnterpriseEvent() {\r\n      return selectedEnterpriseEvent;\r\n    },\r\n\r\n    addSelectedEnterpriseChangeListener(fn: any) {\r\n      const exists = !!listeners.find(l => l === fn);\r\n      if (!exists) {\r\n        listeners.push(fn);\r\n      }    \r\n    },\r\n\r\n    removeSelectedEnterpriseChangeListener(listener: any) {\r\n      listeners = listeners.filter(l => l === listener);\r\n    },\r\n\r\n    selectEnterpriseEvent(eventId: string) {\r\n      if (selectedEnterpriseEvent.id === eventId) return;\r\n      const event = getEnterpriseEvents().find(e => e.id === eventId);\r\n      if (!event) return;\r\n      selectedEnterpriseEvent = event;\r\n      listeners.forEach(l => l(event));\r\n    }\r\n  }\r\n})()\r\n\r\nexport function useSelectEnterpriseEvent() {\r\n  const [E, setE] = useState<any>(selectedEnterpriseEventManager.selectedEnterpriseEvent);\r\n\r\n  useEffect(() => {\r\n    const listener = (event: EnterpriseEvent) => {\r\n      setE(event);\r\n    }\r\n\r\n    selectedEnterpriseEventManager.addSelectedEnterpriseChangeListener(listener);\r\n\r\n    return () => selectedEnterpriseEventManager.removeSelectedEnterpriseChangeListener(listener);\r\n  },[]);\r\n\r\n  return {\r\n    enterpriseEvent: E, \r\n    selectEnterpriseEvent: (eventId: string) => {\r\n      selectedEnterpriseEventManager.selectEnterpriseEvent(eventId);\r\n    }\r\n  }\r\n}\r\n","import React, { useState } from \"react\";\r\nimport { Grid, Modal, Switch, Card, Button, Text } from \"platyplex_ui\";\r\nimport { gradient, primaryColor, primaryTxtColor } from \"../../../config\";\r\nimport { Table, Input, Select, Progress, TimePicker, Popover, Popconfirm } from \"antd\";\r\nimport { Message } from \"../../client/form\";\r\nimport { moment } from \"../../../utils/time\";\r\nimport { Client } from \"../../../store/reducer/clients\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Permit, PermitType, RootPermit } from \"../../../store/reducer/permit\";\r\nimport { removePermit } from \"../../../store/actions/permits\";\r\nimport { useParams } from \"react-router\";\r\nimport random from \"../../../utils/random\";\r\n\r\nenum HistoryState {\r\n  ACTIVE = \"ACTIVE\",\r\n  UPCOMING = \"UPCOMING\",\r\n  EXPIRED = \"EXPIRED\",\r\n  CANCELLED = \"CANCELED\",\r\n}\r\nexport const electricPermits = [{\r\n  id: random(5),\r\n  vehicleId: '231',\r\n  firstName: 'Lisa',\r\n  lastName: 'Vu',\r\n  dailyMilage: 142,\r\n  phone: '421-454-9022',\r\n  liscensePlate: '332DER',\r\n  email: 'lisa.vu@co.pg.md.us',\r\n  starts: moment().add('m', -15).add('h', -5).format(\"ddd, MMM DD, YYYY @ hh:mm A\"),\r\n  status: 100\r\n},\r\n{\r\n  id: random(5),\r\n  vehicleId: '642',\r\n  firstName: 'Emma',\r\n  lastName: 'Doe',\r\n  dailyMilage: 127,\r\n  phone: '344-137-7100',\r\n  liscensePlate: '13DEF5',\r\n  email: 'emma.doe@co.pg.md.us',\r\n  starts: moment().add('m', -22).add('h', -4).format(\"ddd, MMM DD, YYYY @ hh:mm A\"),\r\n  status: 91\r\n},\r\n{\r\n  id: random(5),\r\n  vehicleId: '738',\r\n  firstName: 'Harry',\r\n  lastName: 'Chiala',\r\n  dailyMilage: 89,\r\n  phone: '412-671-1235',\r\n  liscensePlate: '4EAF32',\r\n  email: 'harry.chiala@co.pg.md.us',\r\n  starts: moment().add('m', -48).add('h', -4).format(\"ddd, MMM DD, YYYY @ hh:mm A\"),\r\n  status: 67\r\n},\r\n{\r\n  id: random(5),\r\n  vehicleId: '765',\r\n  firstName: 'John',\r\n  lastName: 'Master',\r\n  dailyMilage: 74,\r\n  phone: '412-290-7845',\r\n  liscensePlate: 'FRT789',\r\n  email: 'john.master@co.pg.md.us',\r\n  starts: moment().add('m', -43).add('h', -2).format(\"ddd, MMM DD, YYYY @ hh:mm A\"),\r\n  status: 52\r\n},\r\n{\r\n  id: random(5),\r\n  vehicleId: '788',\r\n  firstName: 'Nick',\r\n  lastName: 'Roman',\r\n  dailyMilage: 70,\r\n  phone: '412-627-1670',\r\n  liscensePlate: '52VBQE',\r\n  email: 'nick.roman@co.pg.md.us',\r\n  starts: moment().add('m', -21).add('h', -2).format(\"ddd, MMM DD, YYYY @ hh:mm A\"),\r\n  status: 45\r\n},\r\n{\r\n  id: random(5),\r\n  vehicleId: '788',\r\n  firstName: 'Sammy',\r\n  lastName: 'Owens',\r\n  dailyMilage: 68,\r\n  phone: '412-520-2685',\r\n  liscensePlate: 'D2IO9',\r\n  email: 'sammy.owens@co.pg.md.us',\r\n  starts: moment().add('m', -11).add('h', -2).format(\"ddd, MMM DD, YYYY @ hh:mm A\"),\r\n  status: 42\r\n}\r\n\r\n\r\n]\r\nconst ElectricTable = ({ client }: { client?: Client }) => {\r\n  const admin = !client;\r\n  let { id } = useParams<{id: any}>();\r\n  const [state, setter] = useState({\r\n    type: HistoryState.ACTIVE,\r\n    checked: false,\r\n  });\r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  const setState = (props: any) => setter({ ...state, ...props });\r\n  const checked = () => setState({ checked: true });\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  return (\r\n    <>\r\n  <br/>\r\n      { (\r\n        <Table\r\n          bordered\r\n          style={{ maxWidth: '100%', overflowX: 'auto'}}\r\n          pagination={{ pageSize: 25 }}\r\n          loading={false}\r\n          dataSource={electricPermits}\r\n          columns={\r\n            columns((e: any) => ()=>{}, clients, (p: RootPermit)=> dispatch(removePermit(p)), id)}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst columns = (openBooking: any, clients: Client[], removePermit: (p : Permit)=> void, id: any) => [\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Vehicle ID #\r\n        <Select style={{ width: 45 }} defaultValue=\"All\">\r\n          <Select.Option value={\"Residential\"}>Residential</Select.Option>\r\n          <Select.Option value={\"Visitor\"}>Visitor</Select.Option>\r\n        </Select>\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"vehicleId\",\r\n  },\r\n\r\n \r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        E-Permit ID\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 50 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"id\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Officer First Name\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 50 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"firstName\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n         Officer Last Name\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 50 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"lastName\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Email\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 70 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"email\",\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Phone Number\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 100 }} />\r\n      </Grid>\r\n    ),\r\n    render: (i: any) => i.phone || \"623-143-9124\",\r\n  },\r\n\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        Fleet Space\r\n        <Select style={{ width: 60 }} defaultValue=\"All\" />\r\n      </Grid>\r\n    ),\r\n    render:(i, j, k)=> 'Space #' + JSON.stringify(k + 1),\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n        License Plate #\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 45 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"liscensePlate\",\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n     Daily Mileage\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 40 }} />\r\n      </Grid>\r\n    ),\r\n    render: (a)=> <div>{a.dailyMilage|| 50} miles</div>,\r\n  },\r\n  {\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n       Drop Off Time\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 100 }} />\r\n      </Grid>\r\n    ),\r\n    dataIndex: \"starts\",\r\n  },{\r\n    title: () => (\r\n      <Grid placeItems=\"center start\">\r\n      Charge Status\r\n        <Input prefix={<i className=\"fa fa-search\" />} style={{ width: 100 }} />\r\n      </Grid>\r\n    ),\r\n    render: (a)=> <Progress percent={a.status|| 50}/>,\r\n  },\r\n\r\n\r\n  {\r\n    title: \"Actions\",\r\n    render: (i: any) => (\r\n      <>\r\n        <Button rounded onClick={() => openBooking(i)} disabled={i.status <= 90}>\r\n          Ready for Pickup\r\n        </Button>\r\n         \r\n      </>\r\n    ),\r\n  },\r\n];\r\n\r\nexport default ElectricTable;\r\n","import React, { useEffect, useMemo } from 'react';\r\nimport { Grid, Header as Text, List, Empty , Loader} from 'platyplex_ui';\r\nimport { ScoreCard } from '../../../components/score-card/old-score-card';\r\nimport { overflow } from '../../../utils/text';\r\nimport { moment } from '../../../utils/time';\r\nimport { invertedTxtColor } from '../../../config';\r\nimport PieChart from '../../../components/chart/components/graph/pie-chart'\r\nimport { getEnterpriseEvents, useSelectEnterpriseEvent, Stats } from '../model';\r\nimport { Select } from 'antd';\r\nimport usePromise from '../../../hooks/promise_hook';\r\nimport { toCurrency } from '../../../utils';\r\nimport { useParams } from 'react-router';\r\nimport { electricPermits } from './electric-table';\r\n\r\nconst enterpriseEvents = getEnterpriseEvents();\r\n\r\nconst Header = () => {\r\n    const { id } = useParams<{id: any}>();\r\n\r\n    const { enterpriseEvent, selectEnterpriseEvent} = useSelectEnterpriseEvent();\r\n    const { data, loading } = usePromise<Stats>(useMemo(() => enterpriseEvent.getAnalyticsStats('5f0387891c154a299fc0104f'),\r\n        []));\r\n\r\n    useEffect(()=>{\r\n        switch(id){\r\n            case '3':   \r\n            selectEnterpriseEvent('5b345cb3ea260d03b87438dd22')\r\n            break;\r\n\r\n            case '2':  \r\n            selectEnterpriseEvent('5b345cb3ea260d03b87438de')\r\n            break;\r\n\r\n            default: \r\n            selectEnterpriseEvent('5b345cb3ea260d03b87438dd')\r\n        }\r\n    }, [id])\r\n    return (\r\n        <Grid\r\n            cols='5'\r\n            style={{ gridColumn: '1/-1', marginBottom: '1em' }}\r\n            width='100%'\r\n            gridGap='.25em'\r\n            padding='1em 1em 0 1em'\r\n        >\r\n            <div\r\n                id='header'\r\n                className='grid'\r\n                style={{\r\n                    width: '100%',\r\n                    margin: '0 0 .75em 0',\r\n                    gridColumn: '1/-1',\r\n                    gridTemplateColumns: '1fr auto'\r\n                }}>\r\n                <Select\r\n                    style={{ width: '300px', placeSelf: 'start', color: 'white' }}\r\n                    disabled={loading}\r\n                    placeholder=\"Select\"\r\n                    value={'Largo Town Center, Largo, MD 20774'}\r\n                    >\r\n      \r\n                        <Select.Option\r\n                            value={\"Largo Town Center, Largo, MD 20774\"}>\r\n                           Largo Town Center, Largo, MD 20774\r\n                        </Select.Option>\r\n                        <Select.Option\r\n                            value={\"1301 McCormick Drive, Upper Marlboro, MD 20774\"}>\r\n                           1301 McCormick Drive, Upper Marlboro, MD 20774\r\n                        </Select.Option>\r\n                </Select>\r\n                <Select\r\n                    style={{ width: '300px', placeSelf: 'start', color: 'white' }}\r\n                    disabled={loading}\r\n                    placeholder=\"Select\"\r\n                    onChange={eventIds => selectEnterpriseEvent(eventIds)}\r\n                    value={'Weekly'}>\r\n                {['Weekly', 'Daily', 'Monthly'].map((e)=> <Select.Option value={e}>{e}</Select.Option>)}\r\n                </Select>\r\n                <div>\r\n                </div>\r\n                <Text size={4.6} color={invertedTxtColor} className='hide-mobile'>  Updated at: {moment().format('hh:mm A')}</Text>\r\n                   \r\n                \r\n            </div>\r\n\r\n\r\n           <ScoreCard title='Total Money Spent Maintaining Vehicles' faIcon='fa fa-money' hoverLabel='Total Revenue' borderRight>\r\n                {loading\r\n                    ? <Loader.Spinner color='inherit' />\r\n                    : <PieChart\r\n                        height={130}\r\n                        width={130}\r\n                        text={data ? toCurrency(enterpriseEvent.revenueAmt) : 'N/A'}\r\n                        data={data ? [\r\n                            { label: `Normal Pricing (${1000} total)`, value: data.revenue.normal },\r\n                        ] : [{ label: 'N/A', value: 'N/A' }]} />\r\n                }\r\n\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Electric Vehicles Parked' faIcon='fas fa-money-check-alt' hoverLabel='Revenue' borderRight>\r\n                {loading\r\n                    ? <Loader.Spinner color='inherit' />\r\n                    : <span className='txt-lgx'>{data ? enterpriseEvent.transaction : 'N/A'}</span>\r\n                }\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Electric Vehicles Fully Charged' faIcon='fas fa-money-check-alt' hoverLabel='Revenue' borderRight>\r\n                {loading\r\n                    ? <Loader.Spinner color='inherit' />\r\n                    : <span className='txt-lgx'>{data ? enterpriseEvent.towedCars : 'N/A'}</span>\r\n                }\r\n            </ScoreCard>\r\n\r\n            <ScoreCard title='Top Maintenance Issues' faIcon='fas fa-money-check-alt' hoverLabel='Revenue' borderRight>\r\n            <Text color='white' size={'1.1em'}>Battery Cable ({enterpriseEvent.street ||  272})</Text>\r\n             <Text color='white' size={'1.1em'}>Brake ({enterpriseEvent.grades ||8})</Text>\r\n             <Text color='white' size={'1.1em'}>Alternator ({enterpriseEvent.sidewalk || 7})</Text>\r\n      \r\n            </ScoreCard>\r\n            <ScoreCard title='Charge Status @ Drop off' faIcon='fa fa-car' hoverLabel='Occupancy Count' span={1}>\r\n                <Grid placeSelf='start' >\r\n                    <Grid\r\n              \r\n                        placeItems='stretch'\r\n                        width='100%'\r\n                        color='white'\r\n                        gridGap='.2em 1.5em'\r\n                    >\r\n                        <List\r\n                            loading={loading}\r\n                            empty={\r\n                                <div style={{ gridColumn: '1/-1' }}>\r\n                                    <Empty text={'No Garage Occupancy'} color=\"white\" style={{ width: '7em', margin: '0 auto' }} />\r\n                                </div>\r\n                            }\r\n                            pagination={{ items: 3 }}\r\n                            list={enterpriseEvent.reservationOccupancy}\r\n                            map={(({ garageName, occupancy, staffs, expStaffs }: any, i: number) => {\r\n                                return (\r\n                                    <Grid customCols='1fr auto'>\r\n                                        <span className='txt-overflow'style={{color: 'white'}}>{electricPermits[i].firstName + \" \"+ electricPermits[i].lastName}</span>\r\n                                        <ScoreCard.PercentBar\r\n                                            status\r\n                                            percent={datas[i]}\r\n                                            text={`${datas[i]}%`}\r\n                                        />\r\n                                   \r\n                                    </Grid>\r\n                                )\r\n                            })}\r\n                        />\r\n                    </Grid>\r\n                </Grid>\r\n            </ScoreCard>\r\n        </Grid>);\r\n}\r\n\r\nconst datas = [65, 43, 41]\r\n\r\nexport default Header;\r\n","import React, { useMemo } from \"react\";\r\nimport Layout from '../../../layout';\r\nimport { Grid, Switch } from \"platyplex_ui\";\r\nimport Header from \"./header\";\r\nimport Chart from '../../../components/chart';\r\nimport { useMetricData } from '../../../hooks/metrics';\r\nimport { useSelectEnterpriseEvent } from '../model';\r\nimport ElectricTable from \"./electric-table\";\r\n\r\n\r\nconst Analytics = ({ switches }: { switches: JSX.Element }) => {\r\n    const eId = '5f0387d7b029fcbd73a1b3cc';\r\n    const { enterpriseEvent: activeEvent } = useSelectEnterpriseEvent();\r\n    const downloads = ['event-revenue', 'event-transactions', 'event-reservations']\r\n    const charts = (() => {\r\n      const c = activeEvent.getAnalyticsCharts();\r\n      return [c.revenue, c.transactions, c.reservations];\r\n    })();\r\n\r\n    const timeSeriesQueries = (() => {\r\n      const f = (charts, i: number) => ({ timeSeriesQuery: charts[i].timeSeriesQuery, eId });\r\n        return [f(charts, 0), f(charts, 1), f(charts, 2)];\r\n    })();\r\n\r\n    const metricDataStatuses = [\r\n      useMetricData(timeSeriesQueries[0]),\r\n      useMetricData(timeSeriesQueries[1]),\r\n      useMetricData(timeSeriesQueries[2])\r\n    ];\r\n   \r\n    useMemo(() => {\r\n      [0, 1, 2].forEach(i => {\r\n        metricDataStatuses[i].refresh(timeSeriesQueries[i].timeSeriesQuery);\r\n      });\r\n    }, [activeEvent.id]);\r\n\r\n    return (\r\n        <Layout sidebar>\r\n            <Layout.Top >\r\n            <Grid margin=\".75em\" cols=\"2\" gridGap=\".25em\">\r\n                {switches}\r\n              </Grid>\r\n                <Header />\r\n            </Layout.Top>\r\n            <Layout.Bottom>\r\n                <Grid\r\n                 placeItems=\"start stretch\"\r\n                 padding=\"1em\"\r\n                 height=\"100%\"\r\n                 gridGap='.5em'\r\n                 style={{\r\n                   width: 1400,\r\n                   maxWidth: \"100vw\",\r\n                   marginLeft: \"auto\",\r\n                   marginRight: \"auto\",\r\n                 }}>\r\n                   <ElectricTable />\r\n                </Grid>\r\n            </Layout.Bottom>\r\n        </Layout>\r\n    );\r\n};\r\n\r\nexport default Analytics;","import React, { useState } from \"react\";\r\nimport { Card, Grid, Loader } from \"platyplex_ui\";\r\nimport { Popover } from \"antd\";\r\nimport { disabledTxtColor2 } from \"../../../../config\";\r\nimport { useSize } from \"../../../../hooks/size\";\r\nimport { usePlaces } from \"../../../../hooks/places_v1\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { setAddressData } from \"../../../../store/actions/search\";\r\n\r\nconst LocationSearcher = () => {\r\n  const { container, width } = useSize();\r\n  const { searchText, addressData, loading, setSearchText } = usePlaces(\r\n    \"\",\r\n    false\r\n  );\r\n  const [visible, setVisible] = useState(false);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleChange = ({ target }: any) => {\r\n    setSearchText(target.value);\r\n    setVisible(true);\r\n  };\r\n\r\n  return (\r\n    <Popover\r\n      visible={visible}\r\n      placement=\"bottom\"\r\n      content={\r\n        loading ? (\r\n          <Grid\r\n            style={{ minWidth: 500, maxWidth: \"90vw\" }}\r\n            customCols=\"1fr auto auto 1fr\"\r\n          >\r\n            <span />\r\n            <span>\r\n              <Loader.Spinner />\r\n            </span>\r\n            Loading\r\n          </Grid>\r\n        ) : (\r\n          <Grid\r\n            placeItems=\"center stretch\"\r\n            customCols=\"1fr auto\"\r\n            style={{ width }}\r\n          >\r\n            <div\r\n              className=\"pointer noselect\"\r\n              onClick={() => {\r\n                if (addressData.formattedAddress !== \"No Result Found\") {\r\n                  setSearchText(addressData.formattedAddress);\r\n                  dispatch(setAddressData(addressData));\r\n                }\r\n                setVisible(false);\r\n              }}\r\n            >\r\n              {addressData.formattedAddress}\r\n            </div>\r\n            <i\r\n              className=\"fa fa-times-circle pointer txt-md\"\r\n              onClick={() => setVisible(false)}\r\n            />\r\n          </Grid>\r\n        )\r\n      }\r\n    >\r\n      <Card margin=\"0\" grid placeItems=\"center stretch\">\r\n        <input\r\n          ref={container}\r\n          placeholder=\"Where to? \"\r\n          style={{\r\n            width: \"100%\",\r\n            background: disabledTxtColor2,\r\n            borderRadius: \"1.5em\",\r\n            padding: \".5em 20px\",\r\n            border: \"1px solid \" + disabledTxtColor2,\r\n          }}\r\n          onChange={handleChange}\r\n          value={searchText}\r\n        />\r\n      </Card>\r\n    </Popover>\r\n  );\r\n};\r\n\r\nexport default LocationSearcher;\r\n","import ReactDOM from \"react-dom\";\r\nimport { Coords } from \"google-map-react\";\r\nimport location from \"../../../assets/share_icon.png\";\r\nimport {\r\n  GoogleApiWrapper,\r\n  InfoWindow,\r\n  Map,\r\n  Marker,\r\n  Polygon,\r\n} from \"google-maps-react\";\r\nimport { Grid, Text } from \"platyplex_ui\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link, NavLink } from \"react-router-dom\";\r\nimport LocationSearcher from \"./location-searcher\";\r\nimport { setAddressData } from \"../../../store/actions/search\";\r\nimport Layout from \"../../../layout\";\r\n\r\nexport class MapContainer extends React.Component<any, any> {\r\n  state = {\r\n    showingInfoWindow: true,\r\n    name: \"\",\r\n    revenue: 0,\r\n    id: 1,\r\n    zoom: 9.5,\r\n    citation: false,\r\n    transaction: 0,\r\n    activeMarker: {},\r\n    markPosition: { lat: -1, lng: -1 },\r\n    selectedPlace: {},\r\n  };\r\n\r\n  link = React.createRef();\r\n\r\n  render() {\r\n\r\n    const onMarkerClick = (props: any, marker: any, e: any) => {\r\n      this.setState({\r\n        selectedPlace: props,\r\n        activeMarker: marker,\r\n        showingInfoWindow: true,\r\n      });\r\n    };\r\n\r\n    return (\r\n      <Layout sidebar style={{ gridTemplateRows: \"1fr auto\" }}>\r\n        <Layout.Top>\r\n          <Grid margin=\".75em\" cols=\"2\" gridGap=\".25em\">\r\n            {this.props.children}\r\n          </Grid>\r\n        </Layout.Top>\r\n        <Layout.Bottom\r\n          style={{\r\n            width: \"calc(100% - 5em)\",\r\n            marginLeft: \"5em\",\r\n            height: \"100%\",\r\n          }}\r\n        >\r\n          <Grid\r\n            placeSelf=\"stretch\"\r\n            style={{ width: \"95%\", height: \"100%\", position: \"relative\" }}\r\n          >\r\n            <div\r\n              onClick={() => window.location.reload()}\r\n              style={{ display: \"none\" }}\r\n              ref={this.link as any}\r\n            ></div>\r\n            <div\r\n              style={{\r\n                placeSelf: \"start stretch\",\r\n                zIndex: 10,\r\n                gridColumnStart: 1,\r\n              }}\r\n            >\r\n              <LocationSearcher />\r\n            </div>\r\n            <Map\r\n              style={{ gridColumnStart: \"1\" }}\r\n              google={this.props.google as any}\r\n              center={{lat:  39.50892, lng: -76.82}}\r\n              initialCenter={{lat:  39.50892, lng: -76.82}}\r\n              zoom={9}\r\n              onZoomChanged={(_: any, { zoom }: any) => this.setState({ zoom })}\r\n              onClick={(mapProps, map, clickEvent) =>\r\n                console.log({\r\n                  lat: clickEvent.latLng.lat(),\r\n                  lng: clickEvent.latLng.lng(),\r\n                })\r\n              }\r\n            >\r\n                 <Marker\r\n                   onMouseover={onMarkerClick}\r\n                  position={{lat:  39.50892, lng: -76.75164}}\r\n                />\r\n\r\n                  <Marker\r\n                   onMouseover={onMarkerClick}\r\n                  position={{lat: 38.9090061, lng: -76.8447549}}\r\n                />\r\n\r\n              <InfoWindowEx\r\n                google={this.props.google}\r\n                map={this.props.map}\r\n                marker={this.state.activeMarker as any}\r\n                visible={this.state.showingInfoWindow}\r\n              >\r\n                <div\r\n                  className=\"cursor\"\r\n                  onClick={() => {\r\n                    const curr = this.link?.current as any;\r\n                    curr?.click();\r\n                  }}\r\n                >\r\n                  \r\n                  <h2>Location: {\"Largo Town Center, Largo, MD 20774\"}</h2>\r\n                  <Text bold size='1.2em'> # of Chargers: 12</Text>\r\n                  <Text bold  size='1.2em'>Occupancy: 50%</Text>\r\n                </div>\r\n              </InfoWindowEx>\r\n            </Map>\r\n          </Grid>\r\n        </Layout.Bottom>\r\n      </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nfunction InfoWindowEx(props) {\r\n  const infoWindowRef = React.createRef() as any;\r\n  const contentElement = document.createElement(`div`);\r\n  useEffect(() => {\r\n    ReactDOM.render(React.Children.only(props.children), contentElement);\r\n    infoWindowRef?.current?.infowindow?.setContent(contentElement);\r\n  }, [props.children]);\r\n  return <InfoWindow ref={infoWindowRef} {...props} />;\r\n}\r\n\r\ninterface LayerProps {\r\n  strokeColor: string;\r\n  coord?: Coords[];\r\n  setActive: (props: any) => void;\r\n  name: string;\r\n  revenue: number;\r\n  locations?: string[];\r\n}\r\n\r\nconst Layer = (props: LayerProps) => {\r\n  const { strokeColor, coord, locations, revenue, setActive, name } = props;\r\n  console.log(props);\r\n  return (\r\n    <Polygon\r\n      paths={coord}\r\n      strokeColor={\"red\"}\r\n      strokeOpacity={0.8}\r\n      strokeWeight={2}\r\n      fillColor={\"red\"}\r\n      fillOpacity={0.35}\r\n    />\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state: any) => {\r\n  const { search } = state;\r\n  return { search };\r\n};\r\n\r\nconst mapDispatchToProps = (dispatch: any) => {\r\n  return {\r\n    setAddressData: ({ lat, lng }: any) => {\r\n      dispatch(\r\n        setAddressData({\r\n          geo: { lat, lng },\r\n        })\r\n      );\r\n    },\r\n  };\r\n};\r\n\r\nconst ConnectedMap = connect(mapStateToProps, mapDispatchToProps)(MapContainer);\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: \"AIzaSyCXprycu2n1TOaoO0wDiZkH8HavZbUDFFU\",\r\n})(ConnectedMap);\r\n","import React, { useState } from \"react\";\r\nimport { Grid, Text } from \"platyplex_ui\";\r\nimport Analytics from \"./analytics\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Map from \"./map/index_v1\";\r\n\r\nenum Pages {\r\n  \"ANALYTICS\" = \"ANALYTICS\",\r\n  \"MAP\" = \"MAP\",\r\n}\r\n\r\nconst Electric = () => {\r\n  const [activePage, setActivePage] = useState<Pages>(Pages.ANALYTICS);\r\n  const switches = (\r\n    <Grid margin=\".75em\" cols=\"2\" gridGap=\".25em\">\r\n      <Text\r\n        color=\"white\"\r\n        bold\r\n        className=\"pointer\"\r\n        onClick={() => setActivePage(Pages.ANALYTICS)}\r\n        size=\"1.25em\"\r\n        style={{\r\n          textDecoration: activePage === Pages.ANALYTICS ? \"underline\" : \"\",\r\n        }}\r\n      >\r\n        Analytics\r\n      </Text>\r\n\r\n      <Text\r\n        color=\"white\"\r\n        bold\r\n        size=\"1.25em\"\r\n        className=\"pointer\"\r\n        onClick={() => setActivePage(Pages.MAP)}\r\n        style={{ textDecoration: activePage === Pages.MAP ? \"underline\" : \"\" }}\r\n      >\r\n        Map\r\n      </Text>\r\n    </Grid>\r\n  );\r\n\r\n  return activePage === Pages.ANALYTICS ? (\r\n    <Analytics switches={switches} />\r\n  ) : (\r\n    <Map>{switches}</Map>\r\n  );\r\n};\r\n\r\nexport default Electric;\r\n","import React, { useState } from \"react\";\r\nimport { Grid, Modal, Switch, Card, Button, Text } from \"platyplex_ui\";\r\nimport { gradient, primaryColor, primaryTxtColor } from \"../../../../config\";\r\nimport { Table, Input, Select, Progress, TimePicker, Popover, Popconfirm } from \"antd\";\r\nimport { Message } from \"../../../client/form\";\r\nimport { moment } from \"../../../../utils/time\";\r\nimport { Client } from \"../../../../store/reducer/clients\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Permit, PermitType, RootPermit } from \"../../../../store/reducer/permit\";\r\nimport { removePermit } from \"../../../../store/actions/permits\";\r\nimport { useParams } from \"react-router\";\r\nimport { permitColumns } from \"../../../permits/history\";\r\n\r\nenum HistoryState {\r\n  ACTIVE = \"ACTIVE\",\r\n  UPCOMING = \"UPCOMING\",\r\n  EXPIRED = \"EXPIRED\",\r\n  CANCELLED = \"CANCELED\",\r\n}\r\n\r\nconst History = ({ permit }: { permit?: RootPermit }) => {\r\n  let { id } = useParams<{id: any}>();\r\n  const [state, setter] = useState({\r\n    type: HistoryState.ACTIVE,\r\n    checked: false,\r\n  });\r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  const { permits, loading } = useSelector((state: any) => state.permits);\r\n  const setState = (props: any) => setter({ ...state, ...props });\r\n  const checked = () => setState({ checked: true });\r\n  const dispatch = useDispatch();\r\n  const openPermit = async (permit: any, checked: any) => {\r\n    const modal = Modal({\r\n      title: \"\",\r\n      modal: (\r\n        <Modall \r\n          permit={permit} \r\n          second_vaccine={7}\r\n          checked={checked} \r\n          close={() => modal.close()} \r\n        />\r\n      ),\r\n      hideCancel: true,\r\n    });\r\n    modal.open();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Switch\r\n        style={{ padding: 0 }}\r\n        onClick={(type: any) => setState({ type })}\r\n        color={primaryTxtColor}\r\n        border={\"2px solid \" + primaryColor}\r\n        items={Object.keys(HistoryState)}\r\n        active={state.type}\r\n      />\r\n      <br />\r\n      { (\r\n        <Table\r\n          bordered\r\n          style={{ maxWidth: '100%', overflowX: 'scroll'}}\r\n          pagination={{ pageSize: 25 }}\r\n          loading={loading}\r\n          dataSource={[\r\n            permit,\r\n            ...permit.residential,\r\n            ...permit.visitor\r\n          ]}\r\n          columns={\r\n            permitColumns(clients, (p: RootPermit)=> dispatch(removePermit(p)))}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nconst Modall = ({ close, checked, permit, second_vaccine }: any) => {\r\n  const [done, setDone] = useState(false);\r\n  const nextState = () => setDone(true);\r\n  second_vaccine = Number(second_vaccine) || 7;\r\n\r\n  return (\r\n    <Grid height=\"100%\" width=\"100%\">\r\n      <Card\r\n        shadow\r\n        grid\r\n        placeItems=\"stretch\"\r\n        style={{ minWidth: \"40vw\", maxWidth: \"95vw\" }}\r\n        customCols=\"auto 1fr\"\r\n        mobileLayout={false}\r\n      >\r\n        <i\r\n          onClick={close}\r\n          className=\"fa fa-times-circle txt-md pointer hoverr\"\r\n          style={{\r\n            gridRow: done ? \"span 1\" : \"span 7\",\r\n            padding: \".25em\",\r\n            placeSelf: \"start\",\r\n            color: primaryColor,\r\n          }}\r\n        />\r\n        {done ? (\r\n          <Message\r\n            generate\r\n            user={{\r\n              id: \"CBL61W21\",\r\n              endDate: moment(permit.starts).add(\"days\", second_vaccine).toISOString(),\r\n            }}\r\n            admin\r\n            style={{ gridGap: \"1em\" }}\r\n            confirm={() => {\r\n            //  checked();\r\n              close();\r\n            }}\r\n          />\r\n        ) : (\r\n          <>\r\n            <Text bold style={{ marginTop: \"1.5em\" }}>\r\n             E-Permit Extension\r\n            </Text>\r\n            <Text textAlign=\"left\">\r\n              E-Permit ID: <b>{permit._id?.substring(0,5)}</b>\r\n            </Text>\r\n            <Text textAlign=\"left\">\r\n              Next Date:{\" \"}\r\n              <b>\r\n                {moment(permit.starts)\r\n                  .add(\"days\", second_vaccine)\r\n                  .format(\"ddd, MMM, DD, YYYY\")}\r\n              </b>\r\n            </Text>\r\n            <Text textAlign=\"left\" color={primaryColor}>\r\n              Select Time\r\n            </Text>\r\n            <TimePicker format=\"hh:mm a\" minuteStep={15} />\r\n            <Button.Normal\r\n              style={{\r\n                borderRadius: \"1.3em\",\r\n                padding: \".5em\",\r\n                marginTop: \"1em\",\r\n                backgroundImage: `${gradient}`,\r\n                color: \"white\",\r\n                border: 0,\r\n                placeSelf: \"start\",\r\n                minWidth: \"15vw\",\r\n              }}\r\n              onClick={() => {\r\n                nextState();\r\n              }}\r\n              type=\"submit\"\r\n            >\r\n              Schedule\r\n            </Button.Normal>\r\n          </>\r\n        )}\r\n      </Card>\r\n    </Grid>\r\n  );\r\n};\r\n\r\n\r\nexport default History;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Grid, Text, Header, Button } from \"platyplex_ui\";\r\nimport { useFormik } from \"formik\";\r\nimport { Input, DatePicker, Select } from \"antd\";\r\nimport { gradient, primaryColor } from \"../../config\";\r\nimport { moment } from \"../../utils/time\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { ParkingLot, Zone } from \"../../store/actions/clients\";\r\nimport { PermitType } from \"../../store/reducer/permit\";\r\nimport { Client } from \"../../store/reducer/clients\";\r\nimport { useParams } from \"react-router\";\r\nimport { addVehiclePermit } from \"../../store/actions/vehicle-permit\";\r\n\r\nconst defaultValue = {\r\n  \r\n  liscensePlate: \"\",\r\n \r\n  starts: moment().set(\"minute\", 0).format(\"ddd, MMM DD, YYYY @ hh:mm A\"),\r\n  ends: moment()\r\n    .set(\"minute\", 0)\r\n    .set('year', 2023)\r\n    .add('hour', 1)\r\n    .format(\"ddd, MMM DD, YYYY @ hh:mm A\"),\r\n  \r\n  done: false,\r\n  id: \"2NE345678\",\r\n  employer: 0,\r\n  type: PermitType.Visitor,\r\n  zone: Zone.R1,\r\n  parkingLot: ParkingLot.Lot1,\r\n};\r\n\r\nconst Form = ({onSubmit }: any) => {\r\n  const [user, setUser] = useState<any>(defaultValue);\r\n  const submit = (values: any) => {\r\n    setUser(values);\r\n    onSubmit && onSubmit(values);\r\n  };\r\n  const reset = () => setUser(defaultValue);\r\n  return user.done ? (\r\n    <Message reset={reset} user={user} />\r\n  ) : (\r\n    <FormComp submit={submit} />\r\n  );\r\n};\r\n\r\nexport const Message = ({\r\n  reset,\r\n  user,\r\n  admin,\r\n  style,\r\n  confirm,\r\n\r\n  generate,\r\n}: any) => {\r\n  return (\r\n    <Grid placeSelf=\"start center\" gridGap=\"2em\" style={style}>\r\n      <i\r\n        className=\"fas fa-check-circle\"\r\n        style={{ color: primaryColor, fontSize: \"6em\" }}\r\n      />\r\n      <Header bold>E-permit reservation successful!</Header>\r\n      <Text>\r\n        Your E-permit Reservation ID: <b>{user?.id || \"2NE3605\"}</b>\r\n      </Text>\r\n      {!admin ? (\r\n        <>\r\n          <Text>\r\n            Your E-permit reservation starts at{\" \"}\r\n            <b>\r\n              {user?.starts\r\n                ? moment(user.starts).format(`ddd, MMM DD, YYYY @ hh:mm A`)\r\n                : \"Fri, Jan 29, 2021 @ 5:00 PM\"}\r\n              .\r\n            </b>\r\n          </Text>\r\n        \r\n        </>\r\n      ) : generate ? (\r\n        <Text>\r\n          This E-Permit Expires:{\" \"}\r\n          <b>\r\n            {user?.endDate\r\n              ? moment(user.endDate).format(`ddd, MMM DD, YYYY @ hh:mm A`)\r\n              : \"Fri, Dec 11, 2021 at 5:00 PM\"}\r\n            .\r\n          </b>\r\n        </Text>\r\n      ) : (\r\n        <Text>\r\n          Confirmation details have been sent to email ({user.email}).\r\n        </Text>\r\n      )}\r\n      <Button.Normal\r\n        style={{\r\n          borderRadius: \"1.3em\",\r\n          padding: \".5em\",\r\n          marginTop: \"1em\",\r\n          backgroundImage: `${gradient}`,\r\n          color: \"white\",\r\n          border: 0,\r\n          minWidth: \"15vw\",\r\n        }}\r\n        type=\"submit\"\r\n        onClick={confirm ? confirm : reset}\r\n      >\r\n        Great\r\n      </Button.Normal>\r\n    </Grid>\r\n  );\r\n};\r\ntype Values =\r\n  | \"liscensePlate\"\r\n  | 'duration'\r\n  | \"starts\"\r\n  | \"ends\";\r\n\r\nconst vehicleFields = [\r\n  {\r\n    id: \"liscensePlate\",\r\n    label: \"Your Vehicle License Plate #\",\r\n    placeholder: \"Ex: 293DEF\",\r\n  },\r\n\r\n  {\r\n    id: \"duration\",\r\n    label: \"Duration\",\r\n    placeholder: \"Ex: 293DEF\",\r\n  },\r\n  {\r\n    id: \"starts\",\r\n    label: \"E-Permit Start Date & Time\",\r\n\r\n  },\r\n\r\n  {\r\n    id: \"ends\",\r\n    label: \"E-Permit End Date & Time\",\r\n  },\r\n\r\n] as any;\r\n\r\nconst FormComp = ({ submit, admin, header , dontAdd, link, partial, length = [], defaultValues, rootPermitId}: any) => {\r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  const dispatch = useDispatch();\r\n  let { id } = useParams() as any;\r\n  const isCompleting = defaultValues? true: false;\r\n  const {\r\n    handleSubmit,\r\n    handleChange,\r\n    errors,\r\n    values,\r\n    setFieldValue,\r\n  } = useFormik({\r\n    initialValues: {...defaultValue, ...defaultValues, isCompleting},\r\n    async onSubmit(values) {\r\n      dispatch(addVehiclePermit(values))\r\n      submit({ ...values, done: true });\r\n    },\r\n  });\r\n\r\n  const defaultLocation = \"Palo Alto, CA\"\r\n  useEffect(() => {\r\n    if (id) {\r\n      const index = Number(id) - 1;\r\n      setFieldValue(\"employer\", clients[index]?.name || defaultLocation);\r\n    }\r\n  }, []);\r\n\r\n  const patients = clients[0]?.parkingSpace || 10;\r\n  const error = !values.liscensePlate;\r\n  return (\r\n    <Grid placeSelf=\"start center\" placeItems=\"start center\" gridGap=\"1.5em\">\r\n      <Grid placeItems=\"stretch\" placeSelf=\"stretch\">\r\n        {!admin ? (\r\n          <>\r\n            {\" \"}\r\n            <Header textAlign=\"left\" className=\"med\">\r\n              Hi there!\r\n            </Header>\r\n            <Text textAlign=\"left\">\r\n              Welcome to ParkStash E-permit reservation system.\r\n            </Text>\r\n            <Text textAlign=\"left\">\r\n              Please enter your information below to generate E-Permit.\r\n            </Text>\r\n          </>\r\n        ) : (\r\n          <>\r\n            {header? header: \r\n            <Text bold textAlign=\"right\" color={primaryColor}>\r\n              ({patients - 5}/{patients}) Reservations at{\" \"}\r\n              {moment(values.starts).format(\"hh:mm a\")}\r\n            </Text>}\r\n            <Text textAlign=\"left\">\r\n              Please enter requester's information below to generate E-permit.\r\n            </Text>\r\n          </>\r\n        )}\r\n      </Grid>\r\n      <form onSubmit={handleSubmit}>\r\n        <Grid placeItems=\"stretch\" cols=\"2\" gridGap=\"2em 4em\">\r\n      \r\n       \r\n          {vehicleFields.map(\r\n            ({\r\n              id,\r\n              label,\r\n              placeholder,\r\n            }: {\r\n              id: Values;\r\n              label: string;\r\n              type: string | undefined;\r\n              placeholder: string;\r\n            }) => (\r\n              <div style={{ paddingTop: \".5em\" }} key={id}>\r\n                \r\n                  <Text textAlign=\"left\" color={primaryColor} bold>\r\n                    {label}\r\n                  </Text>\r\n                \r\n                {id === \"starts\" || id === \"ends\" ? (\r\n                  <DatePicker\r\n                    format=\"ddd, MMM, DD, YYYY, hh:mm a\"\r\n                    showTime={{ format: \"hh:mm A\" }}\r\n                    minuteStep={15}\r\n                    disabled\r\n                    style={{ minWidth: \"20vw\", background: \"transparent\" }}\r\n                    onChange={(e) =>\r\n                      setFieldValue(\r\n                        id,\r\n                        e?.format(\"ddd, MMM DD, YYYY @ hh:mm A\")\r\n                      )\r\n                    }\r\n                    value={moment(values[id])}\r\n                  />\r\n                ) :\r\n                id === \"duration\"?   \r\n                \r\n            (<Select\r\n            style={{ width: \"100%\" }}\r\n            defaultValue='1 hour'\r\n            onChange={(e) => {\r\n              const hour = Number(e) || 1;\r\n              setFieldValue('ends', moment(values.starts).add('hour', hour).format(\"ddd, MMM DD, YYYY @ hh:mm A\"))\r\n            }}\r\n          >\r\n            {[1,2,3].map((v) => (\r\n              <Select.Option value={v}>{v} hour</Select.Option>\r\n            ))}\r\n          </Select>):\r\n                (\r\n                  <Input\r\n                    style={{ minWidth: \"20vw\", background: \"transparent\" }}\r\n                    name={id}\r\n                    disabled={defaultValues? defaultValues[id]? true: false : false}\r\n                    value={values[id]}\r\n                    onChange={handleChange}\r\n                    placeholder={placeholder}\r\n                  />\r\n                )}\r\n              </div>\r\n            )\r\n          )}\r\n <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              Permit Type\r\n            </Text>\r\n\r\n            <Select\r\n              disabled\r\n              style={{ width: \"100%\" }}\r\n              value={values.type}\r\n              onChange={(e) => setFieldValue(\"type\", e) }\r\n            >\r\n              {Object.keys(PermitType).map((v) => (\r\n                <Select.Option value={v}>{v}</Select.Option>\r\n              ))}\r\n            </Select>\r\n          </div>\r\n\r\n          <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              Department\r\n            </Text>\r\n\r\n            <Select\r\n              disabled\r\n              style={{ width: \"100%\" }}\r\n              value={values.employer}\r\n              onChange={(e) => setFieldValue(\"employer\", e)}\r\n            >\r\n              {clients.map((v: Client, i: number) => (\r\n                <Select.Option value={i}>{v.name}</Select.Option>\r\n              ))}\r\n            </Select>\r\n          </div>\r\n          <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              City\r\n            </Text>\r\n\r\n            <Select\r\n              disabled\r\n              style={{ width: \"100%\" }}\r\n              defaultValue={defaultLocation}\r\n              onChange={(e) => setFieldValue(\"zone\", e)}\r\n            >\r\n              <Select.Option value={defaultLocation}>\r\n                {defaultLocation}\r\n              </Select.Option>\r\n\r\n              <Select.Option value={'Palo Alto'}>\r\n                {'Palo Alto'}\r\n              </Select.Option>\r\n            </Select>\r\n          </div>\r\n\r\n      \r\n          <div style={{ paddingTop: \".5em\" }}>\r\n            <Text textAlign=\"left\" color={primaryColor} bold>\r\n              Zone\r\n            </Text>\r\n\r\n            <Select\r\n              disabled\r\n              style={{ width: \"100%\" }}\r\n              value={values.zone}\r\n              onChange={(e) => setFieldValue(\"zone\", e)}\r\n            >\r\n              {Object.values(Zone).map((v) => (\r\n                <Select.Option value={v}>{v}</Select.Option>\r\n              ))}\r\n            </Select>\r\n          </div>\r\n         \r\n          <div style={{ gridColumn: \"span 2\", display: \"grid\" }}>\r\n            <Button.Normal\r\n              style={{\r\n                borderRadius: \"1.3em\",\r\n                padding: \".5em\",\r\n                marginTop: \"1em\",\r\n                ...(!error\r\n                  ? {\r\n                      backgroundImage: `${gradient}`,\r\n                      color: \"white\",\r\n                      border: 0,\r\n                    }\r\n                  : {}),\r\n              }}\r\n              type=\"submit\"\r\n              disabled={error}\r\n              onSubmit={(e: any) => handleSubmit(e)}\r\n            >\r\n              Reserve E-Permit\r\n            </Button.Normal>\r\n          </div>\r\n        </Grid>\r\n      </form>\r\n    </Grid>\r\n  );\r\n};\r\nexport default Form;\r\n","import React from \"react\";\r\nimport Layout from \"../../layout\";\r\nimport { Grid, Header } from \"platyplex_ui\";\r\nimport img from \"../../assets/logo.png\";\r\nimport Form from \"./form\";\r\n\r\nconst Client = () => {\r\n  return (\r\n    <Layout style={{ gridTemplateRows: \"1fr auto\", background: 'white' }}>\r\n      <Grid\r\n        placeItems=\"stretch center\"\r\n        customRows=\"auto 1fr\"\r\n        height=\"100%\"\r\n        style={{ maxWidth: \"1300px\", margin: \"2em auto\" }}\r\n      >\r\n        <img src={img} style={{width: '10em', maxWidth: \"90vw\"}}/>\r\n        <Form admin={false}/>\r\n      </Grid>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Client;\r\n","import React from \"react\";\r\nimport { Card, Grid , Button } from \"platyplex_ui\";\r\nimport { primaryTxtColor } from \"../../config\";\r\n\r\ninterface Props {\r\n    children: JSX.Element;\r\n    style?: React.CSSProperties;\r\n    confirmText ?: string | JSX.Element;\r\n    cancelText?: string | JSX.Element;\r\n    onConfirm ?:() => void;\r\n    onCancel ?: ()=> void\r\n}\r\n\r\nconst PrimaryModal = ({\r\n    children,\r\n    style,\r\n    confirmText,\r\n    cancelText,\r\n    onConfirm,\r\n    onCancel\r\n}: Props) => (\r\n    <Grid height=\"100%\">\r\n        <Card shadow padding={0} width={\"350px\"} style={style}>\r\n            {children}\r\n\r\n            { onCancel && <Grid placeSelf=\"stretch\" placeItems=\"stretch\" gridGap={\"0\"} customCols='1fr 1fr'>\r\n            <Button\r\n              invert\r\n              bg={primaryTxtColor}\r\n              noBorder\r\n              style={{ boxShadow: `0 0 0` }}\r\n              onClick={onConfirm}\r\n            >\r\n              {confirmText || 'Confirm'}\r\n            </Button>\r\n\r\n            <Button\r\n              invert\r\n              bg={primaryTxtColor}\r\n              noBorder\r\n              style={{ boxShadow: `0 0 0` }}\r\n              onClick={onCancel}\r\n            >\r\n              {cancelText || 'Cancel'}\r\n            </Button>\r\n          </Grid>}\r\n        </Card>\r\n    </Grid>\r\n);\r\n\r\nexport default PrimaryModal;","import { useRef } from \"react\";\r\nimport { message } from \"antd\";\r\n\r\nconst useCopy = () => {\r\n    const ref = useRef<any>(null);\r\n\r\n    const copy = (text: string, userMessage = \"Link Copied\") => {\r\n        try {\r\n            let tempInput = document.createElement(\"input\");\r\n            tempInput.value = text;\r\n            document.body.appendChild(tempInput);\r\n            tempInput.select();\r\n            document.execCommand(\"copy\");\r\n            document.body.removeChild(tempInput);\r\n            \r\n            message.success(userMessage);\r\n        } catch (e) {\r\n            window.prompt(\"Copy to clipboard: Ctrl+C, Enter\", text);\r\n        }\r\n    };\r\n\r\n    return {\r\n        ref,\r\n        copy\r\n    };\r\n};\r\n\r\n\r\nexport default useCopy;\r\n","import { useState, useEffect } from 'react';\r\nimport API from '../api'\r\n\r\nimport { asyncHandler } from \"../utils\";\r\n\r\ninterface State {\r\n  config? : any;\r\n  loading: boolean;\r\n  error: boolean; \r\n}\r\nexport const useConfig= () => {\r\n  const [state, setter] = useState<State>({\r\n    config: undefined,\r\n    loading: false,\r\n    error: false,\r\n  });\r\n\r\n  const setState = (obj: any) => setter({ ...state, ...obj });\r\n\r\n  const getConfig = async() => {\r\n    setState({ loading: true, error: false });\r\n    const {config, success } = await asyncHandler({\r\n      apiCall: () => API.getConfig(),\r\n    });\r\n    setState({ loading: false, error: !success, config });\r\n  };\r\n\r\n\r\n\r\n  useEffect(() => {\r\n      getConfig();\r\n  }, []);\r\n\r\n  return state;\r\n};\r\n\r\nexport default useConfig;\r\n","import React from \"react\";\r\nimport Layout from \"../../layout\";\r\nimport { Grid, Text, Button, Modal } from \"platyplex_ui\";\r\nimport PrimaryModal from \"../../components/primary-modal\";\r\nimport { Input } from \"antd\";\r\nimport useCopy from \"../../hooks/copy\";\r\nimport useConfig from \"../../hooks/config\";\r\n\r\nconst Help = () => {\r\n  const {  copy } = useCopy();\r\n\r\n  const { config } = useConfig();\r\n  const phone = config?.help?.phone;\r\n  const email = config?.help?.email;\r\n\r\n\r\n  const TextModal = Modal({\r\n    title: \"\",\r\n    modal: (\r\n      <PrimaryModal\r\n        cancelText=\"Cancel\"\r\n        onCancel={() => TextModal.close()}\r\n        confirmText='Open app'\r\n        onConfirm={() => {window.location.href = `sms:${phone}`}}\r\n      >\r\n        <Grid gridGap=\".25em\" padding=\"1em\">\r\n          <Text bold size='1.2em'>Text us at: </Text>\r\n          <Input  \r\n            value={phone} \r\n            className='pointer' \r\n            onClick={()=>copy(phone, 'Number Copied')} \r\n            suffix={<i className='fa fa-clipboard' onClick={()=>copy(phone, 'Number Copied')}/>} \r\n          />\r\n         \r\n        </Grid>\r\n      </PrimaryModal>\r\n    ),\r\n    hideCancel: true,\r\n  });\r\n\r\n  const CallModal = Modal({\r\n    title: \"\",\r\n    modal: (\r\n      <PrimaryModal\r\n        cancelText=\"Cancel\"\r\n        onCancel={() => CallModal.close()}\r\n        confirmText='Open app'\r\n        onConfirm={() => {window.location.href = `tel:${phone}`}}\r\n      >\r\n        <Grid gridGap=\".25em\" padding=\"1em\">\r\n          <Text bold size='1.2em'>Call us at: </Text>\r\n          <Input  \r\n            value={phone} \r\n            className='pointer' \r\n            onClick={()=>copy(phone, 'Number Copied')} \r\n            suffix={<i className='fa fa-clipboard'  onClick={()=>copy(phone, 'Number Copied')}/>} \r\n          />\r\n         \r\n        </Grid>\r\n      </PrimaryModal>\r\n    ),\r\n    hideCancel: true,\r\n  });\r\n  return (\r\n    <Layout sidebar style={{ gridTemplateRows: \"1fr auto\" }}>\r\n      <Layout.Top>\r\n        <span />\r\n      </Layout.Top>\r\n      <Layout.Bottom>\r\n        <Grid\r\n          placeItems=\"start stretch\"\r\n          padding=\"1em\"\r\n          height=\"100%\"\r\n          gridGap='.5em'\r\n          style={{\r\n            width: 1200,\r\n            maxWidth: \"100vw\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n          }}\r\n        >\r\n         <Text  color='white'>ParkStash support team is available 24/7 to help with any issues or questions you may have.</Text>\r\n         <Text  color='white'>Contact us via any options below and we will get back to right away!</Text>\r\n          <Grid padding='2em 0 0 0'>\r\n            <Button onClick={TextModal.open}>Text us</Button>\r\n            <Button onClick={CallModal.open}>Call us</Button>\r\n            <a href={`mailto:${email}`}><Button>Email us</Button></a>\r\n         </Grid>\r\n        </Grid>\r\n      </Layout.Bottom>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Help;\r\n","import React from \"react\";\r\nimport Layout from \"../../layout\";\r\nimport { Grid, Text } from \"platyplex_ui\";\r\nimport { moment } from '../../utils/time'\r\nimport ParkstashText from '../../components/parkstash-text';\r\n\r\nconst Legal = () => {\r\n  \r\n  return (\r\n    <Layout sidebar style={{ gridTemplateRows: \"1fr auto\" }} hideFooter>\r\n      <Layout.Bottom shiftUp={false}>\r\n        <Grid\r\n          placeItems=\"start stretch\"\r\n          padding=\"1em\"\r\n          height=\"100%\"\r\n          gridGap='.5em'\r\n         \r\n          style={{\r\n            width: 1200,\r\n            maxWidth: \"100vw\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n          }}\r\n        >\r\n         <Text>Patent Pending</Text>\r\n        \r\n         <Text >\r\n                    © 2018-{moment().year().toString()} <ParkstashText />, All Rights Reserved\r\n        </Text>\r\n\r\n        <a href='https://www.findparkstash.com/terms-and-conditions'>Terms and Conditions</a>\r\n         <a href='https://www.findparkstash.com/privacy-policy'>Privacy Policy</a>\r\n        </Grid>\r\n      </Layout.Bottom>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Legal;\r\n","import React from \"react\";\r\nimport Layout from \"../layout\";\r\nimport { Grid, Card, Text } from \"platyplex_ui\";\r\nimport { ENTERPRISE_GEO_LOCATION_URL, primaryColor } from \"../config\";\r\nimport user from \"../assets/user.svg\";\r\nimport permitt from \"../assets/permit.svg\";\r\nimport { Permit, RootPermit } from \"../store/reducer/permit\";\r\nimport Form from \"./client/form\";\r\nimport { useSelector } from \"react-redux\";\r\nconst SubVisitor = ({\r\n  permit,\r\n  rootPermit,\r\n  name\r\n}: {\r\n  permit: Permit | RootPermit;\r\n  rootPermit: RootPermit\r\n  name?: string;\r\n}) => {\r\n  return (\r\n    <Layout style={{ gridTemplateRows: \"1fr auto\" }} avatarImg={user}>\r\n      <Layout.Top noBackground>\r\n          <span/>\r\n      </Layout.Top>\r\n      <Layout.Bottom>\r\n        <Grid\r\n          placeItems=\"start stretch\"\r\n          padding=\"1em\"\r\n          height=\"100%\"\r\n          gridGap=\".5em\"\r\n          style={{\r\n            width: 1400,\r\n            maxWidth: \"100vw\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n          }}\r\n        >\r\n          <Card grid placeItems=\"end start\">\r\n            <Text bold size={\"1.2em\"} className='capitalize'>\r\n              Hello, {name || permit.firstName}!\r\n            </Text>\r\n          </Card>\r\n         \r\n          <PermitCard permit={permit} rootPermit={rootPermit}/>\r\n        </Grid>\r\n      </Layout.Bottom>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport const PermitCard = ({\r\n  permit,\r\n  rootPermit,\r\n}: {\r\n  permit: Permit | RootPermit;\r\n  rootPermit: RootPermit\r\n})=>{  \r\n  const { clients } = useSelector((state: any) => state.clients);\r\n  return  !permit.firstName?\r\n  <Form admin={false} defaultValues={permit} rootPermitId={permit._id === rootPermit._id? undefined: rootPermit._id}/>:\r\n  \r\n  <Card grid>\r\n  <div style={{maxWidth: '90vw', width: 700}}>\r\n    <Text bold  textAlign=\"right\" color={primaryColor}>\r\n      ({Math.abs(3 - rootPermit.residential.length)}/3) Residents Permit Remaining\r\n    </Text>\r\n    <Text bold  textAlign=\"right\" color={primaryColor}>\r\n      ({Math.abs(2 - rootPermit.visitor.length)}/2) Visitors Remaining\r\n    </Text>\r\n  <Card grid shadow customCols='200px 1fr' placeItems='stretch' gridGap='.3em 2em'>\r\n  <Text bold  textAlign=\"left\" >\r\n    Epermit ID:  {permit._id?.substring(0,5) || '4GH68943'}\r\n    </Text>\r\n    <Text bold textAlign=\"left\" color={primaryColor}>\r\n     Type :  {permit.type} \r\n    </Text>\r\n    <img\r\n      src={permitt}\r\n      alt=\"Mail\"\r\n      style={{ width: 200, margin: \"auto\" , gridRow: 'span 8'}}\r\n    />\r\n  \r\n    \r\n    <Text bold textAlign=\"left\">\r\n    Full Name:  {permit.firstName} {permit.lastName}\r\n    </Text>\r\n\r\n    <Text bold  textAlign=\"left\">\r\n    Email Address:  {permit.email}\r\n    </Text>\r\n\r\n    <Text bold  textAlign=\"left\">\r\n    Phone #:  {permit.phone}\r\n    </Text>\r\n    <Text bold  textAlign=\"left\">\r\n    Department:  {clients[permit.employer]?.name || 'Computer Science'}\r\n    </Text>\r\n\r\n    <Text bold  textAlign=\"left\">\r\n    Location:  <a href={ENTERPRISE_GEO_LOCATION_URL} target='_'>\r\n    Palo Alto, CA<i className='fa fa-map-marker'/> </a>\r\n    </Text>\r\n    <Text bold textAlign=\"left\">\r\n    Vehicle License Plate #:  {permit.liscensePlate} \r\n    </Text>\r\n\r\n\r\n    <Text bold  textAlign=\"left\" color={'red'}>\r\n    Epermit Expiry Date :  {permit.ends} \r\n    </Text>\r\n  </Card>\r\n  </div>\r\n</Card>\r\n}\r\n\r\nexport default SubVisitor;\r\n","import React, { useState } from \"react\";\r\nimport Layout from \"../../../layout\";\r\nimport { Grid, Switch, Card, Text } from \"platyplex_ui\";\r\nimport { primaryColor, primaryTxtColor, url } from \"../../../config\";\r\nimport History from \"./history\";\r\nimport user from \"../../../assets/user.svg\";\r\nimport Form from \"../../client/form\";\r\nimport { Permit, RootPermit } from \"../../../store/reducer/permit\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { addResidence } from \"../../../store/actions/permits\";\r\nimport {PermitCard } from \"../../sub-visitor\";\r\n\r\ninterface Body {\r\n  firstName: string;\r\n  lastName: string;\r\n  email: string;\r\n  liscensePlate: string;\r\n  phone: string;\r\n  vaccine: string;\r\n  date: string;\r\n  location: string;\r\n  space: number;\r\n}\r\n\r\nenum User {\r\n  PERMIT  = \"PERMIT\",\r\n  GENERATE = \"GENERATE\",\r\n  HISTORY = \"HISTORY\",\r\n}\r\n\r\nconst Visitor = ({ rootPermit, name, index, permit }: { permit: Permit, rootPermit: RootPermit,  name?: string, index: number}) => {\r\n  const [state, setter] = useState<any>({\r\n    as: User.PERMIT,\r\n  });\r\n  const dispatch = useDispatch();\r\n  const setState = (props: any) => setter({ ...state, ...props });\r\n  return (\r\n    <Layout  style={{ gridTemplateRows: \"1fr auto\" }} avatarImg={user}>\r\n      <Layout.Top noBackground>\r\n   \r\n      </Layout.Top>\r\n      <Layout.Bottom>\r\n        <Grid\r\n          placeItems=\"start stretch\"\r\n          padding=\"1em\"\r\n          height=\"100%\"\r\n          gridGap=\".5em\"\r\n          style={{\r\n            width: 1400,\r\n            maxWidth: \"100vw\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n          }}\r\n        >\r\n\r\n      <Card   grid placeItems=\"end start\" >\r\n          <Text bold size={'1.2em'}>Hello, {name || permit.firstName}!</Text>\r\n        </Card>\r\n          <Card grid placeItems=\"end start\" width=\"100%\">\r\n            <Switch.underlined\r\n              style={{ padding: 0 }}\r\n              onClick={(as) => setState({ as })}\r\n              color={primaryTxtColor}\r\n              border={\"4px solid \" + primaryColor}\r\n              items={Object.keys(User)}\r\n              active={state.as}\r\n            />\r\n          </Card>\r\n\r\n          {state.as === User.PERMIT? <PermitCard permit={permit} rootPermit={rootPermit} />:\r\n          \r\n          state.as === User.HISTORY ? (\r\n            <History permit={rootPermit} />\r\n          ) : (\r\n            <Card grid>\r\n              <Form\r\n                admin\r\n                partial\r\n                link={`${url}/visitor/${index}`}\r\n                length={[rootPermit.residential.length, [rootPermit.visitor.length]]}\r\n                \r\n                onSubmit={(e: Permit)=>{\r\n                  dispatch(addResidence(e, rootPermit._id, e.type))\r\n                }}\r\n                header={\r\n                  <div>\r\n                    <Text bold textAlign=\"right\" color={primaryColor}>\r\n                      ({3- rootPermit.residential.length}/3) Residents Permit Remaining\r\n                    </Text>\r\n                    <Text bold textAlign=\"right\" color={primaryColor}>\r\n                      ({2 - rootPermit.visitor.length}/2) Visitors Remaining\r\n                    </Text>\r\n                  </div>\r\n                }\r\n              />\r\n            </Card>\r\n          )}\r\n        </Grid>\r\n      </Layout.Bottom>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Visitor;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Grid, Notification } from \"platyplex_ui\";\r\nimport ReactCodeInput from \"react-verification-code-input\";\r\n\r\nconst Otp = ({ authenticate }: { authenticate: () => void }) => {\r\n  const [otp, setOtp] = useState(\"\");\r\n  useEffect(() => {\r\n    if (otp === \"6194\") {\r\n      localStorage.setItem('AUTH', 'true')\r\n      authenticate();\r\n    } else if (otp.length === 4) {\r\n      Notification.error({ title: \"Error\", message: \"Wrong Code!\" });\r\n    }\r\n  }, [otp]);\r\n  return (\r\n    <Grid>\r\n      <Grid style={{ width: \"100%\" }} gridGap=\"2em\">\r\n        <ReactCodeInput\r\n          values={otp.split(\"\")}\r\n          onChange={(e) => setOtp(e.trim())}\r\n          fields={4}\r\n        />\r\n\r\n        {/* <Grid cols=\"1\" placeItems=\"center\" width=\"100%\">\r\n            <Button\r\n              bg={gradient}\r\n              noHover\r\n              padding=\".5em 1.5em\"\r\n              rounded\r\n              onClick={() => {         \r\n              }}\r\n            >\r\n              Submit\r\n            </Button>\r\n          </Grid> */}\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Otp;\r\n","import React from \"react\";\r\nimport Layout from \"../../layout\";\r\nimport { Grid, Text } from \"platyplex_ui\";\r\nimport Otp from './otp';\r\n\r\nconst Login = ({ authenticate }: { authenticate: ()=> void }) => {\r\n  return (\r\n    <Layout sidebar={false} style={{ gridTemplateRows: \"1fr auto\" }}>\r\n      <Layout.Top>\r\n        <span />\r\n      </Layout.Top>\r\n      <Layout.Bottom>\r\n        <Grid\r\n          placeItems=\"start stretch\"\r\n          padding=\"1em\"\r\n          height=\"100%\"\r\n          gridGap=\".5em\"\r\n          style={{\r\n            width: 1200,\r\n            maxWidth: \"100vw\",\r\n            marginLeft: \"auto\",\r\n            marginRight: \"auto\",\r\n          }}\r\n        >\r\n          <Text color=\"white\" bold>\r\n            Error! Unauthorized Access\r\n          </Text>\r\n          <br />\r\n          <br />\r\n          <Text color=\"white\" bold>\r\n            Type in the Code to gain access\r\n          </Text>\r\n\r\n          <Otp authenticate={authenticate}/>\r\n        </Grid>\r\n      </Layout.Bottom>\r\n    </Layout>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Route, Switch } from \"react-router-dom\";\r\nimport ErrorBoundary from \"antd/lib/alert/ErrorBoundary\";\r\nimport { Loader } from \"platyplex_ui\";\r\nimport { Home, Epermits, Map, Events, Electric, VehiclePermit } from \"./pages\";\r\nimport logo from \"./assets/parkstash_logo.png\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { Client as ClientType } from \"./store/reducer/clients\";\r\nimport Help from \"./pages/help\";\r\nimport Legal from \"./pages/legal\";\r\nimport SubVisitor from \"./pages/sub-visitor\";\r\nimport Visitor from \"./pages/visitor/calpoly\";\r\nimport { Permit, RootPermit } from \"./store/reducer/permit\";\r\nimport Login from \"./pages/login\";\r\n\r\nexport const toRoute = (str: string) => str.toLowerCase().replace(/\\s+/g, \"-\");\r\n\r\nfunction App() {\r\n  const [state, setState] = useState({\r\n    loading: true,\r\n    auth: false,\r\n  });\r\n  const { clients } = useSelector((s: any) => s.clients);\r\n  const { permits }: { permits: RootPermit[] } = useSelector(\r\n    (s: any) => s.permits\r\n  );\r\n  useEffect(() => {\r\n    const auth = Boolean(localStorage.getItem(\"AUTH\"));\r\n    setTimeout(() => setState({ ...state, loading: false, auth }), 2000);\r\n  }, []);\r\n\r\n  return !state.loading ? (\r\n    <ErrorBoundary>\r\n      {!state.auth ? (\r\n        <Switch>\r\n          {permits.map((p: RootPermit, i) =>\r\n            p.residential?.map((per: Permit, j) => (\r\n              <Route\r\n                exact\r\n                key={i + \"\" + j}\r\n                path={`/visitor/${i}/sub-resident/${j}`}\r\n                render={() => (\r\n                  <Visitor\r\n                    index={i}\r\n                    permit={per}\r\n                    rootPermit={p}\r\n                    name={per.firstName}\r\n                  />\r\n                )}\r\n              />\r\n            ))\r\n          )}\r\n\r\n          {permits.map((p: RootPermit, i) =>\r\n            p.visitor?.map((per: Permit, j) => (\r\n              <Route\r\n                key={i + \"\" + j}\r\n                exact\r\n                path={`/visitor/${i}/sub-visitor/${j}`}\r\n                render={() => (\r\n                  <SubVisitor\r\n                    rootPermit={p}\r\n                    permit={per}\r\n                    name={per.firstName}\r\n                  />\r\n                )}\r\n              />\r\n            ))\r\n          )}\r\n\r\n          <Route\r\n            path=\"/\"\r\n            render={() => (\r\n              <Login authenticate={() => setState({ ...state, auth: true })} />\r\n            )}\r\n          />\r\n        </Switch>\r\n      ) : (\r\n        <Switch>\r\n          <Route\r\n            exact\r\n            path={`/e-permits/vehicle`}\r\n            render={() => <VehiclePermit />}\r\n          />\r\n          {clients.map((c: ClientType) => (\r\n            <Route\r\n              exact\r\n              path={`/e-permits/:id`}\r\n              render={() => <Epermits isAdmin={false} client={c} />}\r\n            />\r\n          ))}\r\n\r\n          {permits.map((p: any, i) => (\r\n            <Route\r\n              exact\r\n              path={\"/visitor/\" + i}\r\n              render={() => (\r\n                <Visitor permit={p as any} rootPermit={p} index={i} />\r\n              )}\r\n            />\r\n          ))}\r\n\r\n          {permits.map((p: RootPermit, i) =>\r\n            p.residential?.map((per: Permit, j) => (\r\n              <Route\r\n                exact\r\n                key={i + \"\" + j}\r\n                path={`/visitor/${i}/sub-resident/${j}`}\r\n                render={() => (\r\n                  <Visitor\r\n                    index={i}\r\n                    name={per.firstName}\r\n                    permit={per}\r\n                    rootPermit={p}\r\n                  />\r\n                )}\r\n              />\r\n            ))\r\n          )}\r\n\r\n          {permits.map((p: RootPermit, i) =>\r\n            p.visitor?.map((per: Permit, j) => (\r\n              <Route\r\n                key={i + \"\" + j}\r\n                exact\r\n                path={`/visitor/${i}/sub-visitor/${j}`}\r\n                render={() => (\r\n                  <SubVisitor\r\n                    rootPermit={p}\r\n                    permit={per}\r\n                    name={per.firstName}\r\n                  />\r\n                )}\r\n              />\r\n            ))\r\n          )}\r\n\r\n          <Route exact path=\"/citations/:id\" render={() => <Events />} />\r\n          <Route exact path=\"/e-permits\" render={() => <Epermits />} />\r\n          <Route exact path=\"/map\" render={() => <Map />} />\r\n          <Route exact path=\"/legal\" render={() => <Legal />} />\r\n          <Route\r\n            exact\r\n            path=\"/enforment-electric-vehicles-dashboard\"\r\n            render={() => <Electric />}\r\n          />\r\n          <Route exact path=\"/help\" render={() => <Help />} />\r\n          <Route path=\"/\" render={() => <Home />} />\r\n        </Switch>\r\n      )}\r\n    </ErrorBoundary>\r\n  ) : (\r\n    <Loader.Custom logo={logo} />\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\ntype Config = {\r\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\r\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\r\n};\r\n\r\nexport function register(config?: Config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(\r\n      process.env.PUBLIC_URL,\r\n      window.location.href\r\n    );\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl: string, config?: Config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","  \r\nimport React, { createContext } from 'react';\r\n\r\nconst initialState = {\r\n  sidebar: false,\r\n  toggleSidebar: ()=>{},\r\n  collapsed: true,\r\n  toggleCollapsed : (b = false)=>{}\r\n}\r\nexport const NavContext = createContext(initialState);\r\n\r\nexport class NavProvider extends React.Component {\r\n\r\n  toggleSidebar = ()=> {this.setState({ sidebar : !this.state.sidebar})};\r\n  \r\n  toggleCollapsed = (collapsed = false)=> this.setState({ collapsed });\r\n  state = {\r\n    ...initialState,\r\n    toggleSidebar : this.toggleSidebar,\r\n    toggleCollapsed: this.toggleCollapsed\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <NavContext.Provider value={this.state}>\r\n        {this.props.children}\r\n      </NavContext.Provider>\r\n    );\r\n  }\r\n}\r\n\r\nexport const NavConsumer = NavContext.Consumer;","\r\nimport React from 'react';\r\nimport { NavProvider } from './context/nav-context';\r\nimport { createGlobalStyle } from \"styled-components\";\r\nimport { disabledTxtColor,  primaryColor, primaryTxtColor } from './config';\r\nimport 'platyplex_ui/styles/main.css';\r\nimport 'antd/dist/antd.css';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store';\r\n\r\nconst GlobalStyle = createGlobalStyle`\r\n\r\n  html,body{\r\n    font-size: 16px;\r\n    font-family: 'Roboto', sans-serif;\r\n  }\r\n   .highlight:hover{\r\n    transition: 500ms ease-out;\r\n    box-shadow: 0 0.25em 0.3em ${primaryColor};\r\n   }\r\n\r\n  .ant-btn-primary, .ant-btn{\r\n    border-radius: .3em;\r\n    box-shadow: 0 .1em .1em rgba(0,0,0,.2);\r\n  }\r\n  ant-radio-input{\r\n    border: 1px solid grey;\r\n  }\r\n  .ant-btn-primary, .ant-radio-checked .ant-radio-inner,  .ant-radio-inner:hover {\r\n    border-color: ${primaryColor} !important;\r\n  }\r\n\r\n  .ant-btn-primary, .ant-radio-inner::after{\r\n    background-color: ${primaryColor} !important;\r\n  }\r\n\r\n  .ant-pagination-item, .ant-pagination-item-active a, .ant-select-selector:hover{\r\n    border-radius: .3em;\r\n    color: black !important;\r\n    border-color: ${primaryColor} !important;\r\n  }\r\n\r\n  .ant-select-selector{\r\n    border-radius: .4em !important;\r\n  }\r\n\r\n  .ant-picker {\r\n    border-color: #d9d9d9;\r\n  }\r\n\r\n  .ant-select-show-search.ant-select-multiple .ant-select-selector{\r\n    height: 40px;\r\n    overflow-y: auto;\r\n  }\r\n\r\n  input:focus, textarea:focus, .ant-picker-focused, input:hover, textarea:hover, .ant-picker:hover, .ant-input-number-input{\r\n    border-color: transparent !important;\r\n  }\r\n\r\n   .ant-input-affix-wrapper, .ant-input:placeholder-shown, .ant-input, .ant-select-selector, .ant-input-number-input {\r\n    border: 0 !important;\r\n    border-radius: 0;\r\n    border-bottom: 1px solid ${disabledTxtColor}!important;\r\n  }\r\n\r\n  input:focus, input:hover, .ant-input-affix-wrapper:hover, .ant-input-affix-wrapper-focused, .ant-input:placeholder-shown:focus, .ant-input:focus, .ant-input:hover, .ant-input:placeholder-shown:hover {\r\n    border-color: ${primaryColor} !important;\r\n  }\r\n\r\n  .ant-input-affix-wrapper > .ant-input, .ant-picker{\r\n    border: 0 !important;\r\n  }\r\n  \r\n  .ant-btn-primary:hover, .ant-btn-primary:focus, .ant-btn-primary:active, .ant-btn:hover, .ant-btn:focus, .ant-btn:active {\r\n    color: ${primaryColor} !important;\r\n    border-color: ${primaryColor};\r\n    background: white;\r\n    transition: 200ms ease;\r\n    box-shadow: 0 0 0;\r\n  }\r\n  \r\n  .ant-table-cell{\r\n    max-width: 300px;\r\n    font-size: 15px;\r\n  }\r\n  \r\n  .custom > button {\r\n   border-radius: 1em !important;\r\n  }\r\n  \r\n  .custom > button > div, .custom > button > span {\r\n    padding: 5px 5px 5px 10px !important;\r\n   }\r\n   \r\n   input, input:focus, input:hover {\r\n    outline:none !important;\r\n  }\r\n\r\n  [type=\"tel\"]{\r\n    border: 1px solid ${primaryColor} !important;\r\n  }\r\n  .med{\r\n    font-weight: 500;\r\n  }\r\n  .react-tel-input{\r\n    width: auto;\r\n  }\r\n  .focus-show{\r\n    display: none;\r\n  } \r\n  .focus:focus + .focus-show, [type=\"password\"]:focus + .focus-show{\r\n    display: block !important;\r\n  } \r\n\r\n  .ant-drawer-content-wrapper{\r\n    max-width: 90vw !important;\r\n  }\r\n  .ant-menu-inline, .ant-menu-vertical, .ant-menu-vertical-left {\r\n    border: 0 !important;\r\n  }\r\n  .ant-switch-checked{\r\n    background: ${primaryColor}!important;\r\n  }\r\n\r\n  .ant-popover-placement-bottom{\r\n    z-index: 1;\r\n  }\r\n  .ant-picker-calendar-header .ant-picker-calendar-mode-switch{\r\n    display: none;\r\n  }\r\n\r\n  .ant-picker-calendar-mini .ant-picker-calendar-header {\r\n      display: grid;\r\n      grid-template-columns: 1fr 1fr;\r\n  }\r\n  .white-txt{\r\n    color: white;\r\n  }\r\n  .disable{\r\n    background: ${disabledTxtColor};\r\n  }\r\n  .hide{\r\n    display: none !important;\r\n  }\r\n\r\n  .pop{\r\n    transform: translateY(-10px);\r\n    transition: 200ms ease;\r\n  }\r\n\r\n  .slide-left {\r\n    animation: slide-left 300ms linear;\r\n  }\r\n  \r\n  \r\n  @keyframes slide-left {\r\n    0% {\r\n      transform: translate(-200px, 0%);\r\n      opacity: (0);\r\n    }\r\n    100% {\r\n      transform: translate(0, 0);\r\n      opacity: (1);\r\n    }\r\n  }\r\n\r\n.StripeElement--webkit-autofill {\r\n  background: transparent !important;\r\n}\r\n\r\n.StripeElement {\r\n  width: 100%;\r\n  padding: 11px 15px 11px 0;\r\n}\r\n\r\n.ant-picker, .ant-picker-focused, .ant-picker:hover {\r\n    border-bottom: 1px solid ${primaryTxtColor} !important;\r\n}\r\n.dates > .ant-picker, .dates > .ant-picker-focused, .dates > .ant-picker:hover{\r\n  border: 0 !important;\r\n}\r\n   `;\r\n\r\nconst Main = ({ children }: any) => (\r\n  <NavProvider>\r\n  <Provider store={store}>\r\n        <GlobalStyle />\r\n        {children}\r\n      </Provider>\r\n  </NavProvider>\r\n);\r\n\r\nexport default Main;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport * as Sentry from '@sentry/browser';\r\nimport  { BrowserRouter as Router }  from 'react-router-dom';\r\nimport Providers from './providers';\r\nimport { config } from 'platyplex_ui';\r\nimport * as defaultConfig from './config'\r\n\r\nconfig.setProps(defaultConfig);\r\nSentry.init({dsn: \"https://66ec245dbeed4c95a166a788bcf4f7ae@o410541.ingest.sentry.io/5284571\"});\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Providers>\r\n      <Router>\r\n    <App />\r\n    </Router>\r\n    </Providers>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\nserviceWorker.unregister();"],"sourceRoot":""}